--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 13:10:02

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  13:10:02  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(note: file D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt not found)
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. 
. do sub_do/diagnostics.do `dep_vlist' `indep_vlist'

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts

. STOP!!
unrecognized command:  STOP
r(199);

end of do-file
r(199);

end of do-file

r(199);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 13:13:48

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  13:13:48  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. 
. do sub_do/diagnostics.do `dep_vlist' `indep_vlist'

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts

. 
. qui reg  `dep_vlist' `indep_vlist' i.pid
factor variables not allowed
r(101);

end of do-file
r(101);

end of do-file

r(101);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 13:17:48

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  13:17:48  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. 
. macro list _dep_vlist _indep_vlist
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. STOP!!
unrecognized command:  STOP
r(199);

end of do-file

r(199);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 13:18:24

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  13:18:24  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. 
. macro list _dep_vlist _indep_vlist
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. qui reg  `dep_vlist' `indep_vlist' i.pid
factor variables not allowed
r(101);

end of do-file
r(101);

end of do-file

r(101);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 13:19:22

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  13:19:22  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. 
. macro list _dep_vlist _indep_vlist
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. reg  `dep_vlist' `indep_vlist' i.pid
factor variables not allowed
r(101);

end of do-file
r(101);

end of do-file

r(101);

. tsset
       panel variable:  pid (unbalanced)
        time variable:  year, 1999 to 2007, but with gaps
                delta:  1 unit

. help tsset

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 13:20:34

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  13:20:34  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. 
. macro list _dep_vlist _indep_vlist
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. tsset, clear

. reg  `dep_vlist' `indep_vlist' i.pid
factor variables not allowed
r(101);

end of do-file
r(101);

end of do-file

r(101);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 13:21:01

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  13:21:01  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. 
. macro list _dep_vlist _indep_vlist
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. tsset, clear

. codebook `dep_vlist' `indep_vlist'

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lntotalspecificcosts                                                                                                                                     (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (float)

                 range:  [5.529429,14.090319]         units:  1.000e-07
         unique values:  26753                    missing .:  0/28753

                  mean:   10.5903
              std. dev:   .836316

           percentiles:        10%       25%       50%       75%       90%
                           9.56864   10.0137   10.5707   11.1356   11.6678

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lndairyproducts                                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (float)

                 range:  [8.2687321,15.750649]        units:  1.000e-07
         unique values:  9516                     missing .:  6/28753

                  mean:   12.5815
              std. dev:   .769625

           percentiles:        10%       25%       50%       75%       90%
                           11.6492   12.0459   12.5592   13.0751   13.5789

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPTotalCattle                                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (float)

                 range:  [-.11541088,.12416264]       units:  1.000e-09
         unique values:  8                        missing .:  0/28753

            tabulation:  Freq.  Value
                          3549  -.11541088
                          3227  -.08012607
                          3297  -.06613982
                          3149  -.05762911
                          3224  0
                          3276  .03246718
                          3126  .05448818
                          5905  .12416264

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPCompoundfeedingstuffsforcatt                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (float)

                 range:  [4.5622625,4.8528113]        units:  1.000e-07
         unique values:  31                       missing .:  0/28753

                  mean:    4.6538
              std. dev:    .06945

           percentiles:        10%       25%       50%       75%       90%
                           4.59208   4.60517   4.64439   4.68028   4.74319

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPFERTILISERSANDSOILIMPROVERS                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (float)

                 range:  [4.5174313,5.1363864]        units:  1.000e-07
         unique values:  32                       missing .:  0/28753

                  mean:   4.74787
              std. dev:   .142251

           percentiles:        10%       25%       50%       75%       90%
                           4.53582   4.66908   4.74145   4.82431   4.96494

. reg  `dep_vlist' `indep_vlist' i.pid
factor variables not allowed
r(101);

end of do-file
r(101);

end of do-file

r(101);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 13:23:16

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  13:23:16  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "dep_vlist indep_vlist"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }
variable dep_vlist not found
r(111);

end of do-file

r(111);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 13:24:04

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  13:24:04  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. tsset, clear

. codebook `dep_vlist' `indep_vlist'

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lntotalspecificcosts                                                                                                                                     (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [5.529429,14.090319]         units:  1.000e-07
         unique values:  26753                    missing .:  0/28753

                  mean:   10.5903
              std. dev:   .836316

           percentiles:        10%       25%       50%       75%       90%
                           9.56864   10.0137   10.5707   11.1356   11.6678

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lndairyproducts                                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [8.2687321,15.750649]        units:  1.000e-07
         unique values:  9516                     missing .:  6/28753

                  mean:   12.5815
              std. dev:   .769625

           percentiles:        10%       25%       50%       75%       90%
                           11.6492   12.0459   12.5592   13.0751   13.5789

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPTotalCattle                                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [-.11541088,.12416264]       units:  1.000e-09
         unique values:  8                        missing .:  0/28753

            tabulation:  Freq.  Value
                          3549  -.11541088
                          3227  -.08012607
                          3297  -.06613982
                          3149  -.05762911
                          3224  0
                          3276  .03246718
                          3126  .05448818
                          5905  .12416264

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPCompoundfeedingstuffsforcatt                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5622625,4.8528113]        units:  1.000e-07
         unique values:  31                       missing .:  0/28753

                  mean:    4.6538
              std. dev:    .06945

           percentiles:        10%       25%       50%       75%       90%
                           4.59208   4.60517   4.64439   4.68028   4.74319

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPFERTILISERSANDSOILIMPROVERS                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5174313,5.1363864]        units:  1.000e-07
         unique values:  32                       missing .:  0/28753

                  mean:   4.74787
              std. dev:   .142251

           percentiles:        10%       25%       50%       75%       90%
                           4.53582   4.66908   4.74145   4.82431   4.96494

. reg  `dep_vlist' `indep_vlist' i.pid
factor variables not allowed
r(101);

end of do-file
r(101);

end of do-file

r(101);

. codebook pid

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
pid                                                                                                                                      ID (unique for whole panel)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (float)

                 range:  [1,7742]                     units:  1
         unique values:  7709                     missing .:  0/28753

                  mean:   3509.34
              std. dev:    2307.2

           percentiles:        10%       25%       50%       75%       90%
                               609      1516      3020      5452      7011

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 13:25:47

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  13:25:47  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. tsset, clear

. codebook `dep_vlist' `indep_vlist'

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lntotalspecificcosts                                                                                                                                     (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [5.529429,14.090319]         units:  1.000e-07
         unique values:  26753                    missing .:  0/28753

                  mean:   10.5903
              std. dev:   .836316

           percentiles:        10%       25%       50%       75%       90%
                           9.56864   10.0137   10.5707   11.1356   11.6678

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lndairyproducts                                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [8.2687321,15.750649]        units:  1.000e-07
         unique values:  9516                     missing .:  6/28753

                  mean:   12.5815
              std. dev:   .769625

           percentiles:        10%       25%       50%       75%       90%
                           11.6492   12.0459   12.5592   13.0751   13.5789

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPTotalCattle                                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [-.11541088,.12416264]       units:  1.000e-09
         unique values:  8                        missing .:  0/28753

            tabulation:  Freq.  Value
                          3549  -.11541088
                          3227  -.08012607
                          3297  -.06613982
                          3149  -.05762911
                          3224  0
                          3276  .03246718
                          3126  .05448818
                          5905  .12416264

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPCompoundfeedingstuffsforcatt                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5622625,4.8528113]        units:  1.000e-07
         unique values:  31                       missing .:  0/28753

                  mean:    4.6538
              std. dev:    .06945

           percentiles:        10%       25%       50%       75%       90%
                           4.59208   4.60517   4.64439   4.68028   4.74319

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPFERTILISERSANDSOILIMPROVERS                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5174313,5.1363864]        units:  1.000e-07
         unique values:  32                       missing .:  0/28753

                  mean:   4.74787
              std. dev:   .142251

           percentiles:        10%       25%       50%       75%       90%
                           4.53582   4.66908   4.74145   4.82431   4.96494

. reg  `dep_vlist' `indep_vlist' 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  4, 28742) =40212.64
       Model |  17020.6246     4  4255.15615           Prob > F      =  0.0000
    Residual |  3041.37433 28742  .105816378           R-squared     =  0.8484
-------------+------------------------------           Adj R-squared =  0.8484
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32529

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9842823   .0025527   385.59   0.000      .979279    .9892857
                 lnPTotalCattle |  -.1877354   .0400451    -4.69   0.000    -.2662257   -.1092452
lnPCompoundfeedingstuffsforcatt |   .4729934   .0372947    12.68   0.000      .399894    .5460927
 lnPFERTILISERSANDSOILIMPROVERS |    .337648   .0272545    12.39   0.000     .2842278    .3910682
                          _cons |  -5.597614    .156219   -35.83   0.000     -5.90381   -5.291417
-------------------------------------------------------------------------------------------------

. predict r, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. lev2
unrecognized command:  lev2
r(199);

end of do-file
r(199);

end of do-file

r(199);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 13:26:11

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  13:26:11  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. tsset, clear

. codebook `dep_vlist' `indep_vlist'

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lntotalspecificcosts                                                                                                                                     (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [5.529429,14.090319]         units:  1.000e-07
         unique values:  26753                    missing .:  0/28753

                  mean:   10.5903
              std. dev:   .836316

           percentiles:        10%       25%       50%       75%       90%
                           9.56864   10.0137   10.5707   11.1356   11.6678

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lndairyproducts                                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [8.2687321,15.750649]        units:  1.000e-07
         unique values:  9516                     missing .:  6/28753

                  mean:   12.5815
              std. dev:   .769625

           percentiles:        10%       25%       50%       75%       90%
                           11.6492   12.0459   12.5592   13.0751   13.5789

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPTotalCattle                                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [-.11541088,.12416264]       units:  1.000e-09
         unique values:  8                        missing .:  0/28753

            tabulation:  Freq.  Value
                          3549  -.11541088
                          3227  -.08012607
                          3297  -.06613982
                          3149  -.05762911
                          3224  0
                          3276  .03246718
                          3126  .05448818
                          5905  .12416264

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPCompoundfeedingstuffsforcatt                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5622625,4.8528113]        units:  1.000e-07
         unique values:  31                       missing .:  0/28753

                  mean:    4.6538
              std. dev:    .06945

           percentiles:        10%       25%       50%       75%       90%
                           4.59208   4.60517   4.64439   4.68028   4.74319

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPFERTILISERSANDSOILIMPROVERS                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5174313,5.1363864]        units:  1.000e-07
         unique values:  32                       missing .:  0/28753

                  mean:   4.74787
              std. dev:   .142251

           percentiles:        10%       25%       50%       75%       90%
                           4.53582   4.66908   4.74145   4.82431   4.96494

. reg  `dep_vlist' `indep_vlist' 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  4, 28742) =40212.64
       Model |  17020.6246     4  4255.15615           Prob > F      =  0.0000
    Residual |  3041.37433 28742  .105816378           R-squared     =  0.8484
-------------+------------------------------           Adj R-squared =  0.8484
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32529

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9842823   .0025527   385.59   0.000      .979279    .9892857
                 lnPTotalCattle |  -.1877354   .0400451    -4.69   0.000    -.2662257   -.1092452
lnPCompoundfeedingstuffsforcatt |   .4729934   .0372947    12.68   0.000      .399894    .5460927
 lnPFERTILISERSANDSOILIMPROVERS |    .337648   .0272545    12.39   0.000     .2842278    .3910682
                          _cons |  -5.597614    .156219   -35.83   0.000     -5.90381   -5.291417
-------------------------------------------------------------------------------------------------

. predict r, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. Detecting Unusual and Influential Data
unrecognized command:  Detecting
r(199);

end of do-file
r(199);

end of do-file

r(199);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 13:26:49

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  13:26:49  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. tsset, clear

. codebook `dep_vlist' `indep_vlist'

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lntotalspecificcosts                                                                                                                                     (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [5.529429,14.090319]         units:  1.000e-07
         unique values:  26753                    missing .:  0/28753

                  mean:   10.5903
              std. dev:   .836316

           percentiles:        10%       25%       50%       75%       90%
                           9.56864   10.0137   10.5707   11.1356   11.6678

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lndairyproducts                                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [8.2687321,15.750649]        units:  1.000e-07
         unique values:  9516                     missing .:  6/28753

                  mean:   12.5815
              std. dev:   .769625

           percentiles:        10%       25%       50%       75%       90%
                           11.6492   12.0459   12.5592   13.0751   13.5789

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPTotalCattle                                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [-.11541088,.12416264]       units:  1.000e-09
         unique values:  8                        missing .:  0/28753

            tabulation:  Freq.  Value
                          3549  -.11541088
                          3227  -.08012607
                          3297  -.06613982
                          3149  -.05762911
                          3224  0
                          3276  .03246718
                          3126  .05448818
                          5905  .12416264

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPCompoundfeedingstuffsforcatt                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5622625,4.8528113]        units:  1.000e-07
         unique values:  31                       missing .:  0/28753

                  mean:    4.6538
              std. dev:    .06945

           percentiles:        10%       25%       50%       75%       90%
                           4.59208   4.60517   4.64439   4.68028   4.74319

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPFERTILISERSANDSOILIMPROVERS                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5174313,5.1363864]        units:  1.000e-07
         unique values:  32                       missing .:  0/28753

                  mean:   4.74787
              std. dev:   .142251

           percentiles:        10%       25%       50%       75%       90%
                           4.53582   4.66908   4.74145   4.82431   4.96494

. reg  `dep_vlist' `indep_vlist' 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  4, 28742) =40212.64
       Model |  17020.6246     4  4255.15615           Prob > F      =  0.0000
    Residual |  3041.37433 28742  .105816378           R-squared     =  0.8484
-------------+------------------------------           Adj R-squared =  0.8484
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32529

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9842823   .0025527   385.59   0.000      .979279    .9892857
                 lnPTotalCattle |  -.1877354   .0400451    -4.69   0.000    -.2662257   -.1092452
lnPCompoundfeedingstuffsforcatt |   .4729934   .0372947    12.68   0.000      .399894    .5460927
 lnPFERTILISERSANDSOILIMPROVERS |    .337648   .0272545    12.39   0.000     .2842278    .3910682
                          _cons |  -5.597614    .156219   -35.83   0.000     -5.90381   -5.291417
-------------------------------------------------------------------------------------------------

. predict r, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvpplot
varlist required
r(100);

end of do-file
r(100);

end of do-file

r(100);

. help rvpplot

. help rvpplot

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 13:33:07

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  13:33:07  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. tsset, clear

. codebook `dep_vlist' `indep_vlist'

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lntotalspecificcosts                                                                                                                                     (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [5.529429,14.090319]         units:  1.000e-07
         unique values:  26753                    missing .:  0/28753

                  mean:   10.5903
              std. dev:   .836316

           percentiles:        10%       25%       50%       75%       90%
                           9.56864   10.0137   10.5707   11.1356   11.6678

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lndairyproducts                                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [8.2687321,15.750649]        units:  1.000e-07
         unique values:  9516                     missing .:  6/28753

                  mean:   12.5815
              std. dev:   .769625

           percentiles:        10%       25%       50%       75%       90%
                           11.6492   12.0459   12.5592   13.0751   13.5789

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPTotalCattle                                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [-.11541088,.12416264]       units:  1.000e-09
         unique values:  8                        missing .:  0/28753

            tabulation:  Freq.  Value
                          3549  -.11541088
                          3227  -.08012607
                          3297  -.06613982
                          3149  -.05762911
                          3224  0
                          3276  .03246718
                          3126  .05448818
                          5905  .12416264

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPCompoundfeedingstuffsforcatt                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5622625,4.8528113]        units:  1.000e-07
         unique values:  31                       missing .:  0/28753

                  mean:    4.6538
              std. dev:    .06945

           percentiles:        10%       25%       50%       75%       90%
                           4.59208   4.60517   4.64439   4.68028   4.74319

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPFERTILISERSANDSOILIMPROVERS                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5174313,5.1363864]        units:  1.000e-07
         unique values:  32                       missing .:  0/28753

                  mean:   4.74787
              std. dev:   .142251

           percentiles:        10%       25%       50%       75%       90%
                           4.53582   4.66908   4.74145   4.82431   4.96494

. reg  `dep_vlist' `indep_vlist' 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  4, 28742) =40212.64
       Model |  17020.6246     4  4255.15615           Prob > F      =  0.0000
    Residual |  3041.37433 28742  .105816378           R-squared     =  0.8484
-------------+------------------------------           Adj R-squared =  0.8484
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32529

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9842823   .0025527   385.59   0.000      .979279    .9892857
                 lnPTotalCattle |  -.1877354   .0400451    -4.69   0.000    -.2662257   -.1092452
lnPCompoundfeedingstuffsforcatt |   .4729934   .0372947    12.68   0.000      .399894    .5460927
 lnPFERTILISERSANDSOILIMPROVERS |    .337648   .0272545    12.39   0.000     .2842278    .3910682
                          _cons |  -5.597614    .156219   -35.83   0.000     -5.90381   -5.291417
-------------------------------------------------------------------------------------------------

. predict r, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

. lvr2plot 

. dfbeta 
(6 missing values generated)
               DFlndairyproducts:  DFbeta(lndairyproducts)
(6 missing values generated)
                DFlnPTotalCattle:  DFbeta(lnPTotalCattle)
(6 missing values generated)
DFlnPCompoundfeedingstuffsforcat:  DFbeta(lnPCompoundfeedingstuffsforcatt)
(6 missing values generated)
DFlnPFERTILISERSANDSOILIMPROVERS:  DFbeta(lnPFERTILISERSANDSOILIMPROVERS)

. 
. avplot  `indep_vlist'
too many variables specified
r(103);

end of do-file
r(103);

end of do-file

r(103);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 13:37:20

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  13:37:20  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. tsset, clear

. codebook `dep_vlist' `indep_vlist'

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lntotalspecificcosts                                                                                                                                     (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [5.529429,14.090319]         units:  1.000e-07
         unique values:  26753                    missing .:  0/28753

                  mean:   10.5903
              std. dev:   .836316

           percentiles:        10%       25%       50%       75%       90%
                           9.56864   10.0137   10.5707   11.1356   11.6678

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lndairyproducts                                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [8.2687321,15.750649]        units:  1.000e-07
         unique values:  9516                     missing .:  6/28753

                  mean:   12.5815
              std. dev:   .769625

           percentiles:        10%       25%       50%       75%       90%
                           11.6492   12.0459   12.5592   13.0751   13.5789

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPTotalCattle                                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [-.11541088,.12416264]       units:  1.000e-09
         unique values:  8                        missing .:  0/28753

            tabulation:  Freq.  Value
                          3549  -.11541088
                          3227  -.08012607
                          3297  -.06613982
                          3149  -.05762911
                          3224  0
                          3276  .03246718
                          3126  .05448818
                          5905  .12416264

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPCompoundfeedingstuffsforcatt                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5622625,4.8528113]        units:  1.000e-07
         unique values:  31                       missing .:  0/28753

                  mean:    4.6538
              std. dev:    .06945

           percentiles:        10%       25%       50%       75%       90%
                           4.59208   4.60517   4.64439   4.68028   4.74319

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPFERTILISERSANDSOILIMPROVERS                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5174313,5.1363864]        units:  1.000e-07
         unique values:  32                       missing .:  0/28753

                  mean:   4.74787
              std. dev:   .142251

           percentiles:        10%       25%       50%       75%       90%
                           4.53582   4.66908   4.74145   4.82431   4.96494

. reg  `dep_vlist' `indep_vlist' 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  4, 28742) =40212.64
       Model |  17020.6246     4  4255.15615           Prob > F      =  0.0000
    Residual |  3041.37433 28742  .105816378           R-squared     =  0.8484
-------------+------------------------------           Adj R-squared =  0.8484
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32529

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9842823   .0025527   385.59   0.000      .979279    .9892857
                 lnPTotalCattle |  -.1877354   .0400451    -4.69   0.000    -.2662257   -.1092452
lnPCompoundfeedingstuffsforcatt |   .4729934   .0372947    12.68   0.000      .399894    .5460927
 lnPFERTILISERSANDSOILIMPROVERS |    .337648   .0272545    12.39   0.000     .2842278    .3910682
                          _cons |  -5.597614    .156219   -35.83   0.000     -5.90381   -5.291417
-------------------------------------------------------------------------------------------------

. predict r, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

. lvr2plot 

. dfbeta 
(6 missing values generated)
               DFlndairyproducts:  DFbeta(lndairyproducts)
(6 missing values generated)
                DFlnPTotalCattle:  DFbeta(lnPTotalCattle)
(6 missing values generated)
DFlnPCompoundfeedingstuffsforcat:  DFbeta(lnPCompoundfeedingstuffsforcatt)
(6 missing values generated)
DFlnPFERTILISERSANDSOILIMPROVERS:  DFbeta(lnPFERTILISERSANDSOILIMPROVERS)

. 
. foreach var of local indep_vlist {
  2. 
.   avplot  `var'
  3.   rvpplot `var', yline(10)
  4. 
. }

. 
. STOP!!
unrecognized command:  STOP
r(199);

end of do-file
r(199);

end of do-file

r(199);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 13:40:03

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  13:40:03  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. tsset, clear

. codebook `dep_vlist' `indep_vlist'

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lntotalspecificcosts                                                                                                                                     (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [5.529429,14.090319]         units:  1.000e-07
         unique values:  26753                    missing .:  0/28753

                  mean:   10.5903
              std. dev:   .836316

           percentiles:        10%       25%       50%       75%       90%
                           9.56864   10.0137   10.5707   11.1356   11.6678

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lndairyproducts                                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [8.2687321,15.750649]        units:  1.000e-07
         unique values:  9516                     missing .:  6/28753

                  mean:   12.5815
              std. dev:   .769625

           percentiles:        10%       25%       50%       75%       90%
                           11.6492   12.0459   12.5592   13.0751   13.5789

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPTotalCattle                                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [-.11541088,.12416264]       units:  1.000e-09
         unique values:  8                        missing .:  0/28753

            tabulation:  Freq.  Value
                          3549  -.11541088
                          3227  -.08012607
                          3297  -.06613982
                          3149  -.05762911
                          3224  0
                          3276  .03246718
                          3126  .05448818
                          5905  .12416264

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPCompoundfeedingstuffsforcatt                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5622625,4.8528113]        units:  1.000e-07
         unique values:  31                       missing .:  0/28753

                  mean:    4.6538
              std. dev:    .06945

           percentiles:        10%       25%       50%       75%       90%
                           4.59208   4.60517   4.64439   4.68028   4.74319

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPFERTILISERSANDSOILIMPROVERS                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5174313,5.1363864]        units:  1.000e-07
         unique values:  32                       missing .:  0/28753

                  mean:   4.74787
              std. dev:   .142251

           percentiles:        10%       25%       50%       75%       90%
                           4.53582   4.66908   4.74145   4.82431   4.96494

. reg  `dep_vlist' `indep_vlist' 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  4, 28742) =40212.64
       Model |  17020.6246     4  4255.15615           Prob > F      =  0.0000
    Residual |  3041.37433 28742  .105816378           R-squared     =  0.8484
-------------+------------------------------           Adj R-squared =  0.8484
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32529

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9842823   .0025527   385.59   0.000      .979279    .9892857
                 lnPTotalCattle |  -.1877354   .0400451    -4.69   0.000    -.2662257   -.1092452
lnPCompoundfeedingstuffsforcatt |   .4729934   .0372947    12.68   0.000      .399894    .5460927
 lnPFERTILISERSANDSOILIMPROVERS |    .337648   .0272545    12.39   0.000     .2842278    .3910682
                          _cons |  -5.597614    .156219   -35.83   0.000     -5.90381   -5.291417
-------------------------------------------------------------------------------------------------

. predict r, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   set more on

. lvr2plot 

.   set more on

. dfbeta 
(6 missing values generated)
               DFlndairyproducts:  DFbeta(lndairyproducts)
(6 missing values generated)
                DFlnPTotalCattle:  DFbeta(lnPTotalCattle)
(6 missing values generated)
DFlnPCompoundfeedingstuffsforcat:  DFbeta(lnPCompoundfeedingstuffsforcatt)
(6 missing values generated)
DFlnPFERTILISERSANDSOILIMPROVERS:  DFbeta(lnPFERTILISERSANDSOILIMPROVERS)

.   set more on

. 
. foreach var of local indep_vlist {
  2.   set more on
  3.   avplot  `var'
  4.   rvpplot `var', yline(10)
  5. 
. }

. 
. STOP!!
unrecognized command:  STOP
r(199);

end of do-file
r(199);

end of do-file

r(199);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 13:41:09

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  13:41:09  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. tsset, clear

. codebook `dep_vlist' `indep_vlist'

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lntotalspecificcosts                                                                                                                                     (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [5.529429,14.090319]         units:  1.000e-07
         unique values:  26753                    missing .:  0/28753

                  mean:   10.5903
              std. dev:   .836316

           percentiles:        10%       25%       50%       75%       90%
                           9.56864   10.0137   10.5707   11.1356   11.6678

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lndairyproducts                                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [8.2687321,15.750649]        units:  1.000e-07
         unique values:  9516                     missing .:  6/28753

                  mean:   12.5815
              std. dev:   .769625

           percentiles:        10%       25%       50%       75%       90%
                           11.6492   12.0459   12.5592   13.0751   13.5789

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPTotalCattle                                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [-.11541088,.12416264]       units:  1.000e-09
         unique values:  8                        missing .:  0/28753

            tabulation:  Freq.  Value
                          3549  -.11541088
                          3227  -.08012607
                          3297  -.06613982
                          3149  -.05762911
                          3224  0
                          3276  .03246718
                          3126  .05448818
                          5905  .12416264

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPCompoundfeedingstuffsforcatt                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5622625,4.8528113]        units:  1.000e-07
         unique values:  31                       missing .:  0/28753

                  mean:    4.6538
              std. dev:    .06945

           percentiles:        10%       25%       50%       75%       90%
                           4.59208   4.60517   4.64439   4.68028   4.74319

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPFERTILISERSANDSOILIMPROVERS                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5174313,5.1363864]        units:  1.000e-07
         unique values:  32                       missing .:  0/28753

                  mean:   4.74787
              std. dev:   .142251

           percentiles:        10%       25%       50%       75%       90%
                           4.53582   4.66908   4.74145   4.82431   4.96494

. reg  `dep_vlist' `indep_vlist' 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  4, 28742) =40212.64
       Model |  17020.6246     4  4255.15615           Prob > F      =  0.0000
    Residual |  3041.37433 28742  .105816378           R-squared     =  0.8484
-------------+------------------------------           Adj R-squared =  0.8484
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32529

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9842823   .0025527   385.59   0.000      .979279    .9892857
                 lnPTotalCattle |  -.1877354   .0400451    -4.69   0.000    -.2662257   -.1092452
lnPCompoundfeedingstuffsforcatt |   .4729934   .0372947    12.68   0.000      .399894    .5460927
 lnPFERTILISERSANDSOILIMPROVERS |    .337648   .0272545    12.39   0.000     .2842278    .3910682
                          _cons |  -5.597614    .156219   -35.83   0.000     -5.90381   -5.291417
-------------------------------------------------------------------------------------------------

. predict r, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more 

. dfbeta 
(6 missing values generated)
               DFlndairyproducts:  DFbeta(lndairyproducts)
(6 missing values generated)
                DFlnPTotalCattle:  DFbeta(lnPTotalCattle)
(6 missing values generated)
DFlnPCompoundfeedingstuffsforcat:  DFbeta(lnPCompoundfeedingstuffsforcatt)
(6 missing values generated)
DFlnPFERTILISERSANDSOILIMPROVERS:  DFbeta(lnPFERTILISERSANDSOILIMPROVERS)

.   more 

. 
. foreach var of local indep_vlist {
  2.   more
  3.   avplot  `var'
  4.   rvpplot `var', yline(10)
  5. 
. }

. 
. STOP!!
unrecognized command:  STOP
r(199);

end of do-file
r(199);

end of do-file

r(199);

. help graph

. help more

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 13:43:11

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  13:43:11  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. tsset, clear

. codebook `dep_vlist' `indep_vlist'

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lntotalspecificcosts                                                                                                                                     (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [5.529429,14.090319]         units:  1.000e-07
         unique values:  26753                    missing .:  0/28753

                  mean:   10.5903
              std. dev:   .836316

           percentiles:        10%       25%       50%       75%       90%
                           9.56864   10.0137   10.5707   11.1356   11.6678

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lndairyproducts                                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [8.2687321,15.750649]        units:  1.000e-07
         unique values:  9516                     missing .:  6/28753

                  mean:   12.5815
              std. dev:   .769625

           percentiles:        10%       25%       50%       75%       90%
                           11.6492   12.0459   12.5592   13.0751   13.5789

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPTotalCattle                                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [-.11541088,.12416264]       units:  1.000e-09
         unique values:  8                        missing .:  0/28753

            tabulation:  Freq.  Value
                          3549  -.11541088
                          3227  -.08012607
                          3297  -.06613982
                          3149  -.05762911
                          3224  0
                          3276  .03246718
                          3126  .05448818
                          5905  .12416264

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPCompoundfeedingstuffsforcatt                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5622625,4.8528113]        units:  1.000e-07
         unique values:  31                       missing .:  0/28753

                  mean:    4.6538
              std. dev:    .06945

           percentiles:        10%       25%       50%       75%       90%
                           4.59208   4.60517   4.64439   4.68028   4.74319

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPFERTILISERSANDSOILIMPROVERS                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5174313,5.1363864]        units:  1.000e-07
         unique values:  32                       missing .:  0/28753

                  mean:   4.74787
              std. dev:   .142251

           percentiles:        10%       25%       50%       75%       90%
                           4.53582   4.66908   4.74145   4.82431   4.96494

. reg  `dep_vlist' `indep_vlist' 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  4, 28742) =40212.64
       Model |  17020.6246     4  4255.15615           Prob > F      =  0.0000
    Residual |  3041.37433 28742  .105816378           R-squared     =  0.8484
-------------+------------------------------           Adj R-squared =  0.8484
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32529

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9842823   .0025527   385.59   0.000      .979279    .9892857
                 lnPTotalCattle |  -.1877354   .0400451    -4.69   0.000    -.2662257   -.1092452
lnPCompoundfeedingstuffsforcatt |   .4729934   .0372947    12.68   0.000      .399894    .5460927
 lnPFERTILISERSANDSOILIMPROVERS |    .337648   .0272545    12.39   0.000     .2842278    .3910682
                          _cons |  -5.597614    .156219   -35.83   0.000     -5.90381   -5.291417
-------------------------------------------------------------------------------------------------

. predict r, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more 

. dfbeta 
(6 missing values generated)
               DFlndairyproducts:  DFbeta(lndairyproducts)
(6 missing values generated)
                DFlnPTotalCattle:  DFbeta(lnPTotalCattle)
(6 missing values generated)
DFlnPCompoundfeedingstuffsforcat:  DFbeta(lnPCompoundfeedingstuffsforcatt)
(6 missing values generated)
DFlnPFERTILISERSANDSOILIMPROVERS:  DFbeta(lnPFERTILISERSANDSOILIMPROVERS)

.   more 

. 
. foreach var of local indep_vlist {
  2.   more
  3.   avplot  `var'
  4.   rvpplot `var', yline(10)
  5. 
. }

. 
. STOP!!
unrecognized command:  STOP
r(199);

end of do-file
r(199);

end of do-file

r(199);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 13:51:52

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  13:51:52  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. tsset, clear

. codebook `dep_vlist' `indep_vlist'

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lntotalspecificcosts                                                                                                                                     (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [5.529429,14.090319]         units:  1.000e-07
         unique values:  26753                    missing .:  0/28753

                  mean:   10.5903
              std. dev:   .836316

           percentiles:        10%       25%       50%       75%       90%
                           9.56864   10.0137   10.5707   11.1356   11.6678

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lndairyproducts                                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [8.2687321,15.750649]        units:  1.000e-07
         unique values:  9516                     missing .:  6/28753

                  mean:   12.5815
              std. dev:   .769625

           percentiles:        10%       25%       50%       75%       90%
                           11.6492   12.0459   12.5592   13.0751   13.5789

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPTotalCattle                                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [-.11541088,.12416264]       units:  1.000e-09
         unique values:  8                        missing .:  0/28753

            tabulation:  Freq.  Value
                          3549  -.11541088
                          3227  -.08012607
                          3297  -.06613982
                          3149  -.05762911
                          3224  0
                          3276  .03246718
                          3126  .05448818
                          5905  .12416264

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPCompoundfeedingstuffsforcatt                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5622625,4.8528113]        units:  1.000e-07
         unique values:  31                       missing .:  0/28753

                  mean:    4.6538
              std. dev:    .06945

           percentiles:        10%       25%       50%       75%       90%
                           4.59208   4.60517   4.64439   4.68028   4.74319

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPFERTILISERSANDSOILIMPROVERS                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5174313,5.1363864]        units:  1.000e-07
         unique values:  32                       missing .:  0/28753

                  mean:   4.74787
              std. dev:   .142251

           percentiles:        10%       25%       50%       75%       90%
                           4.53582   4.66908   4.74145   4.82431   4.96494

. reg  `dep_vlist' `indep_vlist' 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  4, 28742) =40212.64
       Model |  17020.6246     4  4255.15615           Prob > F      =  0.0000
    Residual |  3041.37433 28742  .105816378           R-squared     =  0.8484
-------------+------------------------------           Adj R-squared =  0.8484
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32529

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9842823   .0025527   385.59   0.000      .979279    .9892857
                 lnPTotalCattle |  -.1877354   .0400451    -4.69   0.000    -.2662257   -.1092452
lnPCompoundfeedingstuffsforcatt |   .4729934   .0372947    12.68   0.000      .399894    .5460927
 lnPFERTILISERSANDSOILIMPROVERS |    .337648   .0272545    12.39   0.000     .2842278    .3910682
                          _cons |  -5.597614    .156219   -35.83   0.000     -5.90381   -5.291417
-------------------------------------------------------------------------------------------------

. predict r, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more 

. dfbeta 
(6 missing values generated)
               DFlndairyproducts:  DFbeta(lndairyproducts)
(6 missing values generated)
                DFlnPTotalCattle:  DFbeta(lnPTotalCattle)
(6 missing values generated)
DFlnPCompoundfeedingstuffsforcat:  DFbeta(lnPCompoundfeedingstuffsforcatt)
(6 missing values generated)
DFlnPFERTILISERSANDSOILIMPROVERS:  DFbeta(lnPFERTILISERSANDSOILIMPROVERS)

. summ _df*
variable _df* not found
r(111);

end of do-file
r(111);

end of do-file

r(111);

. ds _*
variable _* not found
r(111);

. ds DF*
variable DF* not found
r(111);

. ds
region        longandmed~h  spforacs      coslwnno      sbyopslq      standardma~s  ivmalldyq_lt  sdpasturq_~f  sbycusdq_ha   p_sbecucl     gm_ha_q2007
organisati~m  shortterml~a  fdairygo      coslstno      sbyopfdv      stock_rate    ivmalldyq_~f  s_othmiscd~u  sbycuslq_ha   mp_sbecucl    gm_lt5_quin
subregion     shortterml~b  dogrosso      coslfcno      sbyopfdq      stock_rate2   iaisfdyq_lu   s_othmiscd~f  sbycufdq_ha   sbecualq_sh   gm_ha_q_1
country       shortterml~c  fcatlego      coslbhno      sbyopsdv      totcows       iaisfdyq_lt   ivmallspq_lu  sbycuclq_ha   p_sbecual     milk_wt
sizeclass     shortterml~d  cogrosso      coslocno      sbyopsdq      cpavnohc_sh   iaisfdyq_l~f  ivmallspq_~f  sbycufnq_ha   mp_sbecual    smilk
generalfar~e  shortterml~e  fsheepgo      coprcfno      sbyopclv      cpavno06_sh   itedairyq_lu  iaisfshpq_lu  sbycufpq_ha   sbecuwtq_sh   gm1_ha_q
principalf~e  shortterml~f  dotomkgl      coprwnno      sbyopclq      cpavno61_sh   itedairyq_lt  iaisfshpq_~f  sbycufkq_ha   p_sbecuwt     gm1_ha_q1999
farmcode      shortterml~g  fdvetmed      coprstno      sbycugov      cpavno12_sh   itedairyq_~f  itesheepq_lu  sbycusdq_sh   mp_sbecuwt    gm1_ha_q2000
system        shortterml~h  fdaifees      coprfcno      sbyopgov      cpavno2p_sh   imiscdryq_lu  itesheepq_~f  p_sbycusd     sbecuylq2     gm1_ha_q2001
organicfar~g  totaldebtsa   fdpurblk      coprbhno      sbycuslv      cpavnobl_sh   imiscdryq_lt  imiscshpq_lu  mp_sbycusd    p_sbeopop     gm1_ha_q2002
lessfavour~a  totaldebtsb   fdpurcon      coprocno      sbycufdv      cpavnocw_sh   imiscdryq_~f  imiscshpq_~f  sbycuslq_sh   p_sbeopsl     gm1_ha_q2003
altitudezone  totaldebtsc   fdcrppro      cotftdno      sbycusdv      dpavnohd_sh   flabccdyq_lu  flabccshq_lu  p_sbycusl     p_sbeopfd     gm1_ha_q2004
structural~s  totaldebtsd   fdferfil      cotffdno      sbycuclv      spavnoew_sh   flabccdyq_lt  flabccshq_~f  mp_sbycusl    p_sbeopsd     gm1_ha_q2005
environmen~a  totaldebtse   fdpursed      coslmsvl      mbycuylq      spavno12_sh   flabccdyq_~f  tfsheepdc2    sbycufdq_sh   p_sbeopcl     gm1_ha_q2006
year          totaldebtsf   farmvetmed    coslmsno      mbycusdq      spavno2p_sh   tfdairydc1    other_cropgo  p_sbycufd     sbe_go        gm1_ha_q2007
economicsize  totaldebtsg   farmaifees    coslfsvl      mbycuslq      spavnorm_sh   tfdairydc2    wwh_ha        mp_sbycufd    tsbe_go1      gm1_lt5_quin
uaaunderir~n  totaldebtsh   aidairy       coslfsno      mbycufdq      spavnlbw_sh   tfdairydc3    wwhcuylq_ha   sbycuclq_sh   tsbe_go2      gm1_ha_q1
daysgrazno~a  subsidiesf~d  farmpurblk    coprmsvl      mbycuclq      spavnool_sh   suckler       wwhcusdq_ha   p_sbycucl     sbe_specia~n  gm_ha_q1
uaainowner~n  subsforper~e  farmpurcon    coprmsno      mbycufnq      totmilk       tcptotcno1    wwhcuslq_ha   mp_sbycucl    tsbego1       dc_lt_1
uaainshare~g  subsidiesf~t  farmcrppro    coprfsvl      mbycufpq      doslcmgl_sh   tcptotcno2    wwhcufdq_ha   sbycualq_sh   tsbego2       PTotalInpu~1
totallabou~u  subsidiesf~e  farmferfil    coprfsno      mbycufkq      domkfdgl_sh   tcogrosso1    wwhcuclq_ha   p_sbycual     p_sbecufrv    rdc_lt
labourinpu~s  subsidie~wer  farmpursed    coslfmvl      mbycucpv      dosllmgl_sh   tcogrosso2    wwhcufnq_ha   mp_sbycual    p_sbecucpv    lt_lu_1
unpaidlabo~s  subsidiesf~a  farmdc        coslffvl      mbycumhv      wave          covalcno_ha   wwhcufpq_ha   sbycuwtq_sh   p_sbecusev    rlt_lu
paidlabour~s  subsidie~her  fainvfrm      coslffno      mbycucwv      npers04       p_coslcf      wwhcufkq_ha   p_sbycuwt     p_sbecutcv    lu_ha_1
totaluaa      singlepaym~t  fainvmch      cdmiscdc      mbycumcv      npers515      coslcfno_ha   wwhcusdq_sh   mp_sbycuwt    p_sbecutsv    rlu_ha
renteduaa     subsbeef      fainvbld      ivmallc       mbycusev      npers1519     mp_coslcf     p_wwhcusd     sbycuylq2     p_sbecumhv    daforare_1
cerealsuaa    subsenviro~t  fofuellu      iaisfcat      mbycufrv      npers2024     p_coslwn      mp_wwhcusd    p_sbyopop     p_sbecucwv    rdaforare
otherfield~a  subsforlfa    flabtotl      itecattl      mbycutcv      npers2544     coslwnno_ha   wwhcuslq_sh   p_sbyopsl     p_sbecumcv    gm1_ha_q1_1
energycr~uaa  supporttoa~s  flabpaid      imiscctl      mbycutsv      npers4564     mp_coslwn     p_wwhcusl     p_sbyopfd     sbecufrvq_ha  gm_ha_q1_1
vegetables~a  subsotherr~v  flabunpd      flabccct      mbycuwtq      npers65       p_coslst      mp_wwhcusl    p_sbyopsd     sbecusevq_ha  gm_ha_q1_2
vineyardsuaa  sugarbeetaa   fsubreps      cdconcen      mbycualq      fyear         coslstno_ha   wwhcufdq_sh   p_sbyopcl     sbecucpvq_ha  hasdry
permanent~aa  sugarbeetbv   focarelp      cdpastur      mbyopopv      ogagehld10    mp_coslst     p_wwhcufd     sby_go        sbecutcvq_ha  hasdry_1
orchardsuaa   sugarbeetcv   ogagehld      cdwinfor      mbyopopq      ogagehld10_1  p_coslfc      mp_wwhcufd    tsby_go1      sbecutsvq_ha  exit_dry
olivegrove~a  sugarbeetfc   age           cdmilsub      mbyopslv      ogagehld10_2  coslfcno_ha   wwhcuclq_sh   tsby_go2      sbecumhvq_ha  dry_platform
otherperma~a  sugarbeetqq   fsizuaa       PCalfFeed     mbyopslq      ogagehld10_3  mp_coslfc     p_wwhcucl     sby_specia~n  sbecucwvq_ha  soil_1
foragecrop~a  sugarbeetsa   dpnolu        sosalean      mbyopfdv      ogagehld10_4  p_coslbh      mp_wwhcucl    tsbygo1       sbecumcvq_ha  soil_2
agricultur~a  sugarbeetta   cpnolu        soslhgvl      mbyopfdq      ogagehld10_5  coslbhno_ha   wwhcualq_sh   tsbygo2       tsbedc1       soil_3
setasideuaa   sugarbeettp   spnolu        soslflvl      mbyopsdv      ogagehld10_6  mp_coslbh     p_wwhcual     p_sbycufrv    tsbedc2       soil_4
woodlandarea  oilseedaa     hasreps       soslflno      mbyopsdq      sizesystem    p_cosloc      mp_wwhcual    p_sbycucpv    tothgo        soil_5
totallives~s  oilseedbv     hasforestry   soslslvl      mbyopclv      sys           coslocno_ha   wwhcuwtq_sh   p_sbycusev    tfcatlego     soil_6
dairycowslus  oilseedcv     landval       soslslno      mbyopclq      fffadnsy      mp_cosloc     p_wwhcuwt     p_sbycutcv    tfsheepgo     soil_7
othercattl~s  oilseedfc     teagasc       soslhgno      mbycugov      farmsize      p_coprcf      mp_wwhcuwt    p_sbycutsv    tfpigsgo      soil_8
sheepandg~us  oilseedfu     loan          soslbhvl      mbyopgov      farmsize_1    coprcfno_ha   wwhcuylq2     p_sbycumhv    tfpoultgo     dafedare_lu
pigslus       oilseedqq     PMinAgWage    soslbhno      mbycuslv      farmsize_2    mp_coprcf     p_wwhopop     p_sbycucwv    tfcropsgo     daforare_lu
poultrylus    oilseedsa     flabsmds      soslervl      mbycufdv      farmsize_3    p_coprwn      p_wwhopsl     p_sbycumcv    tfhorsego     fertility
wheatyield    oilseedta     spavnoew      soslerno      mbycusdv      farmsize_4    coprwnno_ha   p_wwhopfd     sbycufrvq_ha  pfdairygo     gm1_ha_q_1
maizeyield    oilseedtp     spavno12      soslbevl      mbycuclv      farmsize_5    mp_coprwn     p_wwhopsd     sbycusevq_ha  pfcatlego     system_1
stockingde~y  fallowlandaa  spavno2p      soslbeno      potcuylq      farmsize_6    p_coprst      p_wwhopcl     sbycucpvq_ha  pfsheepgo     stock_rate~t
foragearea    fallowlandbv  spavnorm      soconhvl      potcusdq      farmsize_7    coprstno_ha   wwh_go        sbycutcvq_ha  pfpigsgo      stock_rate~1
grazingliv~k  fallowlandcv  spavnlbw      soconhno      potcuslq      fsizuaa2      mp_coprst     twwh_go1      sbycutsvq_ha  pfpoultgo     gm_ha_1
milkyield     fallowlandfc  spavnool      soprslvl      potcufdq      total_la~urs  p_coprbh      twwh_go2      sbycumhvq_ha  pfcropsgo     doslmkgl_l~1
dairycows     fallowlandfu  spavnots      soprslno      potcuclq      fulltime      coprbhno_ha   wwh_specia~n  sbycucwvq_ha  tfarmgo1      reduce_dry
dairyprodu~s  obligator~aa  oanolt5y      soprbdvl      potcufnq      system1       mp_coprbh     twwhgo1       sbycumcvq_ha  tfarmgo2      increase_dry
totaloutput   obligator~bv  oano515y      soprbdno      potcufpq      system2       p_coproc      twwhgo2       tsbydc1       tfarmdc1      delta_dry
totaloutpu~s  obligator~cv  oano1619      sdother       potcufkq      system3       coprocno_ha   p_wwhcufrv    tsbydc2       tfarmdc2      isdairy
cerealsvalue  obligatory~c  oano2024      ivmallsp      potcucpv      region1       mp_coproc     p_wwhcucpv    mby_ha        tfarmohct1    dairy_stoc~e
proteincro~e  obligatory~u  oano2544      iaisfshp      potcumhv      region2       p_cotftd      p_wwhcusev    mbycuylq_ha   tfarmohct2    dairy_stoc~1
energycrop~e  obligatory~q  oano4564      itesheep      potcucwv      region3       cotftdno_ha   p_wwhcutcv    mbycusdq_ha   tfarmffi1     soil_3g
potatoesva~e  obligator~sa  oanoge65      imiscshp      potcumcv      region4       mp_cotftd     p_wwhcutsv    mbycuslq_ha   tfarmffi2     non_drysys_1
sugarbeetv~e  obligatory~p  ffszsyst      flabccsh      potcusev      region5       p_cotffd      p_wwhcumhv    mbycufdq_ha   rffiperha     drysys0_1
oilseedrap~e  fallowlandqq  fgrntsub      sdconval      potcufrv      region6       cotffdno_ha   p_wwhcucwv    mbycuclq_ha   subsidy_comm  drysys1_1
industrial~e  fallowlandsa  fsubesag      sdwinfor      potcutcv      lfa           mp_cotffd     p_wwhcumcv    mbycufnq_ha   subsidy1      transfer
vegetables~e  fallowlandtp  cssuckcw      sdroots       potcutsv      fgrntsub_r~d  p_coslms      wwhcufrvq_ha  mbycufpq_ha   subsidy_diff  milkprice
fruitvalue    othpermcr~aa  cs10mtbf      sdpastur      potcuwtq      dirpayts      coslmsno_ha   wwhcusevq_ha  mbycufkq_ha   p_othmiscdc   dgm_ha_3
citrusfrui~e  othpermcr~bv  cs22mtbf      fcropsgo      potcualq      cattle_subs   mp_coslms     wwhcucpvq_ha  mbycusdq_sh   po_othmiscdc  dgm_ha_4
wineandgra~e  othpermcr~cv  csslaugh      wwhcuylq      potopopv      sheep_subs    p_coslfs      wwhcutcvq_ha  p_mbycusd     h_othmiscdc   dgm_ha1_3
olivesando~e  othpermcro~c  csextens      wwhcusdq      potopopq      tillage_subs  coslfsno_ha   wwhcutsvq_ha  mp_mbycusd    dgm_ha        dgm_ha1_4
foragecrop~e  othpermcro~u  csheadag      wwhcuslq      potopslv      dairy_subs    mp_coslfs     wwhcumhvq_ha  mbycuslq_sh   dgo_ha        dgm_ha2_3
othercropo~e  othpermcro~q  csmctopu      wwhcufdq      potopslq      marketgo      p_coprms      wwhcucwvq_ha  p_mbycusl     fcerealgo     dgm_ha2_4
totaloutpu~k  othpermcr~sa  sosubsid      wwhcuclq      potopfdv      marketffi     coprmsno_ha   wwhcumcvq_ha  mp_mbycusl    cropgo        dgm_ha3_3
changesinv~k  othpermcro~p  posubsid      wwhcufnq      potopfdq      tfsizunad     mp_coprms     twwhdc1       mbycufdq_sh   oth_dc        dgm_ha3_4
cowsmilkan~s  contractw~bv  dogpcomp      wwhcufpq      potopsdv      mgm_ha        p_coprfs      twwhdc2       p_mbycufd     oth_oc        dgm_ha4_3
beefandveal   contractw~cv  fsubastp      wwhcufkq      potopsdq      mgm_ha_1      coprfsno_ha   swh_ha        mp_mbycufd    dirpayts_sfp  dgm_ha4_4
pigmeat       contractwo~c  fsubcatp      wwhcucpv      potopclv      dirpayts_ha   mp_coprfs     swhcuylq_ha   mbycuclq_sh   dirpayts_s~2  dgm_ha5_3
sheepandg~ts  contractwo~u  fsubrptp      wwhcumhv      potopclq      pricefaprl~l  p_coslfm      swhcusdq_ha   p_mbycucl     hassuckler~e  dgm_ha5_4
poultrymeat   contractwo~q  fsubpbtp      wwhcucwv      potcugov      tpricefapr~l  coslfmno_ha   swhcuslq_ha   mp_mbycucl    other_go      tavdgm_ha
eggs          contractwo~a  fsublitp      wwhcumcv      potopgov      mpricefapr~l  mp_coslfm     swhcufdq_ha   mbycualq_sh   fdairygo_lu   avdgm_ha
ewesandgoa~k  contractwo~p  fsubmztp      wwhcusev      potcuslv      haslandpurch  p_coslff      swhcuclq_ha   p_mbycual     fcatlego_lu   mktgm_ha
otherliv~cts  rapeaa        fsubvstp      wwhcufrv      potcufdv      pricefasll~l  coslffno_ha   swhcufnq_ha   mp_mbycual    fsheepgo_lu   nondairy
otheroutput   rapebv        dqcomlrd      wwhcutcv      potcusdv      tpricefasl~l  mp_coslff     swhcufpq_ha   mbycuwtq_sh   fdairylu_ha   nondairyon~y
totalinputs   rapecv        dosubsvl      wwhcutsv      potcuclv      mpricefasl~l  tcogrosso3    swhcufkq_ha   p_mbycuwt     fcatlelu_ha   nondairy1
totalinter~n  rapefc        farmgo        wwhcuwtq      sbecuylq      landval_ha    tcogrosso4    swhcusdq_sh   mp_mbycuwt    fsheeplu_ha   drystockno~y
totalspeci~s  rapefu        farmffi       wwhcualq      sbecusdq      mn_landval~a  dpavnohd_ha   p_swhcusd     mbycuylq2     fcerealgo_ha  tillagenon~y
seedsandpl~s  rapeqq        fsizldow      wwhopopv      sbecuslq      fsizldow_1    co_othmiscdc  mp_swhcusd    p_mbyopop     cropgo_ha     sheepnonda~y
seedsandpl~n  rapesa        fsizldrt      wwhopopq      sbecufdq      hasfaslldac   tfcatledc1    swhcuslq_sh   p_mbyopsl     farmdc_ha     cattlenond~0
fertilisers   rapetp        fsizldlt      wwhopslv      sbecuclq      hasfaprldac   p_cdconcen    p_swhcusl     p_mbyopfd     farmohct_ha   cattlenond~1
cropprotec~n  sunfloweraa   wwhcuarq      wwhopslq      sbecufnq      landbuysell   cdconcenq     mp_swhcusl    p_mbyopsd     oth_dc_ha     cattlenond~2
othercrops~c  sunflowerbv   swhcuarq      wwhopfdv      sbecufpq      landvalue_~1  p_cdpastur    swhcufdq_sh   p_mbyopcl     fdpurblk_ha   cattlenond~3
feedforgra~k  sunflowercv   wbycuarq      wwhopfdq      sbecufkq      landvalue_ha  cdpasturq     p_swhcufd     mby_go        fdpurcon_ha   cattlenond~4
feedforgra~n  sunflowerfc   sbycuarq      wwhopsdv      sbecucpv      hasfsizldrt   p_cdwinfor    mp_swhcufd    tmby_go1      fdferfil_ha   cattlenond~5
feedforpig~y  sunflowerfu   mbycuarq      wwhopsdq      sbecumhv      lease_pric~a  cdwinforq     swhcuclq_sh   tmby_go2      fdpursed_ha   is65
feedforpig~n  sunflowerqq   wotcuarq      wwhopclv      sbecucwv      hasfsizldlt   p_cdmilsub    p_swhcucl     mby_specia~n  fdcrppro_ha   fc_ha
otherliv~sts  sunflowersa   sotcuarq      wwhopclq      sbecumcv      tillage_area  cdmilsubq     mp_swhcucl    tmbygo1       fdvetmed_ha   lnlandval_ha
forestrysp~s  sunflowertp   osrcuarq      wwhcugov      sbecusev      forage_area   p_ivmallc     swhcualq_sh   tmbygo2       fdaifees_ha   lnfdferfil~a
totalfarmi~s  soyaaa        pbscuarq      wwhopgov      sbecufrv      forage_area2  ivmallcq      p_swhcual     p_mbycufrv    oth_oc_ha     lndaforare
machininer~s  soyabv        lsdcuarq      wwhcuslv      sbecutcv      hasmilk       p_iaisfcat    mp_swhcual    p_mbycucpv    focarelp_ha   lncpforacs
energy        soyacv        potcuarq      wwhcufdv      sbecutsv      hascattle     iaisfcatq     swhcuwtq_sh   p_mbycusev    gm_lt         lnspforacs
contractwork  soyafc        sbecuarq      wwhcusdv      sbecuwtq      hassheep      p_itecattl    p_swhcuwt     p_mbycutcv    gm_lt_df      lntillage_~a
otherdirec~s  soyafu        faprldvl      wwhcuclv      sbecualq      hashorses     itecattlq     mp_swhcuwt    p_mbycutsv    gm_lt_df5     lndpnolu_ha
depreciation  soyaqq        faprldac      swhcuylq      sbeopopv      tfsizeadj     p_imiscctl    swhcuylq2     p_mbycumhv    GO_lt         lncpnolu_ha
totalexter~s  soyasa        faslldvl      swhcusdq      sbeopopq      other_area    imiscctlq     p_swhopop     p_mbycucwv    lt_lu         lnspnolu_ha
wagespaid     soyatp        faslldac      swhcuslq      sbeopslv      tillage_sh    p_flabccct    p_swhopsl     p_mbycumcv    lu_ha         lnflabunpd
rentpaid      otheraa       favlfrey      swhcufdq      sbeopslq      other_sh      flabccctq     p_swhopfd     mbycufrvq_ha  dc_lt         lnogagehld
interestpaid  otherbv       favlfrby      swhcuclq      sbeopfdv      forestry_sh   p_co_othmi~c  p_swhopsd     mbycusevq_ha  dc_lu         lnfdairygm~a
taxes         othercv       forntcon      swhcufnq      sbeopfdq      daforare_sh   co_othmisc~q  p_swhopcl     mbycucpvq_ha  lt_conc       lnfcatlegm~a
vatbalance~t  otherfc       soil          swhcufpq      sbeopsdv      hasdaforare   cdconcenq_lu  swh_go        mbycutcvq_ha  ha            lnfsheepgm~a
balancesub~t  otherfu       soil2         swhcufkq      sbeopsdq      cpforacs_sh   cdconcenq_~f  tswh_go1      mbycutsvq_ha  gm_lt5_year   p_doslmkvl_1
subsidieso~t  otherqq       soil3         swhcucpv      sbeopclv      hascpforacs   cdpasturq_lu  tswh_go2      mbycumhvq_ha  fdairyha      lnfsizuaa
paymentsto~s  othersa       hpforacs      swhcumhv      sbeopclq      spforacs_sh   cdpasturq_~f  swh_specia~n  mbycucwvq_ha  fcatleha      lnfsizuaa2
vatoninvest   othertp       fsizfrac      swhcucwv      sbecugov      hasspforacs   cdwinforq_lu  tswhgo1       mbycumcvq_ha  fsheepha      lntillage_sh
grossfarmi~e  sugarcaneaa   fsizfort      swhcumcv      sbeopgov      hpforacs_sh   cdwinforq_~f  tswhgo2       tmbydc1       fcropsha      lndaforare~h
farmnetval~d  sugarcanebv   fsizeadj      swhcufrv      sbecuslv      hashpforacs   cdmilsubq_lu  p_swhcufrv    tmbydc2       fdairygm_ha   lncpforacs~h
familyfarm~e  sugarcanecv   fcropsgm      swhcusev      sbecufdv      cropsgm_ha    cdmilsubq_~f  p_swhcucpv    pot_ha        fdairygm_h~q  lnspforacs~h
farmnetval~u  sugarcanefc   flivstgm      swhcutcv      sbecusdv      livestockg~a  ivmallcq_lu   p_swhcusev    potcuylq_ha   tfdairy~1999  lnspnolu
awu           sugarcanefu   doslcmvl      swhcutsv      sbecuclv      cropsgm_ha_1  ivmallcq_l~f  p_swhcutcv    potcusdq_ha   fdairyg~1999  lncpnolu
farmnetval~n  sugarcaneqq   dosllmvl      swhcuwtq      Pfertilise~K  livestockg~1  iaisfcatq_lu  p_swhcutsv    potcuslq_ha   tfdairy~2000  lndpnolu
familyfarm~u  sugarcanesa   domlkbon      swhcualq      PPlantProt~n  till_lv_ra~o  iaisfcatq_~f  p_swhcumhv    potcufdq_ha   fdairyg~2000  year1
fwu           sugarcanetp   domlkpen      swhopopv      PSeeds        istillage     itecattlq_lu  p_swhcucwv    potcuclq_ha   tfdairy~2001  year2
familyfarm~n  flaxnotfib~a  domkfdvl      swhopopq      fpigsgo       evertillage   itecattlq_~f  p_swhcumcv    potcufnq_ha   fdairyg~2001  year3
totalassets   flaxnotfi~bv  domkalvl      swhopslv      fpoultgo      tdotomkvl     imiscctlq_lu  swhcufrvq_ha  potcufpq_ha   tfdairy~2002  year4
totalfixed~s  flaxnotfi~cv  doslmkvl      swhopslq      fhorsego      p_doslcm      imiscctlq_~f  swhcusevq_ha  potcufkq_ha   fdairyg~2002  year5
landperman~s  flaxnotfib~c  doslcmgl      swhopfdv      fothergo      p_dosllm      flabccctq_lu  swhcucpvq_ha  potcusdq_sh   tfdairy~2003  year6
buildings     flaxnotfib~u  dosllmgl      swhopfdq      frhiremh      p_domkfd      flabccctq_~f  swhcutcvq_ha  p_potcusd     fdairyg~2003  year7
machinery     flaxnotfib~q  doslmkgl      swhopsdv      frevoth       p_doslmkvl    co_othmisc~u  swhcutsvq_ha  mp_potcusd    tfdairy~2004  year8
breedingli~k  flaxnotopscp  domkfdgl      swhopsdq      finttran      tdotomkvl1    co_othmisc~f  swhcumhvq_ha  potcuslq_sh   fdairyg~2004  year9
totalcurre~s  flaxnotfib~p  dotomkvl      swhopclv      suckler_we~e  hasliquidm~k  cpnolu_ha     swhcucwvq_ha  p_potcusl     tfdairy~2005  fdairygm_h~d
nonbreedin~k  forestryaa    doschbvl      swhopclq      fsubhors      hasdomkfdgl   tfcatledc2    swhcumcvq_ha  mp_potcusl    fdairyg~2005  fcatlegm_h~d
stockofagr~s  forestrybv    doschbno      swhcugov      fsubforh      hasdomlkbon   p_soslfl      tswhdc1       potcufdq_sh   tfdairy~2006  fsheepgm_h~d
othercircu~l  forestrycv    dosldhrd      swhopgov      fsubtbco      hasdomlkpen   soslflno_ha   tswhdc2       p_potcufd     fdairyg~2006  lnfcerealg~a
totalliabi~s  forestryfc    docfslvl      swhcuslv      fsubyfig      hasdomkalvl   mp_soslfl     wby_ha        mp_potcufd    tfdairy~2007  fcerealgm_~d
longmedium~s  forestryfu    docfslno      swhcufdv      Ppig          tdotomkvl2    p_soslsl      wbycuylq_ha   potcuclq_sh   fdairyg~2007  PLand
shortterml~s  forestryqq    dotochbv      swhcusdv      Ppoultry      doslcmgl_lu   soslslno_ha   wbycusdq_ha   p_potcucl     fdairygm~q_1  commonageuaa
networth      forestrysa    dotochbn      swhcuclv      PTotalCrop    domlkbon_lu   mp_soslsl     wbycuslq_ha   mp_potcucl    fdairygm~1_1  region7
changeinne~h  forestrytp    dopchbvl      wbycuylq      fdmachir      domlkpen_lu   p_soslhg      wbycufdq_ha   potcualq_sh   fcatlegm_ha   region8
averagefar~l  totnfoodc~aa  dopchbno      wbycusdq      fdtrans       dosllmgl_lu   soslhgno_ha   wbycuclq_ha   p_potcual     fcatlegm_h~q  region9
grossinves~t  totnfoodc~bv  dotichbv      wbycuslq      fdlivmnt      domkfdgl_lu   mp_soslhg     wbycufnq_ha   mp_potcual    tfcatle~1999  region10
netinvestm~t  totnfoodc~cv  dotichbn      wbycufdq      fdcaslab      domkalvl_lu   p_soslbh      wbycufpq_ha   potcuwtq_sh   fcatleg~1999  region11
cashflow1     totnfoodcr~c  doprdhrd      wbycuclq      fvalflab      doslmkgl_lu   soslbhno_ha   wbycufkq_ha   p_potcuwt     tfcatle~2000  region12
cashflow2     totnfoodcr~u  dovlcnod      wbycufnq      fdmiscel      milk_lu       mp_soslbh     wbycusdq_sh   mp_potcuwt    fcatleg~2000  region13
balancecur~s  totnfoodcr~q  doreplct      wbycufpq      fdfodadj      dpnolu_ha     p_sosler      p_wbycusd     potcuylq2     tfcatle~2001  region14
totalsubsi~m  totnfoodc~sa  docftfvl      wbycufkq      PStraightF~d  tdotomkvl3    soslerno_ha   mp_wbycusd    p_potopop     fcatleg~2001  region15
totalsubsi~s  totnfoodcr~p  docftfno      wbycucpv      fohirlab      p_doschbvl    mp_sosler     wbycuslq_sh   p_potopsl     tfcatle~2002  region16
compensato~s  qusugarbee~e  dovalclf      wbycumhv      fointpay      p_dotochbv    p_soslbe      p_wbycusl     p_potopfd     fcatleg~2002  region17
setasidepr~s  qusugarb~les  ddmiscdc      wbycucwv      fomacdpr      p_dopchbvl    soslbeno_ha   mp_wbycusl    p_potopsd     tfcatle~2003  region18
othercrops~s  qusu~ningval  ivmalldy      wbycumcv      fomacopt      p_dotichbv    mp_soslbe     wbycufdq_sh   p_potopcl     fcatleg~2003  region19
totalsubsi~k  qusugarbee~n  iaisfdy       wbycufrv      foblddpr      do_othersa~s  p_soconh      p_wbycufd     pot_go        tfcatle~2004  region20
subsidiesd~g  qusu~singval  itedairy      wbycusev      fobldmnt      do_otherpu~e  soconhno_ha   mp_wbycufd    tpot_go1      fcatleg~2004  region21
subsidieso~e  qusugarb~xes  imiscdry      wbycutcv      fodprlim      tdoreplct1    mp_soconh     wbycuclq_sh   tpot_go2      tfcatle~2005  region22
subsidiess~s  qusugarbe~id  flabccdy      wbycutsv      foupkpld      tdoreplct2    p_soprsl      p_wbycucl     pot_specia~n  fcatleg~2005  pid
otherlive~es  qusugarbe~ed  ddconval      wbycuwtq      foannuit      p_docftfvl    soprslno_ha   mp_wbycucl    tpotgo1       tfcatle~2006  countrycode
othersubsi~s  qusugarbee~y  ddpastur      wbycualq      fomiscel      p_docfslvl    mp_soprsl     wbycualq_sh   tpotgo2       fcatleg~2006  grassregion
environmen~s  compensati~a  ddwinfor      wbyopopv      forates       tdovalclf1    p_soprbd      p_wbycual     p_potcufrv    tfcatle~2007  azone1
lfasubsidies  compensati~p  PCattleFeed   wbyopopq      fortfmer      tdovalclf2    soprbdno_ha   mp_wbycual    p_potcucpv    fcatleg~2007  azone2
otherrural~s  compensati~y  PTotalFert    wbyopslv      PElectricity  tfdairygo     mp_soprbd     wbycuwtq_sh   p_potcusev    fcatlegm~q_1  azone3
subsidieso~i  compirroil~a  PVetExp       wbyopslq      pdmiscdc      tfdairygo2    tsosaleso     p_wbycuwt     p_potcutcv    fcatlegm~1_1  Germany
subsidieso~s  compirroil~p  POtherInputs  wbyopfdv      imiscpig      tfdairygo3    tsosaleso1    mp_wbycuwt    p_potcutsv    fsheepgm_ha   France
decoupledp~s  compirroil~y  PLabour       wbyopfdq      flabccpg      d_othmiscdc   tsosaleso2    wbycuylq2     p_potcumhv    fsheepgm_h~q  UnitedKing~m
singlefarm~t  sanonfoodo~a  cpavnocw      wbyopsdv      edtotldc      p_ddconval    tsopurso      p_wbyopop     p_potcucwv    tfsheep~1999  Bretagne
singlearea~t  sanonfoodo~p  cpavno06      wbyopsdq      icallpyv      ddconvalq     tsopurso1     p_wbyopsl     p_potcumcv    fsheepg~1999  NormandieH~e
additional~d  sanonfoodo~y  dpavnohd      wbyopclv      ivmallpy      p_ddpastur    s_othmiscdc   p_wbyopfd     potcufrvq_ha  tfsheep~2000  NormandieB~e
farmsrepre~d  energycr~saa  cpavnohc      wbyopclq      itepolty      ddpasturq     tfsheepdc1    p_wbyopsd     potcusevq_ha  fsheepg~2000  Wales
samplefarms   energycrop~p  cpavno61      wbycugov      imiscpty      p_ddwinfor    p_sdconval    p_wbyopcl     potcucpvq_ha  tfsheep~2001  Ireland
exchangerate  spdetailsaa   cpavno12      wbyopgov      flabccpy      ddwinforq     sdconvalq     wby_go        potcutcvq_ha  fsheepg~2001  Bayern
unpaidr~1awu  spspecenti~a  cpavno2p      wbycuslv      icallhvl      p_ivmalldy    p_sdpastur    twby_go1      potcutsvq_ha  tfsheep~2002  Other
unpaidr~1ahr  singlearea~a  cpavnobl      wbycufdv      ivmallh       ivmalldyq     sdpasturq     twby_go2      potcumhvq_ha  fsheepg~2002  PCompoundf~t
unpaidre~1yb  v201          cpavn12m      wbycusdv      iaisfhrs      p_iaisfdy     p_sdwinfor    wby_specia~n  potcucwvq_ha  tfsheep~2003  PFERTILISE~S
unpaidr~2awu  temporaryg~a  cpavn12f      wbycuclv      itehorse      iaisfdyq      sdwinforq     twbygo1       potcumcvq_ha  fsheepg~2003  feedforgra~h
unpaidr~2ahr  meadowperm~a  cpavn2pm      sbycuylq      imischrs      p_itedairy    p_sdroots     twbygo2       tpotdc1       tfsheep~2004  lntotalspe~s
unpaidre~2yb  roughgrazi~a  cpavn2pf      sbycusdq      iballhrs      itedairyq     sdrootsq      p_wbycufrv    tpotdc2       fsheepg~2004  lndairypro~s
unpaidr~3awu  yrborn        cosalesv      sbycuslq      ibhayhvl      p_imiscdry    p_ivmallsp    p_wbycucpv    sbe_ha        tfsheep~2005  lnPTotalCa~e
unpaidr~3ahr  yearcriteria  copurval      sbycufdq      ibstrhvl      imiscdryq     ivmallspq     p_wbycusev    sbecuylq_ha   fsheepg~2005  lnPCompoun~t
unpaidre~3yb  fsubchen      covalcno      sbycuclq      ibsilhvl      p_flabccdy    p_iaisfshp    p_wbycutcv    sbecusdq_ha   tfsheep~2006  lnPFERTILI~S
regpaidlab~u  wt            cosubsid      sbycufnq      fdairygm      flabccdyq     iaisfshpq     p_wbycutsv    sbecuslq_ha   fsheepg~2006  countrycode2
regpaidlab~r  ftotallu      cotffdvl      sbycufpq      farmohct      p_d_othmis~c  p_itesheep    p_wbycumhv    sbecufdq_ha   tfsheep~2007  TREND
regpaidman~e  total_la~hrs  cotftdvl      sbycufkq      fdairydc      d_othmiscdcq  itesheepq     p_wbycucwv    sbecuclq_ha   fsheepg~2007  fdratio
permanent~bv  sfp           coslcfvl      sbycucpv      fcatlegm      ddconvalq_lu  p_imiscshp    p_wbycumcv    sbecufnq_ha   fsheepgm~q_1  grass_sh
permanent~cv  dpalloclu     coslwnvl      sbycumhv      fsheepgm      ddconvalq_lt  imiscshpq     wbycufrvq_ha  sbecufpq_ha   fsheepgm~1_1  grassratio
permanentc~p  cpalloclu     coslstvl      sbycucwv      PTotalInputs  ddconvalq_~f  p_flabccsh    wbycusevq_ha  sbecufkq_ha   gm_ha         special
permanentc~g  spalloclu     coslfcvl      sbycumcv      DAIRY_PLAT~M  ddpasturq_lu  flabccshq     wbycucpvq_ha  sbecusdq_sh   liquidm       intense
permanent~sa  dpallocgo     coslbhvl      sbycusev      dafedare      ddpasturq_lt  p_s_othmis~c  wbycutcvq_ha  p_sbecusd     gm_ha_q       lnfdratio
permanentc~u  cpallocgo     coslocvl      sbycufrv      dpcfbtot      ddpasturq_~f  s_othmiscdcq  wbycutsvq_ha  mp_sbecusd    gm_ha_q1999   lngrassratio
longandmed~a  spallocgo     coprcfvl      sbycutcv      farmgm        ddwinforq_lu  sdconvalq_lu  wbycumhvq_ha  sbecuslq_sh   gm_ha_q2000   lnspecial
longandmed~b  alloc         coprwnvl      sbycutsv      fototal       ddwinforq_lt  sdconvalq_~f  wbycucwvq_ha  p_sbecusl     gm_ha_q2001   lnintense
longandmed~c  PTotalCattle  coprstvl      sbycuwtq      fcplivgo      ddwinforq_~f  sdwinforq_lu  wbycumcvq_ha  mp_sbecusl    gm_ha_q2002   intwt
longandmed~d  PSheep        coprbhvl      sbycualq      farm          d_othmiscd~u  sdwinforq_~f  twbydc1       sbecufdq_sh   gm_ha_q2003   atl_plains
longandmed~e  PMilk         coprocvl      sbyopopv      ageoperator   d_othmiscd~t  sdrootsq_lu   twbydc2       p_sbecufd     gm_ha_q2004   cont_eur
longandmed~f  daforare      coslfmno      sbyopopq      age2          d_othmiscd~f  sdrootsq_l~f  sby_ha        mp_sbecufd    gm_ha_q2005
longandmed~g  cpforacs      coslcfno      sbyopslv      ogagehld2     ivmalldyq_lu  sdpasturq_lu  sbycuylq_ha   sbecuclq_sh   gm_ha_q2006

. ds D*
DAIRY_PLAT~M

. ds d*
daysgrazno~a  dpnolu        doslcmgl      dotochbn      ddmiscdc      dirpayts      dpnolu_ha     ddpasturq_lu  dgo_ha        delta_dry     dgm_ha3_3
dairycowslus  dogpcomp      dosllmgl      dopchbvl      ddconval      dairy_subs    do_othersa~s  ddpasturq_lt  dirpayts_sfp  dairy_stoc~e  dgm_ha3_4
dairycows     dqcomlrd      doslmkgl      dopchbno      ddpastur      dirpayts_ha   do_otherpu~e  ddpasturq_~f  dirpayts_s~2  dairy_stoc~1  dgm_ha4_3
dairyprodu~s  dosubsvl      domkfdgl      dotichbv      ddwinfor      daforare_sh   d_othmiscdc   ddwinforq_lu  dc_lt         drysys0_1     dgm_ha4_4
depreciation  doslcmvl      dotomkvl      dotichbn      dpavnohd      doslcmgl_lu   ddconvalq     ddwinforq_lt  dc_lu         drysys1_1     dgm_ha5_3
decoupledp~s  dosllmvl      doschbvl      doprdhrd      dafedare      domlkbon_lu   ddpasturq     ddwinforq_~f  dc_lt_1       dgm_ha_3      dgm_ha5_4
dpalloclu     domlkbon      doschbno      dovlcnod      dpcfbtot      domlkpen_lu   ddwinforq     d_othmiscd~u  daforare_1    dgm_ha_4      drystockno~y
dpallocgo     domlkpen      dosldhrd      doreplct      dpavnohd_sh   dosllmgl_lu   d_othmiscdcq  d_othmiscd~t  dry_platform  dgm_ha1_3
daforare      domkfdvl      docfslvl      docftfvl      doslcmgl_sh   domkfdgl_lu   ddconvalq_lu  d_othmiscd~f  dafedare_lu   dgm_ha1_4
dogrosso      domkalvl      docfslno      docftfno      domkfdgl_sh   domkalvl_lu   ddconvalq_lt  dpavnohd_ha   daforare_lu   dgm_ha2_3
dotomkgl      doslmkvl      dotochbv      dovalclf      dosllmgl_sh   doslmkgl_lu   ddconvalq_~f  dgm_ha        doslmkgl_l~1  dgm_ha2_4

. ds df*
variable df* not found
r(111);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 13:54:37

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  13:54:37  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. tsset, clear

. codebook `dep_vlist' `indep_vlist'

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lntotalspecificcosts                                                                                                                                     (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [5.529429,14.090319]         units:  1.000e-07
         unique values:  26753                    missing .:  0/28753

                  mean:   10.5903
              std. dev:   .836316

           percentiles:        10%       25%       50%       75%       90%
                           9.56864   10.0137   10.5707   11.1356   11.6678

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lndairyproducts                                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [8.2687321,15.750649]        units:  1.000e-07
         unique values:  9516                     missing .:  6/28753

                  mean:   12.5815
              std. dev:   .769625

           percentiles:        10%       25%       50%       75%       90%
                           11.6492   12.0459   12.5592   13.0751   13.5789

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPTotalCattle                                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [-.11541088,.12416264]       units:  1.000e-09
         unique values:  8                        missing .:  0/28753

            tabulation:  Freq.  Value
                          3549  -.11541088
                          3227  -.08012607
                          3297  -.06613982
                          3149  -.05762911
                          3224  0
                          3276  .03246718
                          3126  .05448818
                          5905  .12416264

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPCompoundfeedingstuffsforcatt                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5622625,4.8528113]        units:  1.000e-07
         unique values:  31                       missing .:  0/28753

                  mean:    4.6538
              std. dev:    .06945

           percentiles:        10%       25%       50%       75%       90%
                           4.59208   4.60517   4.64439   4.68028   4.74319

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPFERTILISERSANDSOILIMPROVERS                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5174313,5.1363864]        units:  1.000e-07
         unique values:  32                       missing .:  0/28753

                  mean:   4.74787
              std. dev:   .142251

           percentiles:        10%       25%       50%       75%       90%
                           4.53582   4.66908   4.74145   4.82431   4.96494

. reg  `dep_vlist' `indep_vlist' 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  4, 28742) =40212.64
       Model |  17020.6246     4  4255.15615           Prob > F      =  0.0000
    Residual |  3041.37433 28742  .105816378           R-squared     =  0.8484
-------------+------------------------------           Adj R-squared =  0.8484
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32529

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9842823   .0025527   385.59   0.000      .979279    .9892857
                 lnPTotalCattle |  -.1877354   .0400451    -4.69   0.000    -.2662257   -.1092452
lnPCompoundfeedingstuffsforcatt |   .4729934   .0372947    12.68   0.000      .399894    .5460927
 lnPFERTILISERSANDSOILIMPROVERS |    .337648   .0272545    12.39   0.000     .2842278    .3910682
                          _cons |  -5.597614    .156219   -35.83   0.000     -5.90381   -5.291417
-------------------------------------------------------------------------------------------------

. predict r, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more 

. *dfbeta 
. *summ _df*
.   *more 
. 
. foreach var of local indep_vlist {
  2.   more
  3.   avplot  `var'
  4.   more
  5.   rvpplot `var', yline(10)
  6. 
. }

. 
. graph drop
nothing found where graph name expected
r(198);

end of do-file
r(198);

end of do-file

r(198);

. graph drop _all

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 14:10:59

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  14:10:59  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. tsset, clear

. codebook `dep_vlist' `indep_vlist'

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lntotalspecificcosts                                                                                                                                     (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [5.529429,14.090319]         units:  1.000e-07
         unique values:  26753                    missing .:  0/28753

                  mean:   10.5903
              std. dev:   .836316

           percentiles:        10%       25%       50%       75%       90%
                           9.56864   10.0137   10.5707   11.1356   11.6678

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lndairyproducts                                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [8.2687321,15.750649]        units:  1.000e-07
         unique values:  9516                     missing .:  6/28753

                  mean:   12.5815
              std. dev:   .769625

           percentiles:        10%       25%       50%       75%       90%
                           11.6492   12.0459   12.5592   13.0751   13.5789

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPTotalCattle                                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [-.11541088,.12416264]       units:  1.000e-09
         unique values:  8                        missing .:  0/28753

            tabulation:  Freq.  Value
                          3549  -.11541088
                          3227  -.08012607
                          3297  -.06613982
                          3149  -.05762911
                          3224  0
                          3276  .03246718
                          3126  .05448818
                          5905  .12416264

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPCompoundfeedingstuffsforcatt                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5622625,4.8528113]        units:  1.000e-07
         unique values:  31                       missing .:  0/28753

                  mean:    4.6538
              std. dev:    .06945

           percentiles:        10%       25%       50%       75%       90%
                           4.59208   4.60517   4.64439   4.68028   4.74319

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPFERTILISERSANDSOILIMPROVERS                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5174313,5.1363864]        units:  1.000e-07
         unique values:  32                       missing .:  0/28753

                  mean:   4.74787
              std. dev:   .142251

           percentiles:        10%       25%       50%       75%       90%
                           4.53582   4.66908   4.74145   4.82431   4.96494

. reg  `dep_vlist' `indep_vlist' 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  4, 28742) =40212.64
       Model |  17020.6246     4  4255.15615           Prob > F      =  0.0000
    Residual |  3041.37433 28742  .105816378           R-squared     =  0.8484
-------------+------------------------------           Adj R-squared =  0.8484
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32529

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9842823   .0025527   385.59   0.000      .979279    .9892857
                 lnPTotalCattle |  -.1877354   .0400451    -4.69   0.000    -.2662257   -.1092452
lnPCompoundfeedingstuffsforcatt |   .4729934   .0372947    12.68   0.000      .399894    .5460927
 lnPFERTILISERSANDSOILIMPROVERS |    .337648   .0272545    12.39   0.000     .2842278    .3910682
                          _cons |  -5.597614    .156219   -35.83   0.000     -5.90381   -5.291417
-------------------------------------------------------------------------------------------------

. predict r, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more 

. *dfbeta 
. *summ _df*
.   *more 
. 
. foreach var of local indep_vlist {
  2.   more
  3.   avplot  `var'
  4.   more
  5.   rvpplot `var', yline(10)
  6. 
. }

. 
. graph drop _all

. STOP!!
unrecognized command:  STOP
r(199);

end of do-file
r(199);

end of do-file

r(199);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 14:11:30

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  14:11:30  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. tsset, clear

. codebook `dep_vlist' `indep_vlist'

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lntotalspecificcosts                                                                                                                                     (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [5.529429,14.090319]         units:  1.000e-07
         unique values:  26753                    missing .:  0/28753

                  mean:   10.5903
              std. dev:   .836316

           percentiles:        10%       25%       50%       75%       90%
                           9.56864   10.0137   10.5707   11.1356   11.6678

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lndairyproducts                                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [8.2687321,15.750649]        units:  1.000e-07
         unique values:  9516                     missing .:  6/28753

                  mean:   12.5815
              std. dev:   .769625

           percentiles:        10%       25%       50%       75%       90%
                           11.6492   12.0459   12.5592   13.0751   13.5789

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPTotalCattle                                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [-.11541088,.12416264]       units:  1.000e-09
         unique values:  8                        missing .:  0/28753

            tabulation:  Freq.  Value
                          3549  -.11541088
                          3227  -.08012607
                          3297  -.06613982
                          3149  -.05762911
                          3224  0
                          3276  .03246718
                          3126  .05448818
                          5905  .12416264

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPCompoundfeedingstuffsforcatt                                                                                                                          (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5622625,4.8528113]        units:  1.000e-07
         unique values:  31                       missing .:  0/28753

                  mean:    4.6538
              std. dev:    .06945

           percentiles:        10%       25%       50%       75%       90%
                           4.59208   4.60517   4.64439   4.68028   4.74319

--------------------------------------------------------------------------------------------------------------------------------------------------------------------
lnPFERTILISERSANDSOILIMPROVERS                                                                                                                           (unlabeled)
--------------------------------------------------------------------------------------------------------------------------------------------------------------------

                  type:  numeric (double)

                 range:  [4.5174313,5.1363864]        units:  1.000e-07
         unique values:  32                       missing .:  0/28753

                  mean:   4.74787
              std. dev:   .142251

           percentiles:        10%       25%       50%       75%       90%
                           4.53582   4.66908   4.74145   4.82431   4.96494

. reg  `dep_vlist' `indep_vlist' 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  4, 28742) =40212.64
       Model |  17020.6246     4  4255.15615           Prob > F      =  0.0000
    Residual |  3041.37433 28742  .105816378           R-squared     =  0.8484
-------------+------------------------------           Adj R-squared =  0.8484
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32529

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9842823   .0025527   385.59   0.000      .979279    .9892857
                 lnPTotalCattle |  -.1877354   .0400451    -4.69   0.000    -.2662257   -.1092452
lnPCompoundfeedingstuffsforcatt |   .4729934   .0372947    12.68   0.000      .399894    .5460927
 lnPFERTILISERSANDSOILIMPROVERS |    .337648   .0272545    12.39   0.000     .2842278    .3910682
                          _cons |  -5.597614    .156219   -35.83   0.000     -5.90381   -5.291417
-------------------------------------------------------------------------------------------------

. predict r, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more 

. 
. foreach var of local indep_vlist {
  2.   more
  3.   avplot  `var'
  4.   more
  5.   rvpplot `var', yline(10)
  6. 
. }

. 
. graph drop _all

. STOP!!
unrecognized command:  STOP
r(199);

end of do-file
r(199);

end of do-file

r(199);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 14:17:53

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  14:17:53  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. tsset, clear

. qui reg  `dep_vlist' `indep_vlist' 

. predict xb , xb
(6 missing values generated)

. predict r  , resid
(6 missing values generated)

. predict rst, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more 

. 
. foreach var of local indep_vlist {
  2.   more
  3.   avplot  `var'
  4.   more
  5.   rvpplot `var', yline(10)
  6. 
. }

. 
. graph drop _all

. /* Hadi's (1992, 1994) Algorithm to ID possible outliers, optimized by
>      Weber (2010) */
. do bacon `dep_vlist' `indep_vlist', gen(out1)
option gen() not allowed
r(198);

end of do-file
r(198);

end of do-file

r(198);

. help bacon

. ds out1
variable out1 not found
r(111);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 14:20:01

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  14:20:01  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. tsset, clear

. qui reg  `dep_vlist' `indep_vlist' 

. predict xb , xb
(6 missing values generated)

. predict r  , resid
(6 missing values generated)

. predict rst, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more

. 
. foreach var of local indep_vlist {
  2.   avplot  `var'
  3.   more
  4.   rvpplot `var', yline(10)
  5.   more
  6. 
. }

. 
. graph drop _all

. /* Hadi's (1992, 1994) Algorithm to ID possible outliers, optimized by
>      Weber (2010) */
. bacon `dep_vlist' `indep_vlist', gen(out1)

Total number of observations:       28747
   BACON outliers (p = 0.15):           5
      Non-outliers remaining:       28742

. tw sc rst xb, ml(out1)

. tw sc rst xb if out1 == 1, ml(country)

. 
. 
. /* Tests for Normality of Residuals 
>    (for SFA, we expect them to be non-normal. 
>     They would be skewed if there is 
>     inefficiency present, but they must be 
>     LEFT-SKEWED!!!)
> --------------------------------------------- */
. kdensity r, norm

. 
. 
. 
. /* Tests for Multicollinearity
> ---------------------------------------------*/
. collin 
unrecognized command:  collin
r(199);

end of do-file
r(199);

end of do-file

r(199);

. findit collin

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 14:37:20

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  14:37:20  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. tsset, clear

. qui reg  `dep_vlist' `indep_vlist' 

. predict xb , xb
(6 missing values generated)

. predict r  , resid
(6 missing values generated)

. predict rst, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more

. 
. foreach var of local indep_vlist {
  2.   avplot  `var'
  3.   more
  4.   rvpplot `var', yline(10)
  5.   more
  6. 
. }

. 
. graph drop _all

. /* Hadi's (1992, 1994) Algorithm to ID possible outliers, optimized by
>      Weber (2010) */
. bacon `dep_vlist' `indep_vlist', gen(out1)

Total number of observations:       28747
   BACON outliers (p = 0.15):           5
      Non-outliers remaining:       28742

. tw sc rst xb, ml(out1)

. tw sc rst xb if out1 == 1, ml(country)

. 
. 
. /* Tests for Normality of Residuals 
>    (for SFA, we expect them to be non-normal. 
>     They would be skewed if there is 
>     inefficiency present, but they must be 
>     LEFT-SKEWED!!!)
> --------------------------------------------- */
. kdensity r, norm

. 
. 
. 
. /* Tests for Multicollinearity
> ---------------------------------------------*/
. vif

    Variable |       VIF       1/VIF  
-------------+----------------------
lnPFERTILI~S |      4.08    0.244908
lnPTotalCa~e |      2.98    0.335866
lnPCompoun~t |      1.82    0.548923
lndairypro~s |      1.05    0.953744
-------------+----------------------
    Mean VIF |      2.48

. 
. 
. 
. /* Tests for Non-Linearity
> ---------------------------------------------*/
. acprplot 
varlist required
r(100);

end of do-file
r(100);

end of do-file

r(100);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 14:39:56

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  14:39:56  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. tsset, clear

. qui reg  `dep_vlist' `indep_vlist' 

. predict xb , xb
(6 missing values generated)

. predict r  , resid
(6 missing values generated)

. predict rst, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more

. 
. foreach var of local indep_vlist {
  2.   avplot  `var'
  3.   more
  4.   rvpplot `var', yline(10)
  5.   more
  6. 
. }

. 
. graph drop _all

. 
. 
. /* Hadi's (1992, 1994) Algorithm to ID possible outliers, optimized by
>      Weber (2010) */
. bacon `dep_vlist' `indep_vlist', gen(out1)

Total number of observations:       28747
   BACON outliers (p = 0.15):           5
      Non-outliers remaining:       28742

. tw sc rst xb, ml(out1)

. tw sc rst xb if out1 == 1, ml(country)

. more

. 
. /* Tests for Normality of Residuals 
>    (for SFA, we expect them to be non-normal. 
>     They would be skewed if there is 
>     inefficiency present, but they must be 
>     LEFT-SKEWED!!!)
> --------------------------------------------- */
. kdensity r, norm

. more

. 
. 
. /* Tests for Multicollinearity
> ---------------------------------------------*/
. vif

    Variable |       VIF       1/VIF  
-------------+----------------------
lnPFERTILI~S |      4.08    0.244908
lnPTotalCa~e |      2.98    0.335866
lnPCompoun~t |      1.82    0.548923
lndairypro~s |      1.05    0.953744
-------------+----------------------
    Mean VIF |      2.48

. more

. 
. 
. /* Tests for Non-Linearity
> ---------------------------------------------*/
. foreach var of local indep_vlist {
  2. 
.   acprplot `var'
  3.   more
  4.   cprplot `var'
  5.   more
  6. 
. }

. 
. 
. /* Tests for Model Specification
> ---------------------------------------------*/
. linktest 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  2, 28744) =81524.36
       Model |  17055.3044     2  8527.65221           Prob > F      =  0.0000
    Residual |   3006.6945 28744  .104602509           R-squared     =  0.8501
-------------+------------------------------           Adj R-squared =  0.8501
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32342

------------------------------------------------------------------------------
lntotalspe~s |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        _hat |   .1932986   .0443736     4.36   0.000     .1063243    .2802729
      _hatsq |   .0378719   .0020799    18.21   0.000     .0337951    .0419487
       _cons |   4.273287   .2361619    18.09   0.000     3.810399    4.736175
------------------------------------------------------------------------------

. more

. ovtest 

Ramsey RESET test using powers of the fitted values of lntotalspecificcosts
       Ho:  model has no omitted variables
               F(3, 28739) =    193.55
                  Prob > F =      0.0000

. more

. 
. graph drop _all

. 
end of do-file

. set more off

. 
. * ===================
. * MODEL COMMANDS HERE
. * ===================
. if "`cost'"=="cost"{
.         local   tech_or_cost    "cost"
. }

. else{
.         local   tech_or_cost    "tech"
. }

. 
. sfpanel `dep_vlist' `indep_vlist' TREND if country == "DEU",  `cost' model(bc95) d(tnormal) posthessian robust emean(`z_vlist') vsigma(TREND)


initial:       Log pseudolikelihood = -42525.399
Iteration 0:   Log pseudolikelihood = -42525.399  
Iteration 1:   Log pseudolikelihood = -38225.927  (backed up)
Iteration 2:   Log pseudolikelihood = -37853.446  (backed up)
Iteration 3:   Log pseudolikelihood = -34550.006  (backed up)
Iteration 4:   Log pseudolikelihood = -34377.569  (backed up)
Iteration 5:   Log pseudolikelihood = -32754.185  (backed up)
Iteration 6:   Log pseudolikelihood = -32685.673  (backed up)
Iteration 7:   Log pseudolikelihood = -32615.071  (backed up)
Iteration 8:   Log pseudolikelihood = -32614.606  (backed up)
Iteration 9:   Log pseudolikelihood = -32614.606  (backed up)
Iteration 10:  Log pseudolikelihood = -29859.015  
Iteration 11:  Log pseudolikelihood = -29235.268  
Iteration 12:  Log pseudolikelihood = -28109.945  
Iteration 13:  Log pseudolikelihood = -26998.997  
Iteration 14:  Log pseudolikelihood = -22653.057  
Iteration 15:  Log pseudolikelihood = -21229.646  
Iteration 16:  Log pseudolikelihood =  -14627.56  
Iteration 17:  Log pseudolikelihood = -14257.204  
Iteration 18:  Log pseudolikelihood =   -10497.3  
Iteration 19:  Log pseudolikelihood = -8389.9952  
Iteration 20:  Log pseudolikelihood = -7043.9257  
Iteration 21:  Log pseudolikelihood = -5849.6539  
Iteration 22:  Log pseudolikelihood = -5051.3558  
Iteration 23:  Log pseudolikelihood = -4678.4082  
Iteration 24:  Log pseudolikelihood = -4587.3678  
Iteration 25:  Log pseudolikelihood = -4523.8259  
Iteration 26:  Log pseudolikelihood = -4411.2822  
Iteration 27:  Log pseudolikelihood = -4351.9103  
Iteration 28:  Log pseudolikelihood = -4326.0409  
Iteration 29:  Log pseudolikelihood = -4231.3755  
Iteration 30:  Log pseudolikelihood = -4059.5883  
Iteration 31:  Log pseudolikelihood = -3928.1843  
Iteration 32:  Log pseudolikelihood = -3846.0975  
Iteration 33:  Log pseudolikelihood = -3778.9773  
Iteration 34:  Log pseudolikelihood = -3741.8128  
Iteration 35:  Log pseudolikelihood = -3731.1887  
Iteration 36:  Log pseudolikelihood = -3726.6659  
Iteration 37:  Log pseudolikelihood =  -3724.581  
Iteration 38:  Log pseudolikelihood =  -3724.065  
Iteration 39:  Log pseudolikelihood = -3723.6663  
Iteration 40:  Log pseudolikelihood =  -3722.654  
Iteration 41:  Log pseudolikelihood = -3719.7449  
Iteration 42:  Log pseudolikelihood = -3717.4039  
Iteration 43:  Log pseudolikelihood = -3712.6526  
Iteration 44:  Log pseudolikelihood = -3710.4785  
Iteration 45:  Log pseudolikelihood = -3710.1396  
Iteration 46:  Log pseudolikelihood = -3710.1261  
Iteration 47:  Log pseudolikelihood =  -3710.126  

Inefficiency effects model (truncated-normal)        Number of obs =     13369
Group variable: pid                               Number of groups =      2966
Time variable: year                             Obs per group: min =         1
                                                               avg =       4.5
                                                               max =         9

                                                     Prob > chi2   =    0.0000
Log pseudolikelihood = -3710.1260                    Wald chi2(5)  =  15741.23

                                                    (Std. Err. adjusted for 2966 clusters in pid)
-------------------------------------------------------------------------------------------------
                                |               Robust
           lntotalspecificcosts |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
Frontier                        |
                lndairyproducts |   1.018425   .0091923   110.79   0.000     1.000408    1.036441
                 lnPTotalCattle |   .1849968   .0476318     3.88   0.000     .0916401    .2783534
lnPCompoundfeedingstuffsforcatt |   .6127854   .0273143    22.43   0.000     .5592503    .6663204
 lnPFERTILISERSANDSOILIMPROVERS |   .1613312   .0463931     3.48   0.001     .0704024    .2522599
                          TREND |   .0007735   .0028821     0.27   0.788    -.0048754    .0064224
                          _cons |  -5.970793   .2269811   -26.31   0.000    -6.415668   -5.525918
--------------------------------+----------------------------------------------------------------
Mu                              |
                   lngrassratio |   4.549041   2.425056     1.88   0.061     -.203982    9.302064
                      lnspecial |  -10.39102          .        .       .            .           .
                          _cons |   10.66122   14.18414     0.75   0.452    -17.13919    38.46162
--------------------------------+----------------------------------------------------------------
Usigma                          |
                          _cons |   1.087618   .3023651     3.60   0.000     .4949937    1.680243
--------------------------------+----------------------------------------------------------------
Vsigma                          |
                          TREND |   .0520202   .0112184     4.64   0.000     .0300326    .0740078
                          _cons |  -2.724706   .0753686   -36.15   0.000    -2.872426   -2.576986
--------------------------------+----------------------------------------------------------------
  E(sigma_v) |   .2925477                                 .2922191    .2928763
     sigma_u |   1.722556   .2604204     6.61   0.000     1.280815    2.316648
------------------------------------------------------------------------------

. estimates store `model1name'_DEU_`tech_or_cost'

. estimates save `fadnoutdatadir'/`model1name'_DEU_`tech_or_cost'_$datestamp$timestamp.ster, replace
(note: file D:\Data/data_FADNPanelAnalysis/OutData/multisward/bc95_DEU_cost_2014_09_220239pm.ster not found)
file D:\Data/data_FADNPanelAnalysis/OutData/multisward/bc95_DEU_cost_2014_09_220239pm.ster saved

. di `e(converged)'
1

. 
. sfpanel `dep_vlist' `indep_vlist' TREND if country == "FRA",  `cost' model(bc95) d(tnormal) posthessian robust emean(`z_vlist') usigma(`z_vlist') vsigma(TREND)


initial:       Log pseudolikelihood = -18928.767
Iteration 0:   Log pseudolikelihood = -18928.767  
Iteration 1:   Log pseudolikelihood =  -12721.39  (backed up)
Iteration 2:   Log pseudolikelihood = -8933.7001  (backed up)
Iteration 3:   Log pseudolikelihood = -8902.4794  (backed up)
Iteration 4:   Log pseudolikelihood = -7794.5228  (backed up)
Iteration 5:   Log pseudolikelihood = -7736.9277  (backed up)
Iteration 6:   Log pseudolikelihood = -7707.5824  (backed up)
Iteration 7:   Log pseudolikelihood = -7622.0211  (backed up)
Iteration 8:   Log pseudolikelihood = -7608.7781  (backed up)
Iteration 9:   Log pseudolikelihood = -7588.8977  (backed up)
Iteration 10:  Log pseudolikelihood = -7576.1853  (backed up)
Iteration 11:  Log pseudolikelihood = -7575.0364  (backed up)
Iteration 12:  Log pseudolikelihood = -6688.5732  
Iteration 13:  Log pseudolikelihood = -6489.0222  
Iteration 14:  Log pseudolikelihood = -6115.4153  
Iteration 15:  Log pseudolikelihood = -6115.4153  (backed up)
BFGS stepping has contracted, resetting BFGS Hessian
Iteration 16:  Log pseudolikelihood = -6115.4153  (backed up)
Iteration 17:  Log pseudolikelihood = -5850.7425  (backed up)
Iteration 18:  Log pseudolikelihood = -5180.1992  (backed up)
Iteration 19:  Log pseudolikelihood = -5086.5221  (backed up)
Iteration 20:  Log pseudolikelihood = -4546.0913  (backed up)
Iteration 21:  Log pseudolikelihood = -4239.5278  (backed up)
Iteration 22:  Log pseudolikelihood = -4169.1684  (backed up)
Iteration 23:  Log pseudolikelihood = -3949.8727  (backed up)
Iteration 24:  Log pseudolikelihood = -3949.0032  (backed up)
Iteration 25:  Log pseudolikelihood = -3146.5351  
Iteration 26:  Log pseudolikelihood = -2702.8606  
Iteration 27:  Log pseudolikelihood = -2375.1244  
Iteration 28:  Log pseudolikelihood =  -1725.543  
Iteration 29:  Log pseudolikelihood = -1094.3365  
Iteration 30:  Log pseudolikelihood = -941.57428  
Iteration 31:  Log pseudolikelihood = -531.01169  
Iteration 32:  Log pseudolikelihood =  -353.8928  
Iteration 33:  Log pseudolikelihood = -282.52731  
Iteration 34:  Log pseudolikelihood = -214.09089  
Iteration 35:  Log pseudolikelihood = -187.14916  
Iteration 36:  Log pseudolikelihood = -174.58306  
Iteration 37:  Log pseudolikelihood = -171.71825  
Iteration 38:  Log pseudolikelihood = -160.40284  
Iteration 39:  Log pseudolikelihood = -158.28692  
Iteration 40:  Log pseudolikelihood = -150.44095  
Iteration 41:  Log pseudolikelihood = -147.99584  
Iteration 42:  Log pseudolikelihood = -140.47645  
Iteration 43:  Log pseudolikelihood = -132.92674  
Iteration 44:  Log pseudolikelihood =  -127.2179  
Iteration 45:  Log pseudolikelihood = -109.81909  
Iteration 46:  Log pseudolikelihood = -103.50368  
Iteration 47:  Log pseudolikelihood = -102.38547  
Iteration 48:  Log pseudolikelihood = -100.25308  
Iteration 49:  Log pseudolikelihood = -98.243713  
Iteration 50:  Log pseudolikelihood = -95.572164  
Iteration 51:  Log pseudolikelihood = -94.676693  
Iteration 52:  Log pseudolikelihood = -93.729947  
Iteration 53:  Log pseudolikelihood = -92.922891  
Iteration 54:  Log pseudolikelihood = -91.588908  
Iteration 55:  Log pseudolikelihood = -90.467598  
Iteration 56:  Log pseudolikelihood = -89.957819  
Iteration 57:  Log pseudolikelihood = -89.746079  
Iteration 58:  Log pseudolikelihood = -89.673474  
Iteration 59:  Log pseudolikelihood = -89.663152  
Iteration 60:  Log pseudolikelihood = -89.662671  
Iteration 61:  Log pseudolikelihood = -89.662649  
Iteration 62:  Log pseudolikelihood = -89.662648  

Inefficiency effects model (truncated-normal)        Number of obs =      3727
Group variable: pid                               Number of groups =      1629
Time variable: year                             Obs per group: min =         1
                                                               avg =       2.3
                                                               max =         8

                                                     Prob > chi2   =    0.0000
Log pseudolikelihood =   -89.6626                    Wald chi2(5)  =   3811.53

                                                    (Std. Err. adjusted for 1629 clusters in pid)
-------------------------------------------------------------------------------------------------
                                |               Robust
           lntotalspecificcosts |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
Frontier                        |
                lndairyproducts |   1.018245   .0170056    59.88   0.000     .9849143    1.051575
                 lnPTotalCattle |  -.1565048   .1079462    -1.45   0.147    -.3680755    .0550658
lnPCompoundfeedingstuffsforcatt |   1.128881   .1510499     7.47   0.000     .8328285    1.424933
 lnPFERTILISERSANDSOILIMPROVERS |   .8765143    .136035     6.44   0.000     .6098907    1.143138
                          TREND |  -.0557834   .0062078    -8.99   0.000    -.0679504   -.0436164
                          _cons |  -12.68203    .792346   -16.01   0.000      -14.235   -11.12906
--------------------------------+----------------------------------------------------------------
Mu                              |
                   lngrassratio |  -.0431394   .0077414    -5.57   0.000    -.0583122   -.0279666
                      lnspecial |  -.8970746   .0591554   -15.16   0.000    -1.013017   -.7811323
                          _cons |   5.359872   .2834122    18.91   0.000     4.804394     5.91535
--------------------------------+----------------------------------------------------------------
Usigma                          |
                   lngrassratio |   4.325771   .8730738     4.95   0.000     2.614578    6.036964
                      lnspecial |   7.828909   1.606469     4.87   0.000     4.680287    10.97753
                          _cons |    -55.459   9.419981    -5.89   0.000    -73.92183   -36.99618
--------------------------------+----------------------------------------------------------------
Vsigma                          |
                          TREND |    .311708   .0193171    16.14   0.000     .2738473    .3495688
                          _cons |  -3.863947   .1052454   -36.71   0.000    -4.070224    -3.65767
--------------------------------+----------------------------------------------------------------
  E(sigma_u) |   .0423355                                 .0282807    .0563902
  E(sigma_v) |   .3428615                                 .3384413    .3472817
------------------------------------------------------------------------------

. estimates store `model1name'_FRA_`tech_or_cost' 

. estimates save `fadnoutdatadir'/`model1name'_FRA_`tech_or_cost'_$datestamp$timestamp.ster, replace
(note: file D:\Data/data_FADNPanelAnalysis/OutData/multisward/bc95_FRA_cost_2014_09_220239pm.ster not found)
file D:\Data/data_FADNPanelAnalysis/OutData/multisward/bc95_FRA_cost_2014_09_220239pm.ster saved

. di `e(converged)'
1

. 
. sfpanel `dep_vlist' `indep_vlist' TREND if country == "IRE",  `cost' model(bc95) d(tnormal) posthessian robust emean(`z_vlist') usigma(`z_vlist') 


initial:       Log pseudolikelihood = -18260.666
Iteration 0:   Log pseudolikelihood = -18260.666  
Iteration 1:   Log pseudolikelihood = -13434.349  (backed up)
Iteration 2:   Log pseudolikelihood = -7622.8719  (backed up)
Iteration 3:   Log pseudolikelihood = -7497.4589  (backed up)
Iteration 4:   Log pseudolikelihood = -6425.6533  (backed up)
Iteration 5:   Log pseudolikelihood = -6369.4881  (backed up)
Iteration 6:   Log pseudolikelihood = -6131.8482  (backed up)
Iteration 7:   Log pseudolikelihood = -6075.2981  (backed up)
Iteration 8:   Log pseudolikelihood = -6007.8542  
Iteration 9:   Log pseudolikelihood =  -4783.877  
Iteration 10:  Log pseudolikelihood = -4081.0749  
Iteration 11:  Log pseudolikelihood = -3759.2684  
Iteration 12:  Log pseudolikelihood = -3651.3242  
Iteration 13:  Log pseudolikelihood = -3651.3242  (backed up)
Iteration 14:  Log pseudolikelihood = -3641.0347  
Iteration 15:  Log pseudolikelihood = -3533.5117  
Iteration 16:  Log pseudolikelihood = -3391.3291  
Iteration 17:  Log pseudolikelihood = -3163.0996  
Iteration 18:  Log pseudolikelihood = -3036.9014  
Iteration 19:  Log pseudolikelihood = -2943.5348  
Iteration 20:  Log pseudolikelihood = -2396.5157  
Iteration 21:  Log pseudolikelihood = -2229.2182  
Iteration 22:  Log pseudolikelihood = -1796.7738  
Iteration 23:  Log pseudolikelihood = -1428.8869  
Iteration 24:  Log pseudolikelihood = -935.18086  
Iteration 25:  Log pseudolikelihood = -477.09202  
Iteration 26:  Log pseudolikelihood = -282.65771  
Iteration 27:  Log pseudolikelihood =  23.549829  
Iteration 28:  Log pseudolikelihood =  121.74684  
Iteration 29:  Log pseudolikelihood =  212.66839  
Iteration 30:  Log pseudolikelihood =   267.9872  
Iteration 31:  Log pseudolikelihood =  293.85277  
Iteration 32:  Log pseudolikelihood =  309.58281  
Iteration 33:  Log pseudolikelihood =  314.77481  
Iteration 34:  Log pseudolikelihood =  320.11677  
Iteration 35:  Log pseudolikelihood =  327.22821  
Iteration 36:  Log pseudolikelihood =  331.05563  
Iteration 37:  Log pseudolikelihood =  335.00247  
Iteration 38:  Log pseudolikelihood =   336.5606  
Iteration 39:  Log pseudolikelihood =  337.52135  
Iteration 40:  Log pseudolikelihood =  337.91694  
Iteration 41:  Log pseudolikelihood =  338.47052  
Iteration 42:  Log pseudolikelihood =  338.98321  
Iteration 43:  Log pseudolikelihood =  341.34784  
Iteration 44:  Log pseudolikelihood =  342.10785  
Iteration 45:  Log pseudolikelihood =   342.4216  
Iteration 46:  Log pseudolikelihood =  343.16424  
Iteration 47:  Log pseudolikelihood =  343.22501  
Iteration 48:  Log pseudolikelihood =  343.23451  
Iteration 49:  Log pseudolikelihood =   343.2353  
Iteration 50:  Log pseudolikelihood =  343.23533  

Inefficiency effects model (truncated-normal)        Number of obs =      3549
Group variable: pid                               Number of groups =       724
Time variable: year                             Obs per group: min =         1
                                                               avg =       4.9
                                                               max =         9

                                                     Prob > chi2   =    0.0000
Log pseudolikelihood =   343.2353                    Wald chi2(5)  =   7402.14

                                                     (Std. Err. adjusted for 724 clusters in pid)
-------------------------------------------------------------------------------------------------
                                |               Robust
           lntotalspecificcosts |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
Frontier                        |
                lndairyproducts |    .984384   .0121129    81.27   0.000      .960643    1.008125
                 lnPTotalCattle |   .2705533   .0724399     3.73   0.000     .1285738    .4125328
lnPCompoundfeedingstuffsforcatt |   1.019733    .090773    11.23   0.000     .8418212    1.197645
 lnPFERTILISERSANDSOILIMPROVERS |   .3441195   .0810692     4.24   0.000     .1852269    .5030122
                          TREND |   -.044969   .0050669    -8.88   0.000    -.0548999   -.0350382
                          _cons |   -16.3578   .5192922   -31.50   0.000     -17.3756   -15.34001
--------------------------------+----------------------------------------------------------------
Mu                              |
                   lngrassratio |  -.0998233   .0137938    -7.24   0.000    -.1268586   -.0727879
                      lnspecial |  -1.019213   .0501654   -20.32   0.000    -1.117536   -.9208911
                          _cons |   13.07795          .        .       .            .           .
--------------------------------+----------------------------------------------------------------
Usigma                          |
                   lngrassratio |  -1.397906   .3153606    -4.43   0.000    -2.016002   -.7798106
                      lnspecial |   2.757505   .9449816     2.92   0.004     .9053754    4.609635
                          _cons |  -13.09381   4.434923    -2.95   0.003     -21.7861   -4.401524
--------------------------------+----------------------------------------------------------------
Vsigma                          |
                          _cons |  -3.179744   .0846214   -37.58   0.000    -3.345599   -3.013889
--------------------------------+----------------------------------------------------------------
  E(sigma_u) |   .0779142                                 .0754564    .0803719
     sigma_v |   .2039517   .0086293    23.63   0.000     .1877208     .221586
------------------------------------------------------------------------------

. estimates store `model1name'_IRE_`tech_or_cost'

. estimates save `fadnoutdatadir'/`model1name'_IRE_`tech_or_cost'_$datestamp$timestamp.ster, replace
(note: file D:\Data/data_FADNPanelAnalysis/OutData/multisward/bc95_IRE_cost_2014_09_220239pm.ster not found)
file D:\Data/data_FADNPanelAnalysis/OutData/multisward/bc95_IRE_cost_2014_09_220239pm.ster saved

. di `e(converged)'
1

. 
. sfpanel `dep_vlist' `indep_vlist' TREND if country == "UKI",  `cost' model(bc95) d(tnormal) posthessian robust emean(`z_vlist') usigma(`z_vlist')


initial:       Log pseudolikelihood = -23991.175
Iteration 0:   Log pseudolikelihood = -23991.175  
Iteration 1:   Log pseudolikelihood = -18498.644  (backed up)
Iteration 2:   Log pseudolikelihood = -17830.249  (backed up)
numerical derivatives are approximate
flat or discontinuous region encountered
Iteration 3:   Log pseudolikelihood = -10799.095  (backed up)
Iteration 4:   Log pseudolikelihood = -10761.213  (backed up)
Iteration 5:   Log pseudolikelihood = -9732.3019  (backed up)
Iteration 6:   Log pseudolikelihood = -8596.8721  (backed up)
Iteration 7:   Log pseudolikelihood = -8589.0818  (backed up)
Iteration 8:   Log pseudolikelihood = -8084.8637  
Iteration 9:   Log pseudolikelihood = -7634.0649  (backed up)
Iteration 10:  Log pseudolikelihood = -6958.8726  
Iteration 11:  Log pseudolikelihood = -6934.3472  
Iteration 12:  Log pseudolikelihood =  -6222.521  
Iteration 13:  Log pseudolikelihood = -6078.4533  
Iteration 14:  Log pseudolikelihood = -5559.6406  
Iteration 15:  Log pseudolikelihood = -4991.2346  
Iteration 16:  Log pseudolikelihood = -3772.6173  
Iteration 17:  Log pseudolikelihood = -3665.0266  
Iteration 18:  Log pseudolikelihood = -3068.8555  
Iteration 19:  Log pseudolikelihood = -2914.2336  
Iteration 20:  Log pseudolikelihood = -2896.6358  
Iteration 21:  Log pseudolikelihood = -2896.6358  (backed up)
Iteration 22:  Log pseudolikelihood = -2896.3037  (backed up)
BFGS stepping has contracted, resetting BFGS Hessian
Iteration 23:  Log pseudolikelihood = -2896.3037  (backed up)
Iteration 24:  Log pseudolikelihood = -2877.2468  (backed up)
Iteration 25:  Log pseudolikelihood =  -1844.637  (backed up)
Iteration 26:  Log pseudolikelihood = -672.95596  (backed up)
Iteration 27:  Log pseudolikelihood = -562.67172  (backed up)
Iteration 28:  Log pseudolikelihood = -559.29497  (backed up)
Iteration 29:  Log pseudolikelihood = -554.22045  (backed up)
Iteration 30:  Log pseudolikelihood = -376.81103  
Iteration 31:  Log pseudolikelihood = -332.34637  
Iteration 32:  Log pseudolikelihood = -328.32745  
Iteration 33:  Log pseudolikelihood = -319.51643  
Iteration 34:  Log pseudolikelihood = -317.80602  
Iteration 35:  Log pseudolikelihood = -294.70582  
Iteration 36:  Log pseudolikelihood = -289.38312  
Iteration 37:  Log pseudolikelihood = -281.79031  
Iteration 38:  Log pseudolikelihood = -276.11472  
Iteration 39:  Log pseudolikelihood = -275.14164  
Iteration 40:  Log pseudolikelihood = -272.47089  
Iteration 41:  Log pseudolikelihood = -269.46304  
Iteration 42:  Log pseudolikelihood = -267.36649  
Iteration 43:  Log pseudolikelihood =  -266.9446  
Iteration 44:  Log pseudolikelihood = -266.29822  
Iteration 45:  Log pseudolikelihood = -265.94323  
Iteration 46:  Log pseudolikelihood = -265.46469  
Iteration 47:  Log pseudolikelihood = -265.31097  
Iteration 48:  Log pseudolikelihood = -265.25399  
Iteration 49:  Log pseudolikelihood = -265.24387  
Iteration 50:  Log pseudolikelihood = -265.24308  
Iteration 51:  Log pseudolikelihood =  -265.2429  
Iteration 52:  Log pseudolikelihood =  -265.2429  

Inefficiency effects model (truncated-normal)        Number of obs =      4961
Group variable: pid                               Number of groups =      1682
Time variable: year                             Obs per group: min =         1
                                                               avg =       2.9
                                                               max =         9

                                                     Prob > chi2   =    0.0000
Log pseudolikelihood =  -265.2429                    Wald chi2(5)  =   9769.85

                                                    (Std. Err. adjusted for 1682 clusters in pid)
-------------------------------------------------------------------------------------------------
                                |               Robust
           lntotalspecificcosts |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
Frontier                        |
                lndairyproducts |    .991189    .011176    88.69   0.000     .9692844    1.013094
                 lnPTotalCattle |   .2824773   .0811232     3.48   0.000     .1234788    .4414758
lnPCompoundfeedingstuffsforcatt |   .9705705   .1065852     9.11   0.000     .7616674    1.179474
 lnPFERTILISERSANDSOILIMPROVERS |   .6137901   .0966777     6.35   0.000     .4243052    .8032751
                          TREND |  -.0504789   .0067898    -7.43   0.000    -.0637867   -.0371711
                          _cons |   -21.3268       .454   -46.98   0.000    -22.21663   -20.43698
--------------------------------+----------------------------------------------------------------
Mu                              |
                   lngrassratio |   .0172176   .0055437     3.11   0.002     .0063522     .028083
                      lnspecial |  -.8387546   .0721304   -11.63   0.000    -.9801276   -.6973816
                          _cons |   15.98282   .2921044    54.72   0.000      15.4103    16.55533
--------------------------------+----------------------------------------------------------------
Usigma                          |
                   lngrassratio |   2.198627   .4834996     4.55   0.000     1.250985    3.146269
                      lnspecial |  -2.296248   1.369504    -1.68   0.094    -4.980426    .3879308
                          _cons |  -1.756786   5.769211    -0.30   0.761    -13.06423     9.55066
--------------------------------+----------------------------------------------------------------
Vsigma                          |
                          _cons |  -2.800038   .0669579   -41.82   0.000    -2.931273   -2.668803
--------------------------------+----------------------------------------------------------------
  E(sigma_u) |   .0514477                                 .0498037    .0530917
     sigma_v |   .2465923   .0082557    29.87   0.000     .2309309    .2633157
------------------------------------------------------------------------------

. estimates store `model1name'_UKI_`tech_or_cost'

. estimates save `fadnoutdatadir'/`model1name'_UKI_`tech_or_cost'_$datestamp$timestamp.ster, replace
(note: file D:\Data/data_FADNPanelAnalysis/OutData/multisward/bc95_UKI_cost_2014_09_220239pm.ster not found)
file D:\Data/data_FADNPanelAnalysis/OutData/multisward/bc95_UKI_cost_2014_09_220239pm.ster saved

. di `e(converged)'
1

. 
. sfpanel `dep_vlist' `indep_vlist' TREND if atl_plains == 1, `cost'  model(bc95) d(tnormal) posthessian robust emean(`z_vlist') usigma(`z_vlist') vsigma(TREND)


initial:       Log pseudolikelihood = -36775.006
Iteration 0:   Log pseudolikelihood = -36775.006  
Iteration 1:   Log pseudolikelihood = -21749.985  (backed up)
Iteration 2:   Log pseudolikelihood = -17760.886  (backed up)
Iteration 3:   Log pseudolikelihood = -17667.024  (backed up)
Iteration 4:   Log pseudolikelihood = -16898.296  (backed up)
Iteration 5:   Log pseudolikelihood = -16855.231  (backed up)
Iteration 6:   Log pseudolikelihood = -16850.746  (backed up)
Iteration 7:   Log pseudolikelihood = -16782.295  (backed up)
Iteration 8:   Log pseudolikelihood = -16712.316  (backed up)
Iteration 9:   Log pseudolikelihood = -14006.933  
Iteration 10:  Log pseudolikelihood = -13324.618  (backed up)
Iteration 11:  Log pseudolikelihood = -13037.116  
Iteration 12:  Log pseudolikelihood = -12614.586  
Iteration 13:  Log pseudolikelihood = -10636.025  
Iteration 14:  Log pseudolikelihood =  -10499.33  
Iteration 15:  Log pseudolikelihood = -10484.827  (backed up)
Iteration 16:  Log pseudolikelihood = -10479.463  (backed up)
Iteration 17:  Log pseudolikelihood = -10478.288  (backed up)
Iteration 18:  Log pseudolikelihood = -10477.198  (backed up)
Iteration 19:  Log pseudolikelihood = -10476.865  (backed up)
Iteration 20:  Log pseudolikelihood = -10476.836  (backed up)
numerical derivatives are approximate
nearby values are missing
Iteration 21:  Log pseudolikelihood = -10476.818  (backed up)
numerical derivatives are approximate
nearby values are missing
Iteration 22:  Log pseudolikelihood = -10476.817  (backed up)
numerical derivatives are approximate
nearby values are missing
Iteration 23:  Log pseudolikelihood = -10476.816  (backed up)
Iteration 24:  Log pseudolikelihood = -9689.2404  
BFGS stepping has contracted, resetting BFGS Hessian
Iteration 25:  Log pseudolikelihood = -9689.2404  (backed up)
Iteration 26:  Log pseudolikelihood = -9681.8095  (backed up)
Iteration 27:  Log pseudolikelihood = -8997.4291  (backed up)
Iteration 28:  Log pseudolikelihood = -8987.9554  (backed up)
Iteration 29:  Log pseudolikelihood = -5611.9985  (backed up)
Iteration 30:  Log pseudolikelihood = -5559.8236  (backed up)
Iteration 31:  Log pseudolikelihood = -5456.8612  (backed up)
Iteration 32:  Log pseudolikelihood = -5400.5525  (backed up)
Iteration 33:  Log pseudolikelihood = -4836.4922  (backed up)
Iteration 34:  Log pseudolikelihood = -3992.5228  (backed up)
Iteration 35:  Log pseudolikelihood = -3398.5248  (backed up)
Iteration 36:  Log pseudolikelihood = -3068.4181  
Iteration 37:  Log pseudolikelihood = -1393.0333  
Iteration 38:  Log pseudolikelihood = -841.36674  
Iteration 39:  Log pseudolikelihood = -835.87971  
Iteration 40:  Log pseudolikelihood =  1535.1438  
Iteration 41:  Log pseudolikelihood =  2069.6049  
Iteration 42:  Log pseudolikelihood =  2122.7941  
Iteration 43:  Log pseudolikelihood =  2191.5103  
Iteration 44:  Log pseudolikelihood =  2214.4473  
Iteration 45:  Log pseudolikelihood =  2219.0204  
Iteration 46:  Log pseudolikelihood =  2228.8579  
Iteration 47:  Log pseudolikelihood =  2230.4878  
Iteration 48:  Log pseudolikelihood =  2230.6232  
Iteration 49:  Log pseudolikelihood =  2231.2891  
Iteration 50:  Log pseudolikelihood =  2231.3064  
Iteration 51:  Log pseudolikelihood =  2231.6673  
Iteration 52:  Log pseudolikelihood =  2231.7612  
Iteration 53:  Log pseudolikelihood =  2231.7666  
Iteration 54:  Log pseudolikelihood =   2231.767  
Iteration 55:  Log pseudolikelihood =   2231.767  

Inefficiency effects model (truncated-normal)        Number of obs =      7353
Group variable: pid                               Number of groups =      1909
Time variable: year                             Obs per group: min =         1
                                                               avg =       3.9
                                                               max =         9

                                                     Prob > chi2   =    0.0000
Log pseudolikelihood =  2231.7670                    Wald chi2(5)  =  11562.39

                                                    (Std. Err. adjusted for 1909 clusters in pid)
-------------------------------------------------------------------------------------------------
                                |               Robust
           lntotalspecificcosts |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
Frontier                        |
                lndairyproducts |   .9812546   .0093214   105.27   0.000     .9629851    .9995241
                 lnPTotalCattle |  -.0697699   .0696829    -1.00   0.317    -.2063459    .0668062
lnPCompoundfeedingstuffsforcatt |   .7743301   .1673987     4.63   0.000     .4462347    1.102426
 lnPFERTILISERSANDSOILIMPROVERS |   .5226542   .0828377     6.31   0.000     .3602953    .6850131
                          TREND |  -.0497909    .004245   -11.73   0.000     -.058111   -.0414708
                          _cons |  -21.36733          .        .       .            .           .
--------------------------------+----------------------------------------------------------------
Mu                              |
                   lngrassratio |  -.0518436   .0074689    -6.94   0.000    -.0664823    -.037205
                      lnspecial |  -.9833663   .0610059   -16.12   0.000    -1.102936   -.8637969
                          _cons |   18.16485   .6355415    28.58   0.000     16.91922    19.41049
--------------------------------+----------------------------------------------------------------
Usigma                          |
                   lngrassratio |   .3987186          .        .       .            .           .
                      lnspecial |  -4.506775          .        .       .            .           .
                          _cons |   -3.22521          .        .       .            .           .
--------------------------------+----------------------------------------------------------------
Vsigma                          |
                          TREND |   .5616244   .0224623    25.00   0.000     .5175992    .6056497
                          _cons |  -4.713819   .0776168   -60.73   0.000    -4.865945   -4.561693
--------------------------------+----------------------------------------------------------------
  E(sigma_u) |   .0000213                                 .0000204    .0000223
  E(sigma_v) |   .4786841                                 .4710621    .4863061
------------------------------------------------------------------------------

. estimates store `model1name'_ATL_`tech_or_cost'

. estimates save `fadnoutdatadir'/`model1name'_ATL_`tech_or_cost'_$datestamp$timestamp.ster, replace
(note: file D:\Data/data_FADNPanelAnalysis/OutData/multisward/bc95_ATL_cost_2014_09_220239pm.ster not found)
file D:\Data/data_FADNPanelAnalysis/OutData/multisward/bc95_ATL_cost_2014_09_220239pm.ster saved

. di `e(converged)'
1

. 
. sfpanel `dep_vlist' `indep_vlist' TREND if cont_eur == 1,   `cost' model(bc95) d(tnormal) posthessian robust emean(`z_vlist') usigma(`z_vlist') 


initial:       Log pseudolikelihood = -90455.043
Iteration 0:   Log pseudolikelihood = -90455.043  
Iteration 1:   Log pseudolikelihood = -71969.594  (backed up)
Iteration 2:   Log pseudolikelihood = -32683.044  (backed up)
Iteration 3:   Log pseudolikelihood = -32174.778  (backed up)
Iteration 4:   Log pseudolikelihood = -29688.461  (backed up)
Iteration 5:   Log pseudolikelihood = -25886.042  (backed up)
Iteration 6:   Log pseudolikelihood = -23735.322  (backed up)
Iteration 7:   Log pseudolikelihood = -23460.213  (backed up)
Iteration 8:   Log pseudolikelihood = -23220.117  (backed up)
Iteration 9:   Log pseudolikelihood = -22559.193  
Iteration 10:  Log pseudolikelihood = -22084.658  (backed up)
Iteration 11:  Log pseudolikelihood = -21813.349  (backed up)
Iteration 12:  Log pseudolikelihood = -20786.736  (backed up)
Iteration 13:  Log pseudolikelihood = -19678.681  (backed up)
Iteration 14:  Log pseudolikelihood = -11767.171  
Iteration 15:  Log pseudolikelihood = -9500.0284  
Iteration 16:  Log pseudolikelihood = -8303.9423  
Iteration 17:  Log pseudolikelihood = -6464.7928  
Iteration 18:  Log pseudolikelihood =  -4592.424  
Iteration 19:  Log pseudolikelihood = -4519.9198  
Iteration 20:  Log pseudolikelihood = -4420.3917  
Iteration 21:  Log pseudolikelihood = -4388.6361  
Iteration 22:  Log pseudolikelihood = -4382.4111  
Iteration 23:  Log pseudolikelihood = -4379.1789  
Iteration 24:  Log pseudolikelihood = -4378.7913  (backed up)
Iteration 25:  Log pseudolikelihood = -4378.7858  (backed up)
numerical derivatives are approximate
nearby values are missing
Iteration 26:  Log pseudolikelihood = -4378.7831  (backed up)
numerical derivatives are approximate
nearby values are missing
Iteration 27:  Log pseudolikelihood = -4378.7831  (backed up)
numerical derivatives are approximate
nearby values are missing
Iteration 28:  Log pseudolikelihood = -4378.7831  (backed up)
numerical derivatives are approximate
nearby values are missing
Iteration 29:  Log pseudolikelihood = -4378.7831  (backed up)
Iteration 30:  Log pseudolikelihood = -4374.9749  
Iteration 31:  Log pseudolikelihood = -4369.8123  
Iteration 32:  Log pseudolikelihood = -4365.4066  
Iteration 33:  Log pseudolikelihood = -4364.6697  
Iteration 34:  Log pseudolikelihood = -4364.4387  (backed up)
Iteration 35:  Log pseudolikelihood = -4364.3803  (backed up)
Iteration 36:  Log pseudolikelihood = -4364.3509  (backed up)
Iteration 37:  Log pseudolikelihood = -4364.3435  (backed up)
Iteration 38:  Log pseudolikelihood = -4364.3398  (backed up)
Iteration 39:  Log pseudolikelihood = -4364.3389  (backed up)
Iteration 40:  Log pseudolikelihood = -4364.3384  (backed up)
numerical derivatives are approximate
nearby values are missing
Iteration 41:  Log pseudolikelihood = -4364.3382  (backed up)
numerical derivatives are approximate
nearby values are missing
Iteration 42:  Log pseudolikelihood = -4364.3381  (backed up)
numerical derivatives are approximate
nearby values are missing
Iteration 43:  Log pseudolikelihood = -4364.3381  (backed up)
numerical derivatives are approximate
nearby values are missing
Iteration 44:  Log pseudolikelihood = -4364.3381  (backed up)
numerical derivatives are approximate
nearby values are missing
Iteration 45:  Log pseudolikelihood = -4364.3381  (backed up)
numerical derivatives are approximate
nearby values are missing
Iteration 46:  Log pseudolikelihood = -4364.2859  (backed up)
Iteration 47:  Log pseudolikelihood = -4356.5881  
Iteration 48:  Log pseudolikelihood = -4347.2214  
Iteration 49:  Log pseudolikelihood =  -4340.568  
Iteration 50:  Log pseudolikelihood = -4339.0931  
Iteration 51:  Log pseudolikelihood = -4338.9942  
Iteration 52:  Log pseudolikelihood = -4338.9849  
BFGS stepping has contracted, resetting BFGS Hessian
Iteration 53:  Log pseudolikelihood =  -4338.973  
Iteration 54:  Log pseudolikelihood = -4338.9728  (backed up)
Iteration 55:  Log pseudolikelihood = -4338.9728  (backed up)
Iteration 56:  Log pseudolikelihood = -4338.9726  (backed up)
Iteration 57:  Log pseudolikelihood = -4338.9721  (backed up)
Iteration 58:  Log pseudolikelihood = -4338.9708  (backed up)
Iteration 59:  Log pseudolikelihood = -4338.9706  (backed up)
Iteration 60:  Log pseudolikelihood = -4338.9693  (backed up)
Iteration 61:  Log pseudolikelihood = -4338.9693  (backed up)
Iteration 62:  Log pseudolikelihood = -4338.9691  
Iteration 63:  Log pseudolikelihood = -4338.9655  
Iteration 64:  Log pseudolikelihood = -4338.9631  
Iteration 65:  Log pseudolikelihood = -4338.9623  
BFGS stepping has contracted, resetting BFGS Hessian
Iteration 66:  Log pseudolikelihood = -4338.9621  
Iteration 67:  Log pseudolikelihood = -4338.9621  (backed up)
Iteration 68:  Log pseudolikelihood = -4338.9621  (backed up)
Iteration 69:  Log pseudolikelihood = -4338.9621  (backed up)
Iteration 70:  Log pseudolikelihood = -4338.9621  (backed up)
Iteration 71:  Log pseudolikelihood = -4338.9621  (backed up)
Iteration 72:  Log pseudolikelihood = -4338.9621  (backed up)
Iteration 73:  Log pseudolikelihood = -4338.9621  (backed up)
Iteration 74:  Log pseudolikelihood = -4338.9621  (backed up)
Iteration 75:  Log pseudolikelihood = -4338.9621  (backed up)

Inefficiency effects model (truncated-normal)        Number of obs =     18253
Group variable: pid                               Number of groups =      5092
Time variable: year                             Obs per group: min =         1
                                                               avg =       3.6
                                                               max =         9

                                                     Prob > chi2   =    0.0000
Log pseudolikelihood = -4338.9621                    Wald chi2(5)  =  27255.70

                                                    (Std. Err. adjusted for 5092 clusters in pid)
-------------------------------------------------------------------------------------------------
                                |               Robust
           lntotalspecificcosts |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
Frontier                        |
                lndairyproducts |   1.033251   .0072089   143.33   0.000     1.019122     1.04738
                 lnPTotalCattle |   .0126241   .0459243     0.27   0.783    -.0773858     .102634
lnPCompoundfeedingstuffsforcatt |   .6499794   .0316044    20.57   0.000     .5880358    .7119229
 lnPFERTILISERSANDSOILIMPROVERS |   .7032475   .0536898    13.10   0.000     .5980174    .8084776
                          TREND |  -.0258635   .0027504    -9.40   0.000    -.0312542   -.0204728
                          _cons |  -10.04211          .        .       .            .           .
--------------------------------+----------------------------------------------------------------
Mu                              |
                   lngrassratio |   .0056517   .0028584     1.98   0.048     .0000495     .011254
                      lnspecial |  -.7338315   .0435942   -16.83   0.000    -.8192745   -.6483885
                          _cons |   4.642598   .2282171    20.34   0.000     4.195301    5.089895
--------------------------------+----------------------------------------------------------------
Usigma                          |
                   lngrassratio |  -3.370097   .4227595    -7.97   0.000     -4.19869   -2.541503
                      lnspecial |    3.57323          .        .       .            .           .
                          _cons |  -46.66738          .        .       .            .           .
--------------------------------+----------------------------------------------------------------
Vsigma                          |
                          _cons |  -2.362451   .0284408   -83.07   0.000    -2.418194   -2.306708
--------------------------------+----------------------------------------------------------------
  E(sigma_u) |   3.17e-06                                 2.19e-06    4.15e-06
     sigma_v |   .3069024   .0043643    70.32   0.000     .2984666    .3155765
------------------------------------------------------------------------------

. estimates store `model1name'_CEU_`tech_or_cost'

. estimates save `fadnoutdatadir'/`model1name'_CEU_`tech_or_cost'_$datestamp$timestamp.ster, replace
(note: file D:\Data/data_FADNPanelAnalysis/OutData/multisward/bc95_CEU_cost_2014_09_220239pm.ster not found)
file D:\Data/data_FADNPanelAnalysis/OutData/multisward/bc95_CEU_cost_2014_09_220239pm.ster saved

. di `e(converged)'
1

. 
. * BEST RESULT Effect on Mu parameter = -0.0054 Sigma U Parameter = 2.308268 need to figure out partial effect for this. Non-monotonic effect of grass. HARD CODE f
> or reference. 
. *sfpanel lntotalspecificcosts lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS TREND , cost model(bc95) d(tnormal) po
> sthessian robust emean(lngrassratio lnspecial) usigma(lngrassratio lnspecial) vsigma(TREND)
. 
. sfpanel `dep_vlist' `indep_vlist' TREND , `cost' model(bc95) d(tnormal) posthessian robust emean(`z_vlist') usigma(`z_vlist') vsigma(TREND)


initial:       Log pseudolikelihood = -127529.32
Iteration 0:   Log pseudolikelihood = -127529.32  
Iteration 1:   Log pseudolikelihood = -68827.285  (backed up)
Iteration 2:   Log pseudolikelihood =  -57578.35  (backed up)
Iteration 3:   Log pseudolikelihood = -57061.161  (backed up)
Iteration 4:   Log pseudolikelihood = -54587.567  (backed up)
Iteration 5:   Log pseudolikelihood = -53533.717  (backed up)
Iteration 6:   Log pseudolikelihood = -53489.536  (backed up)
Iteration 7:   Log pseudolikelihood = -53386.514  (backed up)
Iteration 8:   Log pseudolikelihood = -53337.871  (backed up)
Iteration 9:   Log pseudolikelihood = -53285.283  (backed up)
Iteration 10:  Log pseudolikelihood = -45218.979  (backed up)
Iteration 11:  Log pseudolikelihood = -37513.474  (backed up)
Iteration 12:  Log pseudolikelihood = -33623.351  (backed up)
Iteration 13:  Log pseudolikelihood = -32881.116  (backed up)
Iteration 14:  Log pseudolikelihood = -32675.992  (backed up)
Iteration 15:  Log pseudolikelihood =     -29200  
Iteration 16:  Log pseudolikelihood = -26613.967  
Iteration 17:  Log pseudolikelihood = -22386.728  
Iteration 18:  Log pseudolikelihood = -21594.561  
Iteration 19:  Log pseudolikelihood = -21543.621  (backed up)
Iteration 20:  Log pseudolikelihood = -16691.559  
Iteration 21:  Log pseudolikelihood = -12445.742  
Iteration 22:  Log pseudolikelihood = -10694.325  
Iteration 23:  Log pseudolikelihood = -7980.9527  
Iteration 24:  Log pseudolikelihood = -7389.3241  
Iteration 25:  Log pseudolikelihood = -7235.5898  (backed up)
Iteration 26:  Log pseudolikelihood = -7214.0094  (backed up)
Iteration 27:  Log pseudolikelihood = -7212.1436  (backed up)
Iteration 28:  Log pseudolikelihood = -7210.7612  (backed up)
Iteration 29:  Log pseudolikelihood = -7210.3092  (backed up)
Iteration 30:  Log pseudolikelihood = -7210.0336  (backed up)
Iteration 31:  Log pseudolikelihood = -7209.9542  (backed up)
Iteration 32:  Log pseudolikelihood = -7209.9337  (backed up)
Iteration 33:  Log pseudolikelihood = -7209.9286  (backed up)
Iteration 34:  Log pseudolikelihood = -7209.9273  (backed up)
numerical derivatives are approximate
nearby values are missing
Iteration 35:  Log pseudolikelihood = -7209.9266  (backed up)
numerical derivatives are approximate
nearby values are missing
numerical derivatives are approximate
nearby values are missing
Iteration 36:  Log pseudolikelihood =  -7209.926  (backed up)
Iteration 37:  Log pseudolikelihood =  1078.2714  (backed up)
Iteration 38:  Log pseudolikelihood =   2452.594  
Iteration 39:  Log pseudolikelihood =  2736.0902  
Iteration 40:  Log pseudolikelihood =   3343.182  
Iteration 41:  Log pseudolikelihood =  3370.1725  
Iteration 42:  Log pseudolikelihood =  3430.7253  
Iteration 43:  Log pseudolikelihood =  3551.2754  
Iteration 44:  Log pseudolikelihood =  3576.5788  
Iteration 45:  Log pseudolikelihood =  3635.0632  
Iteration 46:  Log pseudolikelihood =  3657.1783  
Iteration 47:  Log pseudolikelihood =  3661.1198  
Iteration 48:  Log pseudolikelihood =   3667.269  
Iteration 49:  Log pseudolikelihood =  3698.4809  
Iteration 50:  Log pseudolikelihood =   3699.815  
Iteration 51:  Log pseudolikelihood =  3715.0157  
Iteration 52:  Log pseudolikelihood =  3721.2098  
Iteration 53:  Log pseudolikelihood =   3725.237  
Iteration 54:  Log pseudolikelihood =  3726.9294  
Iteration 55:  Log pseudolikelihood =  3727.9182  
Iteration 56:  Log pseudolikelihood =  3728.0949  
Iteration 57:  Log pseudolikelihood =  3728.2414  
Iteration 58:  Log pseudolikelihood =  3729.3149  
Iteration 59:  Log pseudolikelihood =   3731.267  
Iteration 60:  Log pseudolikelihood =   3731.384  
Iteration 61:  Log pseudolikelihood =  3731.3864  
Iteration 62:  Log pseudolikelihood =  3731.4406  
Iteration 63:  Log pseudolikelihood =  3731.8534  
Iteration 64:  Log pseudolikelihood =  3732.0719  
Iteration 65:  Log pseudolikelihood =  3732.1219  
Iteration 66:  Log pseudolikelihood =  3732.1345  
Iteration 67:  Log pseudolikelihood =  3732.1356  
Iteration 68:  Log pseudolikelihood =  3732.1356  

Inefficiency effects model (truncated-normal)        Number of obs =     25606
Group variable: pid                               Number of groups =      7001
Time variable: year                             Obs per group: min =         1
                                                               avg =       3.7
                                                               max =         9

                                                     Prob > chi2   =    0.0000
Log pseudolikelihood =  3732.1356                    Wald chi2(5)  =  31056.66

                                                    (Std. Err. adjusted for 7001 clusters in pid)
-------------------------------------------------------------------------------------------------
                                |               Robust
           lntotalspecificcosts |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
Frontier                        |
                lndairyproducts |   1.021172   .0058682   174.02   0.000      1.00967    1.032674
                 lnPTotalCattle |   .0908232   .0384272     2.36   0.018     .0155072    .1661392
lnPCompoundfeedingstuffsforcatt |   .8211557   .0782973    10.49   0.000     .6676959    .9746156
 lnPFERTILISERSANDSOILIMPROVERS |   .3718991   .0495539     7.50   0.000     .2747753    .4690229
                          TREND |  -.0256454   .0023293   -11.01   0.000    -.0302108     -.02108
                          _cons |  -9.368743   1.519443    -6.17   0.000     -12.3468   -6.390689
--------------------------------+----------------------------------------------------------------
Mu                              |
                   lngrassratio |  -.0054131   .0028567    -1.89   0.058    -.0110122     .000186
                      lnspecial |   -.854449   .0457637   -18.67   0.000    -.9441441   -.7647538
                          _cons |   5.425669   1.488719     3.64   0.000     2.507834    8.343504
--------------------------------+----------------------------------------------------------------
Usigma                          |
                   lngrassratio |   2.308268   .4753376     4.86   0.000     1.376623    3.239912
                      lnspecial |   13.88524   2.056493     6.75   0.000     9.854583    17.91589
                          _cons |  -75.53368   8.781422    -8.60   0.000    -92.74495   -58.32241
--------------------------------+----------------------------------------------------------------
Vsigma                          |
                          TREND |   .5547151   .0123843    44.79   0.000     .5304423    .5789879
                          _cons |  -4.538382    .051596   -87.96   0.000    -4.639508   -4.437256
--------------------------------+----------------------------------------------------------------
  E(sigma_u) |   197.6849                                -186.7471     582.117
  E(sigma_v) |   .5214682                                 .5171171    .5258193
------------------------------------------------------------------------------

. estimates store `model1name'_ALL_`tech_or_cost'

. estimates save `fadnoutdatadir'/`model1name'_ALL_`tech_or_cost'_$datestamp$timestamp.ster, replace
(note: file D:\Data/data_FADNPanelAnalysis/OutData/multisward/bc95_ALL_cost_2014_09_220239pm.ster not found)
file D:\Data/data_FADNPanelAnalysis/OutData/multisward/bc95_ALL_cost_2014_09_220239pm.ster saved

. di `e(converged)'
1

. 
. log close
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 closed on:  22 Sep 2014, 14:55:43
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 17:05:24

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  17:05:24  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. tsset, clear

. qui reg  `dep_vlist' `indep_vlist' 

. predict xb , xb
(6 missing values generated)

. predict r  , resid
(6 missing values generated)

. predict rst, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more

. 
. foreach var of local indep_vlist {
  2.   avplot  `var'
  3.   more
  4.   rvpplot `var', yline(10)
  5.   more
  6. 
. }

. 
. graph drop _all

. 
. 
. /* Hadi's (1992, 1994) Algorithm to ID possible outliers, optimized by
>      Weber (2010) */
. bacon `dep_vlist' `indep_vlist', gen(out1)

Total number of observations:       28747
   BACON outliers (p = 0.15):           5
      Non-outliers remaining:       28742

. tw sc rst xb, ml(out1)

. tw sc rst xb if out1 == 1, ml(country)

. more

. 
. /* Tests for Normality of Residuals 
>    (for SFA, we expect them to be non-normal. 
>     They would be skewed if there is 
>     inefficiency present, but they must be 
>     LEFT-SKEWED!!!)
> --------------------------------------------- */
. kdensity r, norm

. more

. 
. 
. /* Tests for Multicollinearity
> ---------------------------------------------*/
. vif

    Variable |       VIF       1/VIF  
-------------+----------------------
lnPFERTILI~S |      4.08    0.244908
lnPTotalCa~e |      2.98    0.335866
lnPCompoun~t |      1.82    0.548923
lndairypro~s |      1.05    0.953744
-------------+----------------------
    Mean VIF |      2.48

. more

. 
. 
. /* Tests for Non-Linearity
> ---------------------------------------------*/
. foreach var of local indep_vlist {
  2. 
.   acprplot `var'
  3.   more
  4.   cprplot `var'
  5.   more
  6. 
. }

. 
. 
. /* Tests for Model Specification
> ---------------------------------------------*/
. linktest 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  2, 28744) =81524.36
       Model |  17055.3044     2  8527.65221           Prob > F      =  0.0000
    Residual |   3006.6945 28744  .104602509           R-squared     =  0.8501
-------------+------------------------------           Adj R-squared =  0.8501
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32342

------------------------------------------------------------------------------
lntotalspe~s |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        _hat |   .1932986   .0443736     4.36   0.000     .1063243    .2802729
      _hatsq |   .0378719   .0020799    18.21   0.000     .0337951    .0419487
       _cons |   4.273287   .2361619    18.09   0.000     3.810399    4.736175
------------------------------------------------------------------------------

. more

. ovtest 

Ramsey RESET test using powers of the fitted values of lntotalspecificcosts
       Ho:  model has no omitted variables
               F(3, 28739) =    193.55
                  Prob > F =      0.0000

. more

. 
. graph drop _all

. 
. 
. xtdescribe `dep_vlist' `indep_vlist'
varlist not allowed
r(101);

end of do-file
r(101);

end of do-file

r(101);

. help xtdescribe

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 17:07:20

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  17:07:20  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. keep `dep_vlist' `indep_vlist'

. 
. qui reg  `dep_vlist' `indep_vlist' 

. predict xb , xb
(6 missing values generated)

. predict r  , resid
(6 missing values generated)

. predict rst, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more

. 
. foreach var of local indep_vlist {
  2.   avplot  `var'
  3.   more
  4.   rvpplot `var', yline(10)
  5.   more
  6. 
. }

. 
. graph drop _all

. 
. 
. /* Hadi's (1992, 1994) Algorithm to ID possible outliers, optimized by
>      Weber (2010) */
. bacon `dep_vlist' `indep_vlist', gen(out1)

Total number of observations:       28747
   BACON outliers (p = 0.15):           5
      Non-outliers remaining:       28742

. tw sc rst xb, ml(out1)

. tw sc rst xb if out1 == 1, ml(country)
variable country not found
r(111);

end of do-file
r(111);

end of do-file

r(111);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 17:07:50

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  17:07:50  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. keep `dep_vlist' `indep_vlist' country

. 
. qui reg  `dep_vlist' `indep_vlist' 

. predict xb , xb
(6 missing values generated)

. predict r  , resid
(6 missing values generated)

. predict rst, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more

. 
. foreach var of local indep_vlist {
  2.   avplot  `var'
  3.   more
  4.   rvpplot `var', yline(10)
  5.   more
  6. 
. }

. 
. graph drop _all

. 
. 
. /* Hadi's (1992, 1994) Algorithm to ID possible outliers, optimized by
>      Weber (2010) */
. bacon `dep_vlist' `indep_vlist', gen(out1)

Total number of observations:       28747
   BACON outliers (p = 0.15):           5
      Non-outliers remaining:       28742

. tw sc rst xb, ml(out1)

. tw sc rst xb if out1 == 1, ml(country)

. more

. 
. /* Tests for Normality of Residuals 
>    (for SFA, we expect them to be non-normal. 
>     They would be skewed if there is 
>     inefficiency present, but they must be 
>     LEFT-SKEWED!!!)
> --------------------------------------------- */
. kdensity r, norm

. more

. 
. 
. /* Tests for Multicollinearity
> ---------------------------------------------*/
. vif

    Variable |       VIF       1/VIF  
-------------+----------------------
lnPFERTILI~S |      4.08    0.244908
lnPTotalCa~e |      2.98    0.335866
lnPCompoun~t |      1.82    0.548923
lndairypro~s |      1.05    0.953744
-------------+----------------------
    Mean VIF |      2.48

. more

. 
. 
. /* Tests for Non-Linearity
> ---------------------------------------------*/
. foreach var of local indep_vlist {
  2. 
.   acprplot `var'
  3.   more
  4.   cprplot `var'
  5.   more
  6. 
. }

. 
. 
. /* Tests for Model Specification
> ---------------------------------------------*/
. linktest 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  2, 28744) =81524.36
       Model |  17055.3044     2  8527.65221           Prob > F      =  0.0000
    Residual |   3006.6945 28744  .104602509           R-squared     =  0.8501
-------------+------------------------------           Adj R-squared =  0.8501
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32342

------------------------------------------------------------------------------
lntotalspe~s |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        _hat |   .1932986   .0443736     4.36   0.000     .1063243    .2802729
      _hatsq |   .0378719   .0020799    18.21   0.000     .0337951    .0419487
       _cons |   4.273287   .2361619    18.09   0.000     3.810399    4.736175
------------------------------------------------------------------------------

. more

. ovtest 

Ramsey RESET test using powers of the fitted values of lntotalspecificcosts
       Ho:  model has no omitted variables
               F(3, 28739) =    193.55
                  Prob > F =      0.0000

. more

. 
. graph drop _all

. 
. 
. xtdescribe 
variable pid not found
r(111);

end of do-file
r(111);

end of do-file

r(111);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 17:08:30

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  17:08:30  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. keep `dep_vlist' `indep_vlist' country pid year

. 
. qui reg  `dep_vlist' `indep_vlist' 

. predict xb , xb
(6 missing values generated)

. predict r  , resid
(6 missing values generated)

. predict rst, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more

. 
. foreach var of local indep_vlist {
  2.   avplot  `var'
  3.   more
  4.   rvpplot `var', yline(10)
  5.   more
  6. 
. }

. 
. graph drop _all

. 
. 
. /* Hadi's (1992, 1994) Algorithm to ID possible outliers, optimized by
>      Weber (2010) */
. bacon `dep_vlist' `indep_vlist', gen(out1)

Total number of observations:       28747
   BACON outliers (p = 0.15):           5
      Non-outliers remaining:       28742

. tw sc rst xb, ml(out1)

. tw sc rst xb if out1 == 1, ml(country)

. more

. 
. /* Tests for Normality of Residuals 
>    (for SFA, we expect them to be non-normal. 
>     They would be skewed if there is 
>     inefficiency present, but they must be 
>     LEFT-SKEWED!!!)
> --------------------------------------------- */
. kdensity r, norm

. more

. 
. 
. /* Tests for Multicollinearity
> ---------------------------------------------*/
. vif

    Variable |       VIF       1/VIF  
-------------+----------------------
lnPFERTILI~S |      4.08    0.244908
lnPTotalCa~e |      2.98    0.335866
lnPCompoun~t |      1.82    0.548923
lndairypro~s |      1.05    0.953744
-------------+----------------------
    Mean VIF |      2.48

. more

. 
. 
. /* Tests for Non-Linearity
> ---------------------------------------------*/
. foreach var of local indep_vlist {
  2. 
.   acprplot `var'
  3.   more
  4.   cprplot `var'
  5.   more
  6. 
. }

. 
. 
. /* Tests for Model Specification
> ---------------------------------------------*/
. linktest 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  2, 28744) =81524.36
       Model |  17055.3044     2  8527.65221           Prob > F      =  0.0000
    Residual |   3006.6945 28744  .104602509           R-squared     =  0.8501
-------------+------------------------------           Adj R-squared =  0.8501
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32342

------------------------------------------------------------------------------
lntotalspe~s |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        _hat |   .1932986   .0443736     4.36   0.000     .1063243    .2802729
      _hatsq |   .0378719   .0020799    18.21   0.000     .0337951    .0419487
       _cons |   4.273287   .2361619    18.09   0.000     3.810399    4.736175
------------------------------------------------------------------------------

. more

. ovtest 

Ramsey RESET test using powers of the fitted values of lntotalspecificcosts
       Ho:  model has no omitted variables
               F(3, 28739) =    193.55
                  Prob > F =      0.0000

. more

. 
. graph drop _all

. 
. 
. xtdescribe 

     pid:  1, 2, ..., 7742                                   n =       7709
    year:  1999, 2000, ..., 2007                             T =          9
           Delta(year) = 1 unit
           Span(year)  = 9 periods
           (pid*year uniquely identifies each observation)

Distribution of T_i:   min      5%     25%       50%       75%     95%     max
                         1       1       1         3         6       9       9

     Freq.  Percent    Cum. |  Pattern
 ---------------------------+-----------
      845     10.96   10.96 |  111111111
      702      9.11   20.07 |  1........
      688      8.92   28.99 |  11.......
      373      4.84   33.83 |  ........1
      231      3.00   36.83 |  111......
      230      2.98   39.81 |  .......11
      203      2.63   42.44 |  ..1111111
      202      2.62   45.06 |  .1.......
      198      2.57   47.63 |  ..1......
     4037     52.37  100.00 | (other patterns)
 ---------------------------+-----------
     7709    100.00         |  XXXXXXXXX

. 
. restore

. STOP!!!
unrecognized command:  STOP
r(199);

end of do-file
r(199);

end of do-file

r(199);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 17:11:47

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  17:11:47  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. keep `dep_vlist' `indep_vlist' country pid year

. 
. qui reg  `dep_vlist' `indep_vlist' 

. predict xb , xb
(6 missing values generated)

. predict r  , resid
(6 missing values generated)

. predict rst, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more

. 
. foreach var of local indep_vlist {
  2.   avplot  `var'
  3.   more
  4.   rvpplot `var', yline(10)
  5.   more
  6. 
. }

. 
. graph drop _all

. 
. 
. /* Hadi's (1992, 1994) Algorithm to ID possible outliers, optimized by
>      Weber (2010) */
. bacon `dep_vlist' `indep_vlist', gen(out1)

Total number of observations:       28747
   BACON outliers (p = 0.15):           5
      Non-outliers remaining:       28742

. tw sc rst xb, ml(out1)

. tw sc rst xb if out1 == 1, ml(country)

. more

. 
. /* Tests for Normality of Residuals 
>    (for SFA, we expect them to be non-normal. 
>     They would be skewed if there is 
>     inefficiency present, but they must be 
>     LEFT-SKEWED!!!)
> --------------------------------------------- */
. kdensity r, norm

. more

. 
. 
. /* Tests for Multicollinearity
> ---------------------------------------------*/
. vif

    Variable |       VIF       1/VIF  
-------------+----------------------
lnPFERTILI~S |      4.08    0.244908
lnPTotalCa~e |      2.98    0.335866
lnPCompoun~t |      1.82    0.548923
lndairypro~s |      1.05    0.953744
-------------+----------------------
    Mean VIF |      2.48

. more

. 
. 
. /* Tests for Non-Linearity
> ---------------------------------------------*/
. foreach var of local indep_vlist {
  2. 
.   acprplot `var'
  3.   more
  4.   cprplot `var'
  5.   more
  6. 
. }

. 
. 
. /* Tests for Model Specification
> ---------------------------------------------*/
. linktest 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  2, 28744) =81524.36
       Model |  17055.3044     2  8527.65221           Prob > F      =  0.0000
    Residual |   3006.6945 28744  .104602509           R-squared     =  0.8501
-------------+------------------------------           Adj R-squared =  0.8501
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32342

------------------------------------------------------------------------------
lntotalspe~s |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        _hat |   .1932986   .0443736     4.36   0.000     .1063243    .2802729
      _hatsq |   .0378719   .0020799    18.21   0.000     .0337951    .0419487
       _cons |   4.273287   .2361619    18.09   0.000     3.810399    4.736175
------------------------------------------------------------------------------

. more

. ovtest 

Ramsey RESET test using powers of the fitted values of lntotalspecificcosts
       Ho:  model has no omitted variables
               F(3, 28739) =    193.55
                  Prob > F =      0.0000

. more

. 
. graph drop _all

. 
. 
. xtdescribe 

     pid:  1, 2, ..., 7742                                   n =       7709
    year:  1999, 2000, ..., 2007                             T =          9
           Delta(year) = 1 unit
           Span(year)  = 9 periods
           (pid*year uniquely identifies each observation)

Distribution of T_i:   min      5%     25%       50%       75%     95%     max
                         1       1       1         3         6       9       9

     Freq.  Percent    Cum. |  Pattern
 ---------------------------+-----------
      845     10.96   10.96 |  111111111
      702      9.11   20.07 |  1........
      688      8.92   28.99 |  11.......
      373      4.84   33.83 |  ........1
      231      3.00   36.83 |  111......
      230      2.98   39.81 |  .......11
      203      2.63   42.44 |  ..1111111
      202      2.62   45.06 |  .1.......
      198      2.57   47.63 |  ..1......
     4037     52.37  100.00 | (other patterns)
 ---------------------------+-----------
     7709    100.00         |  XXXXXXXXX

. xtsumm `dep_vlist' `indep_vlist'
unrecognized command:  xtsumm
r(199);

end of do-file
r(199);

end of do-file

r(199);

. xtsum lntotalspecificcosts

Variable         |      Mean   Std. Dev.       Min        Max |    Observations
-----------------+--------------------------------------------+----------------
lntota~s overall |  10.59034   .8363159   5.529429   14.09032 |     N =   28753
         between |             .8654513   5.529429   13.80699 |     n =    7709
         within  |             .1697864   8.755104   12.40564 | T-bar =  3.7298

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 17:12:44

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  17:12:44  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. keep `dep_vlist' `indep_vlist' country pid year

. 
. qui reg  `dep_vlist' `indep_vlist' 

. predict xb , xb
(6 missing values generated)

. predict r  , resid
(6 missing values generated)

. predict rst, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more

. 
. foreach var of local indep_vlist {
  2.   avplot  `var'
  3.   more
  4.   rvpplot `var', yline(10)
  5.   more
  6. 
. }

. 
. graph drop _all

. 
. 
. /* Hadi's (1992, 1994) Algorithm to ID possible outliers, optimized by
>      Weber (2010) */
. bacon `dep_vlist' `indep_vlist', gen(out1)

Total number of observations:       28747
   BACON outliers (p = 0.15):           5
      Non-outliers remaining:       28742

. tw sc rst xb, ml(out1)

. tw sc rst xb if out1 == 1, ml(country)

. more

. 
. /* Tests for Normality of Residuals 
>    (for SFA, we expect them to be non-normal. 
>     They would be skewed if there is 
>     inefficiency present, but they must be 
>     LEFT-SKEWED!!!)
> --------------------------------------------- */
. kdensity r, norm

. more

. 
. 
. /* Tests for Multicollinearity
> ---------------------------------------------*/
. vif

    Variable |       VIF       1/VIF  
-------------+----------------------
lnPFERTILI~S |      4.08    0.244908
lnPTotalCa~e |      2.98    0.335866
lnPCompoun~t |      1.82    0.548923
lndairypro~s |      1.05    0.953744
-------------+----------------------
    Mean VIF |      2.48

. more

. 
. 
. /* Tests for Non-Linearity
> ---------------------------------------------*/
. foreach var of local indep_vlist {
  2. 
.   acprplot `var'
  3.   more
  4.   cprplot `var'
  5.   more
  6. 
. }

. 
. 
. /* Tests for Model Specification
> ---------------------------------------------*/
. linktest 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  2, 28744) =81524.36
       Model |  17055.3044     2  8527.65221           Prob > F      =  0.0000
    Residual |   3006.6945 28744  .104602509           R-squared     =  0.8501
-------------+------------------------------           Adj R-squared =  0.8501
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32342

------------------------------------------------------------------------------
lntotalspe~s |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        _hat |   .1932986   .0443736     4.36   0.000     .1063243    .2802729
      _hatsq |   .0378719   .0020799    18.21   0.000     .0337951    .0419487
       _cons |   4.273287   .2361619    18.09   0.000     3.810399    4.736175
------------------------------------------------------------------------------

. more

. ovtest 

Ramsey RESET test using powers of the fitted values of lntotalspecificcosts
       Ho:  model has no omitted variables
               F(3, 28739) =    193.55
                  Prob > F =      0.0000

. more

. 
. graph drop _all

. 
. 
. xtdescribe 

     pid:  1, 2, ..., 7742                                   n =       7709
    year:  1999, 2000, ..., 2007                             T =          9
           Delta(year) = 1 unit
           Span(year)  = 9 periods
           (pid*year uniquely identifies each observation)

Distribution of T_i:   min      5%     25%       50%       75%     95%     max
                         1       1       1         3         6       9       9

     Freq.  Percent    Cum. |  Pattern
 ---------------------------+-----------
      845     10.96   10.96 |  111111111
      702      9.11   20.07 |  1........
      688      8.92   28.99 |  11.......
      373      4.84   33.83 |  ........1
      231      3.00   36.83 |  111......
      230      2.98   39.81 |  .......11
      203      2.63   42.44 |  ..1111111
      202      2.62   45.06 |  .1.......
      198      2.57   47.63 |  ..1......
     4037     52.37  100.00 | (other patterns)
 ---------------------------+-----------
     7709    100.00         |  XXXXXXXXX

. xtsum `dep_vlist' `indep_vlist'

Variable         |      Mean   Std. Dev.       Min        Max |    Observations
-----------------+--------------------------------------------+----------------
lntota~s overall |  10.59034   .8363159   5.529429   14.09032 |     N =   28753
         between |             .8654513   5.529429   13.80699 |     n =    7709
         within  |             .1697864   8.755104   12.40564 | T-bar =  3.7298
                 |                                            |
lndair~s overall |   12.5815   .7696248   8.268732   15.75065 |     N =   28747
         between |             .8021383   8.268732   15.60458 |     n =    7705
         within  |             .1256265   10.20696   14.37921 | T-bar = 3.73095
                 |                                            |
lnPTot~e overall | -.0020111   .0826745  -.1154109   .1241626 |     N =   28753
         between |             .0671015  -.1154109   .1241626 |     n =    7709
         within  |             .0677761  -.1642726   .1546755 | T-bar =  3.7298
                 |                                            |
lnPCom~t overall |  4.653798   .0694497   4.562263   4.852811 |     N =   28753
         between |             .0495151   4.562263   4.852811 |     n =    7709
         within  |             .0607838   4.509045   4.861423 | T-bar =  3.7298
                 |                                            |
lnPFER~S overall |  4.747869   .1422505   4.517431   5.136386 |     N =   28753
         between |             .1300917   4.517431   5.136386 |     n =    7709
         within  |             .1055226   4.435519   5.087929 | T-bar =  3.7298

. restore

. STOP!!!
unrecognized command:  STOP
r(199);

end of do-file
r(199);

end of do-file

r(199);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 17:14:25

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  17:14:25  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. keep `dep_vlist' `indep_vlist' country pid year

. 
. qui reg  `dep_vlist' `indep_vlist' 

. predict xb , xb
(6 missing values generated)

. predict r  , resid
(6 missing values generated)

. predict rst, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more

. 
. foreach var of local indep_vlist {
  2.   avplot  `var'
  3.   more
  4.   rvpplot `var', yline(10)
  5.   more
  6. 
. }

. 
. graph drop _all

. 
. 
. /* Hadi's (1992, 1994) Algorithm to ID possible outliers, optimized by
>      Weber (2010) */
. bacon `dep_vlist' `indep_vlist', gen(out1)

Total number of observations:       28747
   BACON outliers (p = 0.15):           5
      Non-outliers remaining:       28742

. tw sc rst xb, ml(out1)

. tw sc rst xb if out1 == 1, ml(country)

. more

. 
. /* Tests for Normality of Residuals 
>    (for SFA, we expect them to be non-normal. 
>     They would be skewed if there is 
>     inefficiency present, but they must be 
>     LEFT-SKEWED!!!)
> --------------------------------------------- */
. kdensity r, norm

. more

. 
. 
. /* Tests for Multicollinearity
> ---------------------------------------------*/
. vif

    Variable |       VIF       1/VIF  
-------------+----------------------
lnPFERTILI~S |      4.08    0.244908
lnPTotalCa~e |      2.98    0.335866
lnPCompoun~t |      1.82    0.548923
lndairypro~s |      1.05    0.953744
-------------+----------------------
    Mean VIF |      2.48

. more

. 
. 
. /* Tests for Non-Linearity
> ---------------------------------------------*/
. foreach var of local indep_vlist {
  2. 
.   acprplot `var'
  3.   more
  4.   cprplot `var'
  5.   more
  6. 
. }

. 
. 
. /* Tests for Model Specification
> ---------------------------------------------*/
. linktest 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  2, 28744) =81524.36
       Model |  17055.3044     2  8527.65221           Prob > F      =  0.0000
    Residual |   3006.6945 28744  .104602509           R-squared     =  0.8501
-------------+------------------------------           Adj R-squared =  0.8501
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32342

------------------------------------------------------------------------------
lntotalspe~s |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        _hat |   .1932986   .0443736     4.36   0.000     .1063243    .2802729
      _hatsq |   .0378719   .0020799    18.21   0.000     .0337951    .0419487
       _cons |   4.273287   .2361619    18.09   0.000     3.810399    4.736175
------------------------------------------------------------------------------

. more

. ovtest 

Ramsey RESET test using powers of the fitted values of lntotalspecificcosts
       Ho:  model has no omitted variables
               F(3, 28739) =    193.55
                  Prob > F =      0.0000

. more

. 
. graph drop _all

. 
. 
. xtdescribe 

     pid:  1, 2, ..., 7742                                   n =       7709
    year:  1999, 2000, ..., 2007                             T =          9
           Delta(year) = 1 unit
           Span(year)  = 9 periods
           (pid*year uniquely identifies each observation)

Distribution of T_i:   min      5%     25%       50%       75%     95%     max
                         1       1       1         3         6       9       9

     Freq.  Percent    Cum. |  Pattern
 ---------------------------+-----------
      845     10.96   10.96 |  111111111
      702      9.11   20.07 |  1........
      688      8.92   28.99 |  11.......
      373      4.84   33.83 |  ........1
      231      3.00   36.83 |  111......
      230      2.98   39.81 |  .......11
      203      2.63   42.44 |  ..1111111
      202      2.62   45.06 |  .1.......
      198      2.57   47.63 |  ..1......
     4037     52.37  100.00 | (other patterns)
 ---------------------------+-----------
     7709    100.00         |  XXXXXXXXX

. xtsum pid year `dep_vlist' `indep_vlist'

Variable         |      Mean   Std. Dev.       Min        Max |    Observations
-----------------+--------------------------------------------+----------------
pid      overall |  3509.337   2307.203          1       7742 |     N =   28753
         between |              2236.93          1       7742 |     n =    7709
         within  |                    0   3509.337   3509.337 | T-bar =  3.7298
                 |                                            |
year     overall |  2002.886   2.578091       1999       2007 |     N =   28753
         between |             2.333301       1999       2007 |     n =    7709
         within  |             1.953716   1997.636   2008.136 | T-bar =  3.7298
                 |                                            |
lntota~s overall |  10.59034   .8363159   5.529429   14.09032 |     N =   28753
         between |             .8654513   5.529429   13.80699 |     n =    7709
         within  |             .1697864   8.755104   12.40564 | T-bar =  3.7298
                 |                                            |
lndair~s overall |   12.5815   .7696248   8.268732   15.75065 |     N =   28747
         between |             .8021383   8.268732   15.60458 |     n =    7705
         within  |             .1256265   10.20696   14.37921 | T-bar = 3.73095
                 |                                            |
lnPTot~e overall | -.0020111   .0826745  -.1154109   .1241626 |     N =   28753
         between |             .0671015  -.1154109   .1241626 |     n =    7709
         within  |             .0677761  -.1642726   .1546755 | T-bar =  3.7298
                 |                                            |
lnPCom~t overall |  4.653798   .0694497   4.562263   4.852811 |     N =   28753
         between |             .0495151   4.562263   4.852811 |     n =    7709
         within  |             .0607838   4.509045   4.861423 | T-bar =  3.7298
                 |                                            |
lnPFER~S overall |  4.747869   .1422505   4.517431   5.136386 |     N =   28753
         between |             .1300917   4.517431   5.136386 |     n =    7709
         within  |             .1055226   4.435519   5.087929 | T-bar =  3.7298

. restore

. STOP!!!
unrecognized command:  STOP
r(199);

end of do-file
r(199);

end of do-file

r(199);

. help tsset

. help xtset

. help xtset

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 17:22:11

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  17:22:11  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. keep `dep_vlist' `indep_vlist' country pid year

. 
. qui reg  `dep_vlist' `indep_vlist' 

. predict xb , xb
(6 missing values generated)

. predict r  , resid
(6 missing values generated)

. predict rst, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more

. 
. foreach var of local indep_vlist {
  2.   avplot  `var'
  3.   more
  4.   rvpplot `var', yline(10)
  5.   more
  6. 
. }

. 
. graph drop _all

. 
. 
. /* Hadi's (1992, 1994) Algorithm to ID possible outliers, optimized by
>      Weber (2010) */
. bacon `dep_vlist' `indep_vlist', gen(out1)

Total number of observations:       28747
   BACON outliers (p = 0.15):           5
      Non-outliers remaining:       28742

. tw sc rst xb, ml(out1)

. tw sc rst xb if out1 == 1, ml(country)

. more

. 
. /* Tests for Normality of Residuals 
>    (for SFA, we expect them to be non-normal. 
>     They would be skewed if there is 
>     inefficiency present, but they must be 
>     LEFT-SKEWED!!!)
> --------------------------------------------- */
. kdensity r, norm

. more

. 
. 
. /* Tests for Multicollinearity
> ---------------------------------------------*/
. vif

    Variable |       VIF       1/VIF  
-------------+----------------------
lnPFERTILI~S |      4.08    0.244908
lnPTotalCa~e |      2.98    0.335866
lnPCompoun~t |      1.82    0.548923
lndairypro~s |      1.05    0.953744
-------------+----------------------
    Mean VIF |      2.48

. more

. 
. 
. /* Tests for Non-Linearity
> ---------------------------------------------*/
. foreach var of local indep_vlist {
  2. 
.   acprplot `var'
  3.   more
  4.   cprplot `var'
  5.   more
  6. 
. }

. 
. 
. /* Tests for Model Specification
> ---------------------------------------------*/
. linktest 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  2, 28744) =81524.36
       Model |  17055.3044     2  8527.65221           Prob > F      =  0.0000
    Residual |   3006.6945 28744  .104602509           R-squared     =  0.8501
-------------+------------------------------           Adj R-squared =  0.8501
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32342

------------------------------------------------------------------------------
lntotalspe~s |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        _hat |   .1932986   .0443736     4.36   0.000     .1063243    .2802729
      _hatsq |   .0378719   .0020799    18.21   0.000     .0337951    .0419487
       _cons |   4.273287   .2361619    18.09   0.000     3.810399    4.736175
------------------------------------------------------------------------------

. more

. ovtest 

Ramsey RESET test using powers of the fitted values of lntotalspecificcosts
       Ho:  model has no omitted variables
               F(3, 28739) =    193.55
                  Prob > F =      0.0000

. more

. 
. graph drop _all

. 
. describe    pid year `dep_vlist' `indep_vlist'

              storage  display     value
variable name   type   format      label      variable label
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
pid             float  %9.0g                  ID (unique for whole panel)
year            int    %ty         yy         year
lntotalspecif~s double %9.0g                  
lndairyproducts double %9.0g                  
lnPTotalCattle  double %9.0g                  
lnPCompoundfe~t double %9.0g                  
lnPFERTILISER~S double %9.0g                  

. summ        pid year `dep_vlist' `indep_vlist'

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
         pid |     28753    3509.337    2307.203          1       7742
        year |     28753    2002.886    2.578091       1999       2007
lntotalspe~s |     28753    10.59034    .8363159   5.529429   14.09032
lndairypro~s |     28747     12.5815    .7696248   8.268732   15.75065
lnPTotalCa~e |     28753   -.0020111    .0826745  -.1154109   .1241626
-------------+--------------------------------------------------------
lnPCompoun~t |     28753    4.653798    .0694497   4.562263   4.852811
lnPFERTILI~S |     28753    4.747869    .1422505   4.517431   5.136386

. 
. xtdescribe 

     pid:  1, 2, ..., 7742                                   n =       7709
    year:  1999, 2000, ..., 2007                             T =          9
           Delta(year) = 1 year
           Span(year)  = 9 periods
           (pid*year uniquely identifies each observation)

Distribution of T_i:   min      5%     25%       50%       75%     95%     max
                         1       1       1         3         6       9       9

     Freq.  Percent    Cum. |  Pattern
 ---------------------------+-----------
      845     10.96   10.96 |  111111111
      702      9.11   20.07 |  1........
      688      8.92   28.99 |  11.......
      373      4.84   33.83 |  ........1
      231      3.00   36.83 |  111......
      230      2.98   39.81 |  .......11
      203      2.63   42.44 |  ..1111111
      202      2.62   45.06 |  .1.......
      198      2.57   47.63 |  ..1......
     4037     52.37  100.00 | (other patterns)
 ---------------------------+-----------
     7709    100.00         |  XXXXXXXXX

. xtsum       pid year `dep_vlist' `indep_vlist'

Variable         |      Mean   Std. Dev.       Min        Max |    Observations
-----------------+--------------------------------------------+----------------
pid      overall |  3509.337   2307.203          1       7742 |     N =   28753
         between |              2236.93          1       7742 |     n =    7709
         within  |                    0   3509.337   3509.337 | T-bar =  3.7298
                 |                                            |
year     overall |  2002.886   2.578091       1999       2007 |     N =   28753
         between |             2.333301       1999       2007 |     n =    7709
         within  |             1.953716   1997.636   2008.136 | T-bar =  3.7298
                 |                                            |
lntota~s overall |  10.59034   .8363159   5.529429   14.09032 |     N =   28753
         between |             .8654513   5.529429   13.80699 |     n =    7709
         within  |             .1697864   8.755104   12.40564 | T-bar =  3.7298
                 |                                            |
lndair~s overall |   12.5815   .7696248   8.268732   15.75065 |     N =   28747
         between |             .8021383   8.268732   15.60458 |     n =    7705
         within  |             .1256265   10.20696   14.37921 | T-bar = 3.73095
                 |                                            |
lnPTot~e overall | -.0020111   .0826745  -.1154109   .1241626 |     N =   28753
         between |             .0671015  -.1154109   .1241626 |     n =    7709
         within  |             .0677761  -.1642726   .1546755 | T-bar =  3.7298
                 |                                            |
lnPCom~t overall |  4.653798   .0694497   4.562263   4.852811 |     N =   28753
         between |             .0495151   4.562263   4.852811 |     n =    7709
         within  |             .0607838   4.509045   4.861423 | T-bar =  3.7298
                 |                                            |
lnPFER~S overall |  4.747869   .1422505   4.517431   5.136386 |     N =   28753
         between |             .1300917   4.517431   5.136386 |     n =    7709
         within  |             .1055226   4.435519   5.087929 | T-bar =  3.7298

. 
. 
. restore

. STOP!!!
unrecognized command:  STOP
r(199);

end of do-file
r(199);

end of do-file

r(199);

. help estimates

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 17:37:39

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  17:37:39  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. keep `dep_vlist' `indep_vlist' country pid year

. 
. qui reg  `dep_vlist' `indep_vlist' 

. predict xb , xb
(6 missing values generated)

. predict r  , resid
(6 missing values generated)

. predict rst, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more

. 
. foreach var of local indep_vlist {
  2.   avplot  `var'
  3.   more
  4.   rvpplot `var', yline(10)
  5.   more
  6. 
. }

. 
. graph drop _all

. 
. 
. /* Hadi's (1992, 1994) Algorithm to ID possible outliers, optimized by
>      Weber (2010) */
. bacon `dep_vlist' `indep_vlist', gen(out1)

Total number of observations:       28747
   BACON outliers (p = 0.15):           5
      Non-outliers remaining:       28742

. tw sc rst xb, ml(out1)

. tw sc rst xb if out1 == 1, ml(country)

. more

. 
. /* Tests for Normality of Residuals 
>    (for SFA, we expect them to be non-normal. 
>     They would be skewed if there is 
>     inefficiency present, but they must be 
>     LEFT-SKEWED!!!)
> --------------------------------------------- */
. kdensity r, norm

. more

. 
. 
. /* Tests for Multicollinearity
> ---------------------------------------------*/
. vif

    Variable |       VIF       1/VIF  
-------------+----------------------
lnPFERTILI~S |      4.08    0.244908
lnPTotalCa~e |      2.98    0.335866
lnPCompoun~t |      1.82    0.548923
lndairypro~s |      1.05    0.953744
-------------+----------------------
    Mean VIF |      2.48

. more

. 
. 
. /* Tests for Non-Linearity
> ---------------------------------------------*/
. foreach var of local indep_vlist {
  2. 
.   acprplot `var'
  3.   more
  4.   cprplot `var'
  5.   more
  6. 
. }

. 
. 
. /* Tests for Model Specification
> ---------------------------------------------*/
. linktest 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  2, 28744) =81524.36
       Model |  17055.3044     2  8527.65221           Prob > F      =  0.0000
    Residual |   3006.6945 28744  .104602509           R-squared     =  0.8501
-------------+------------------------------           Adj R-squared =  0.8501
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32342

------------------------------------------------------------------------------
lntotalspe~s |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        _hat |   .1932986   .0443736     4.36   0.000     .1063243    .2802729
      _hatsq |   .0378719   .0020799    18.21   0.000     .0337951    .0419487
       _cons |   4.273287   .2361619    18.09   0.000     3.810399    4.736175
------------------------------------------------------------------------------

. more

. ovtest 

Ramsey RESET test using powers of the fitted values of lntotalspecificcosts
       Ho:  model has no omitted variables
               F(3, 28739) =    193.55
                  Prob > F =      0.0000

. more

. 
. graph drop _all

. 
. 
. * Data description
. describe    pid year `dep_vlist' `indep_vlist'

              storage  display     value
variable name   type   format      label      variable label
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
pid             float  %9.0g                  ID (unique for whole panel)
year            int    %ty         yy         year
lntotalspecif~s double %9.0g                  
lndairyproducts double %9.0g                  
lnPTotalCattle  double %9.0g                  
lnPCompoundfe~t double %9.0g                  
lnPFERTILISER~S double %9.0g                  

. summ        pid year `dep_vlist' `indep_vlist'

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
         pid |     28753    3509.337    2307.203          1       7742
        year |     28753    2002.886    2.578091       1999       2007
lntotalspe~s |     28753    10.59034    .8363159   5.529429   14.09032
lndairypro~s |     28747     12.5815    .7696248   8.268732   15.75065
lnPTotalCa~e |     28753   -.0020111    .0826745  -.1154109   .1241626
-------------+--------------------------------------------------------
lnPCompoun~t |     28753    4.653798    .0694497   4.562263   4.852811
lnPFERTILI~S |     28753    4.747869    .1422505   4.517431   5.136386

. 
. * Panel characterstics
. xtdescribe 

     pid:  1, 2, ..., 7742                                   n =       7709
    year:  1999, 2000, ..., 2007                             T =          9
           Delta(year) = 1 year
           Span(year)  = 9 periods
           (pid*year uniquely identifies each observation)

Distribution of T_i:   min      5%     25%       50%       75%     95%     max
                         1       1       1         3         6       9       9

     Freq.  Percent    Cum. |  Pattern
 ---------------------------+-----------
      845     10.96   10.96 |  111111111
      702      9.11   20.07 |  1........
      688      8.92   28.99 |  11.......
      373      4.84   33.83 |  ........1
      231      3.00   36.83 |  111......
      230      2.98   39.81 |  .......11
      203      2.63   42.44 |  ..1111111
      202      2.62   45.06 |  .1.......
      198      2.57   47.63 |  ..1......
     4037     52.37  100.00 | (other patterns)
 ---------------------------+-----------
     7709    100.00         |  XXXXXXXXX

. xtsum       pid year `dep_vlist' `indep_vlist'

Variable         |      Mean   Std. Dev.       Min        Max |    Observations
-----------------+--------------------------------------------+----------------
pid      overall |  3509.337   2307.203          1       7742 |     N =   28753
         between |              2236.93          1       7742 |     n =    7709
         within  |                    0   3509.337   3509.337 | T-bar =  3.7298
                 |                                            |
year     overall |  2002.886   2.578091       1999       2007 |     N =   28753
         between |             2.333301       1999       2007 |     n =    7709
         within  |             1.953716   1997.636   2008.136 | T-bar =  3.7298
                 |                                            |
lntota~s overall |  10.59034   .8363159   5.529429   14.09032 |     N =   28753
         between |             .8654513   5.529429   13.80699 |     n =    7709
         within  |             .1697864   8.755104   12.40564 | T-bar =  3.7298
                 |                                            |
lndair~s overall |   12.5815   .7696248   8.268732   15.75065 |     N =   28747
         between |             .8021383   8.268732   15.60458 |     n =    7705
         within  |             .1256265   10.20696   14.37921 | T-bar = 3.73095
                 |                                            |
lnPTot~e overall | -.0020111   .0826745  -.1154109   .1241626 |     N =   28753
         between |             .0671015  -.1154109   .1241626 |     n =    7709
         within  |             .0677761  -.1642726   .1546755 | T-bar =  3.7298
                 |                                            |
lnPCom~t overall |  4.653798   .0694497   4.562263   4.852811 |     N =   28753
         between |             .0495151   4.562263   4.852811 |     n =    7709
         within  |             .0607838   4.509045   4.861423 | T-bar =  3.7298
                 |                                            |
lnPFER~S overall |  4.747869   .1422505   4.517431   5.136386 |     N =   28753
         between |             .1300917   4.517431   5.136386 |     n =    7709
         within  |             .1055226   4.435519   5.087929 | T-bar =  3.7298

. 
. 
. * Pooled OLS
. reg `dep_vlist' `indep_vlist'

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  4, 28742) =40212.64
       Model |  17020.6246     4  4255.15615           Prob > F      =  0.0000
    Residual |  3041.37433 28742  .105816378           R-squared     =  0.8484
-------------+------------------------------           Adj R-squared =  0.8484
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32529

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9842823   .0025527   385.59   0.000      .979279    .9892857
                 lnPTotalCattle |  -.1877354   .0400451    -4.69   0.000    -.2662257   -.1092452
lnPCompoundfeedingstuffsforcatt |   .4729934   .0372947    12.68   0.000      .399894    .5460927
 lnPFERTILISERSANDSOILIMPROVERS |    .337648   .0272545    12.39   0.000     .2842278    .3910682
                          _cons |  -5.597614    .156219   -35.83   0.000     -5.90381   -5.291417
-------------------------------------------------------------------------------------------------

. 
. 
. * Population-averaged estimator
. xtreg `dep_vlist' `indep_vlist', pa

Iteration 1: tolerance = .17703364
Iteration 2: tolerance = .01196369
Iteration 3: tolerance = .00075086
Iteration 4: tolerance = .00004741
Iteration 5: tolerance = 2.994e-06
Iteration 6: tolerance = 1.891e-07

GEE population-averaged model                   Number of obs      =     28747
Group variable:                        pid      Number of groups   =      7705
Link:                             identity      Obs per group: min =         1
Family:                           Gaussian                     avg =       3.7
Correlation:                  exchangeable                     max =         9
                                                Wald chi2(4)       =  63305.49
Scale parameter:                  .1087099      Prob > chi2        =    0.0000

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |    .925367   .0038934   237.68   0.000     .9177361    .9329979
                 lnPTotalCattle |  -.0269215   .0257284    -1.05   0.295    -.0773483    .0235052
lnPCompoundfeedingstuffsforcatt |   .5280953   .0224985    23.47   0.000      .483999    .5721915
 lnPFERTILISERSANDSOILIMPROVERS |   .1839451   .0190042     9.68   0.000     .1466975    .2211926
                          _cons |  -4.360357   .1035123   -42.12   0.000    -4.563237   -4.157476
-------------------------------------------------------------------------------------------------

. more

. 
. 
. * Between estimator
. xtreg `dep_vlist' `indep_vlist', be

Between regression (regression on group means)  Number of obs      =     28747
Group variable: pid                             Number of groups   =      7705

R-sq:  within  = 0.3921                         Obs per group: min =         1
       between = 0.8615                                        avg =       3.7
       overall = 0.8470                                        max =         9

                                                F(4,7700)          =  11971.70
sd(u_i + avg(e_i.))=  .3209633                  Prob > F           =    0.0000

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9801727    .004689   209.04   0.000     .9709809    .9893644
                 lnPTotalCattle |  -.5979135   .1112253    -5.38   0.000    -.8159453   -.3798817
lnPCompoundfeedingstuffsforcatt |   .8862719   .1358724     6.52   0.000     .6199251    1.152619
 lnPFERTILISERSANDSOILIMPROVERS |   .4530183   .0700407     6.47   0.000     .3157194    .5903172
                          _cons |  -7.990956   .5250644   -15.22   0.000    -9.020225   -6.961687
-------------------------------------------------------------------------------------------------

. more

. 
. 
. * Fixed effects estimator 
. xtreg `dep_vlist' `indep_vlist', fe

Fixed-effects (within) regression               Number of obs      =     28747
Group variable: pid                             Number of groups   =      7705

R-sq:  within  = 0.4091                         Obs per group: min =         1
       between = 0.8606                                        avg =       3.7
       overall = 0.8470                                        max =         9

                                                F(4,21038)         =   3641.51
corr(u_i, Xb)  = 0.6210                         Prob > F           =    0.0000

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .6757366    .007442    90.80   0.000     .6611498    .6903234
                 lnPTotalCattle |   .0603932   .0225925     2.67   0.008       .01611    .1046763
lnPCompoundfeedingstuffsforcatt |    .546399   .0194259    28.13   0.000     .5083228    .5844752
 lnPFERTILISERSANDSOILIMPROVERS |     .18524   .0170229    10.88   0.000     .1518739    .2186061
                          _cons |  -1.333147   .1180743   -11.29   0.000    -1.564581   -1.101712
--------------------------------+----------------------------------------------------------------
                        sigma_u |  .40596164
                        sigma_e |  .15256038
                            rho |  .87625091   (fraction of variance due to u_i)
-------------------------------------------------------------------------------------------------
F test that all u_i=0:     F(7704, 21038) =    14.23         Prob > F = 0.0000

. estimates store fixed

. predict alphafehat, u
(6 missing values generated)

. more

. 
. 
. * First-differences estimator
. xtreg `dep_vlist' `indep_vlist', noconstant
option noconstant not allowed
r(198);

end of do-file
r(198);

end of do-file

r(198);

. help xtreg

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 17:39:18

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  17:39:18  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. keep `dep_vlist' `indep_vlist' country pid year

. 
. qui reg  `dep_vlist' `indep_vlist' 

. predict xb , xb
(6 missing values generated)

. predict r  , resid
(6 missing values generated)

. predict rst, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more

. 
. foreach var of local indep_vlist {
  2.   avplot  `var'
  3.   more
  4.   rvpplot `var', yline(10)
  5.   more
  6. 
. }

. 
. graph drop _all

. 
. 
. /* Hadi's (1992, 1994) Algorithm to ID possible outliers, optimized by
>      Weber (2010) */
. bacon `dep_vlist' `indep_vlist', gen(out1)

Total number of observations:       28747
   BACON outliers (p = 0.15):           5
      Non-outliers remaining:       28742

. tw sc rst xb, ml(out1)

. tw sc rst xb if out1 == 1, ml(country)

. more

. 
. /* Tests for Normality of Residuals 
>    (for SFA, we expect them to be non-normal. 
>     They would be skewed if there is 
>     inefficiency present, but they must be 
>     LEFT-SKEWED!!!)
> --------------------------------------------- */
. kdensity r, norm

. more

. 
. 
. /* Tests for Multicollinearity
> ---------------------------------------------*/
. vif

    Variable |       VIF       1/VIF  
-------------+----------------------
lnPFERTILI~S |      4.08    0.244908
lnPTotalCa~e |      2.98    0.335866
lnPCompoun~t |      1.82    0.548923
lndairypro~s |      1.05    0.953744
-------------+----------------------
    Mean VIF |      2.48

. more

. 
. 
. /* Tests for Non-Linearity
> ---------------------------------------------*/
. foreach var of local indep_vlist {
  2. 
.   acprplot `var'
  3.   more
  4.   cprplot `var'
  5.   more
  6. 
. }

. 
. 
. /* Tests for Model Specification
> ---------------------------------------------*/
. linktest 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  2, 28744) =81524.36
       Model |  17055.3044     2  8527.65221           Prob > F      =  0.0000
    Residual |   3006.6945 28744  .104602509           R-squared     =  0.8501
-------------+------------------------------           Adj R-squared =  0.8501
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32342

------------------------------------------------------------------------------
lntotalspe~s |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        _hat |   .1932986   .0443736     4.36   0.000     .1063243    .2802729
      _hatsq |   .0378719   .0020799    18.21   0.000     .0337951    .0419487
       _cons |   4.273287   .2361619    18.09   0.000     3.810399    4.736175
------------------------------------------------------------------------------

. more

. ovtest 

Ramsey RESET test using powers of the fitted values of lntotalspecificcosts
       Ho:  model has no omitted variables
               F(3, 28739) =    193.55
                  Prob > F =      0.0000

. more

. 
. graph drop _all

. 
. 
. * Data description
. describe    pid year `dep_vlist' `indep_vlist'

              storage  display     value
variable name   type   format      label      variable label
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
pid             float  %9.0g                  ID (unique for whole panel)
year            int    %ty         yy         year
lntotalspecif~s double %9.0g                  
lndairyproducts double %9.0g                  
lnPTotalCattle  double %9.0g                  
lnPCompoundfe~t double %9.0g                  
lnPFERTILISER~S double %9.0g                  

. summ        pid year `dep_vlist' `indep_vlist'

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
         pid |     28753    3509.337    2307.203          1       7742
        year |     28753    2002.886    2.578091       1999       2007
lntotalspe~s |     28753    10.59034    .8363159   5.529429   14.09032
lndairypro~s |     28747     12.5815    .7696248   8.268732   15.75065
lnPTotalCa~e |     28753   -.0020111    .0826745  -.1154109   .1241626
-------------+--------------------------------------------------------
lnPCompoun~t |     28753    4.653798    .0694497   4.562263   4.852811
lnPFERTILI~S |     28753    4.747869    .1422505   4.517431   5.136386

. 
. * Panel characterstics
. xtdescribe 

     pid:  1, 2, ..., 7742                                   n =       7709
    year:  1999, 2000, ..., 2007                             T =          9
           Delta(year) = 1 year
           Span(year)  = 9 periods
           (pid*year uniquely identifies each observation)

Distribution of T_i:   min      5%     25%       50%       75%     95%     max
                         1       1       1         3         6       9       9

     Freq.  Percent    Cum. |  Pattern
 ---------------------------+-----------
      845     10.96   10.96 |  111111111
      702      9.11   20.07 |  1........
      688      8.92   28.99 |  11.......
      373      4.84   33.83 |  ........1
      231      3.00   36.83 |  111......
      230      2.98   39.81 |  .......11
      203      2.63   42.44 |  ..1111111
      202      2.62   45.06 |  .1.......
      198      2.57   47.63 |  ..1......
     4037     52.37  100.00 | (other patterns)
 ---------------------------+-----------
     7709    100.00         |  XXXXXXXXX

. xtsum       pid year `dep_vlist' `indep_vlist'

Variable         |      Mean   Std. Dev.       Min        Max |    Observations
-----------------+--------------------------------------------+----------------
pid      overall |  3509.337   2307.203          1       7742 |     N =   28753
         between |              2236.93          1       7742 |     n =    7709
         within  |                    0   3509.337   3509.337 | T-bar =  3.7298
                 |                                            |
year     overall |  2002.886   2.578091       1999       2007 |     N =   28753
         between |             2.333301       1999       2007 |     n =    7709
         within  |             1.953716   1997.636   2008.136 | T-bar =  3.7298
                 |                                            |
lntota~s overall |  10.59034   .8363159   5.529429   14.09032 |     N =   28753
         between |             .8654513   5.529429   13.80699 |     n =    7709
         within  |             .1697864   8.755104   12.40564 | T-bar =  3.7298
                 |                                            |
lndair~s overall |   12.5815   .7696248   8.268732   15.75065 |     N =   28747
         between |             .8021383   8.268732   15.60458 |     n =    7705
         within  |             .1256265   10.20696   14.37921 | T-bar = 3.73095
                 |                                            |
lnPTot~e overall | -.0020111   .0826745  -.1154109   .1241626 |     N =   28753
         between |             .0671015  -.1154109   .1241626 |     n =    7709
         within  |             .0677761  -.1642726   .1546755 | T-bar =  3.7298
                 |                                            |
lnPCom~t overall |  4.653798   .0694497   4.562263   4.852811 |     N =   28753
         between |             .0495151   4.562263   4.852811 |     n =    7709
         within  |             .0607838   4.509045   4.861423 | T-bar =  3.7298
                 |                                            |
lnPFER~S overall |  4.747869   .1422505   4.517431   5.136386 |     N =   28753
         between |             .1300917   4.517431   5.136386 |     n =    7709
         within  |             .1055226   4.435519   5.087929 | T-bar =  3.7298

. 
. 
. * Pooled OLS
. reg `dep_vlist' `indep_vlist'

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  4, 28742) =40212.64
       Model |  17020.6246     4  4255.15615           Prob > F      =  0.0000
    Residual |  3041.37433 28742  .105816378           R-squared     =  0.8484
-------------+------------------------------           Adj R-squared =  0.8484
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32529

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9842823   .0025527   385.59   0.000      .979279    .9892857
                 lnPTotalCattle |  -.1877354   .0400451    -4.69   0.000    -.2662257   -.1092452
lnPCompoundfeedingstuffsforcatt |   .4729934   .0372947    12.68   0.000      .399894    .5460927
 lnPFERTILISERSANDSOILIMPROVERS |    .337648   .0272545    12.39   0.000     .2842278    .3910682
                          _cons |  -5.597614    .156219   -35.83   0.000     -5.90381   -5.291417
-------------------------------------------------------------------------------------------------

. 
. 
. * Population-averaged estimator
. xtreg `dep_vlist' `indep_vlist', pa

Iteration 1: tolerance = .17703364
Iteration 2: tolerance = .01196369
Iteration 3: tolerance = .00075086
Iteration 4: tolerance = .00004741
Iteration 5: tolerance = 2.995e-06
Iteration 6: tolerance = 1.890e-07

GEE population-averaged model                   Number of obs      =     28747
Group variable:                        pid      Number of groups   =      7705
Link:                             identity      Obs per group: min =         1
Family:                           Gaussian                     avg =       3.7
Correlation:                  exchangeable                     max =         9
                                                Wald chi2(4)       =  63305.49
Scale parameter:                  .1087099      Prob > chi2        =    0.0000

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |    .925367   .0038934   237.68   0.000     .9177361    .9329979
                 lnPTotalCattle |  -.0269215   .0257284    -1.05   0.295    -.0773483    .0235052
lnPCompoundfeedingstuffsforcatt |   .5280953   .0224985    23.47   0.000      .483999    .5721915
 lnPFERTILISERSANDSOILIMPROVERS |   .1839451   .0190042     9.68   0.000     .1466975    .2211926
                          _cons |  -4.360357   .1035123   -42.12   0.000    -4.563237   -4.157476
-------------------------------------------------------------------------------------------------

. more

. 
. 
. * Between estimator
. xtreg `dep_vlist' `indep_vlist', be

Between regression (regression on group means)  Number of obs      =     28747
Group variable: pid                             Number of groups   =      7705

R-sq:  within  = 0.3921                         Obs per group: min =         1
       between = 0.8615                                        avg =       3.7
       overall = 0.8470                                        max =         9

                                                F(4,7700)          =  11971.70
sd(u_i + avg(e_i.))=  .3209633                  Prob > F           =    0.0000

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9801727    .004689   209.04   0.000     .9709809    .9893644
                 lnPTotalCattle |  -.5979135   .1112253    -5.38   0.000    -.8159453   -.3798817
lnPCompoundfeedingstuffsforcatt |   .8862719   .1358724     6.52   0.000     .6199251    1.152619
 lnPFERTILISERSANDSOILIMPROVERS |   .4530183   .0700407     6.47   0.000     .3157194    .5903172
                          _cons |  -7.990956   .5250644   -15.22   0.000    -9.020225   -6.961687
-------------------------------------------------------------------------------------------------

. more

. 
. 
. * Fixed effects estimator 
. xtreg `dep_vlist' `indep_vlist', fe

Fixed-effects (within) regression               Number of obs      =     28747
Group variable: pid                             Number of groups   =      7705

R-sq:  within  = 0.4091                         Obs per group: min =         1
       between = 0.8606                                        avg =       3.7
       overall = 0.8470                                        max =         9

                                                F(4,21038)         =   3641.51
corr(u_i, Xb)  = 0.6210                         Prob > F           =    0.0000

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .6757366    .007442    90.80   0.000     .6611498    .6903234
                 lnPTotalCattle |   .0603932   .0225925     2.67   0.008       .01611    .1046763
lnPCompoundfeedingstuffsforcatt |    .546399   .0194259    28.13   0.000     .5083228    .5844752
 lnPFERTILISERSANDSOILIMPROVERS |     .18524   .0170229    10.88   0.000     .1518739    .2186061
                          _cons |  -1.333147   .1180743   -11.29   0.000    -1.564581   -1.101712
--------------------------------+----------------------------------------------------------------
                        sigma_u |  .40596164
                        sigma_e |  .15256038
                            rho |  .87625091   (fraction of variance due to u_i)
-------------------------------------------------------------------------------------------------
F test that all u_i=0:     F(7704, 21038) =    14.23         Prob > F = 0.0000

. estimates store fixed

. predict alphafehat, u
(6 missing values generated)

. more

. 
. 
. * First-differences estimator
. xtreg D.(`dep_vlist' `indep_vlist'), noconstant
option noconstant not allowed
r(198);

end of do-file
r(198);

end of do-file

r(198);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 17:40:18

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  17:40:18  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. keep `dep_vlist' `indep_vlist' country pid year

. 
. qui reg  `dep_vlist' `indep_vlist' 

. predict xb , xb
(6 missing values generated)

. predict r  , resid
(6 missing values generated)

. predict rst, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more

. 
. foreach var of local indep_vlist {
  2.   avplot  `var'
  3.   more
  4.   rvpplot `var', yline(10)
  5.   more
  6. 
. }

. 
. graph drop _all

. 
. 
. /* Hadi's (1992, 1994) Algorithm to ID possible outliers, optimized by
>      Weber (2010) */
. bacon `dep_vlist' `indep_vlist', gen(out1)

Total number of observations:       28747
   BACON outliers (p = 0.15):           5
      Non-outliers remaining:       28742

. tw sc rst xb, ml(out1)

. tw sc rst xb if out1 == 1, ml(country)

. more

. 
. /* Tests for Normality of Residuals 
>    (for SFA, we expect them to be non-normal. 
>     They would be skewed if there is 
>     inefficiency present, but they must be 
>     LEFT-SKEWED!!!)
> --------------------------------------------- */
. kdensity r, norm

. more

. 
. 
. /* Tests for Multicollinearity
> ---------------------------------------------*/
. vif

    Variable |       VIF       1/VIF  
-------------+----------------------
lnPFERTILI~S |      4.08    0.244908
lnPTotalCa~e |      2.98    0.335866
lnPCompoun~t |      1.82    0.548923
lndairypro~s |      1.05    0.953744
-------------+----------------------
    Mean VIF |      2.48

. more

. 
. 
. /* Tests for Non-Linearity
> ---------------------------------------------*/
. foreach var of local indep_vlist {
  2. 
.   acprplot `var'
  3.   more
  4.   cprplot `var'
  5.   more
  6. 
. }

. 
. 
. /* Tests for Model Specification
> ---------------------------------------------*/
. linktest 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  2, 28744) =81524.36
       Model |  17055.3044     2  8527.65221           Prob > F      =  0.0000
    Residual |   3006.6945 28744  .104602509           R-squared     =  0.8501
-------------+------------------------------           Adj R-squared =  0.8501
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32342

------------------------------------------------------------------------------
lntotalspe~s |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        _hat |   .1932986   .0443736     4.36   0.000     .1063243    .2802729
      _hatsq |   .0378719   .0020799    18.21   0.000     .0337951    .0419487
       _cons |   4.273287   .2361619    18.09   0.000     3.810399    4.736175
------------------------------------------------------------------------------

. more

. ovtest 

Ramsey RESET test using powers of the fitted values of lntotalspecificcosts
       Ho:  model has no omitted variables
               F(3, 28739) =    193.55
                  Prob > F =      0.0000

. more

. 
. graph drop _all

. 
. 
. * Data description
. describe    pid year `dep_vlist' `indep_vlist'

              storage  display     value
variable name   type   format      label      variable label
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
pid             float  %9.0g                  ID (unique for whole panel)
year            int    %ty         yy         year
lntotalspecif~s double %9.0g                  
lndairyproducts double %9.0g                  
lnPTotalCattle  double %9.0g                  
lnPCompoundfe~t double %9.0g                  
lnPFERTILISER~S double %9.0g                  

. summ        pid year `dep_vlist' `indep_vlist'

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
         pid |     28753    3509.337    2307.203          1       7742
        year |     28753    2002.886    2.578091       1999       2007
lntotalspe~s |     28753    10.59034    .8363159   5.529429   14.09032
lndairypro~s |     28747     12.5815    .7696248   8.268732   15.75065
lnPTotalCa~e |     28753   -.0020111    .0826745  -.1154109   .1241626
-------------+--------------------------------------------------------
lnPCompoun~t |     28753    4.653798    .0694497   4.562263   4.852811
lnPFERTILI~S |     28753    4.747869    .1422505   4.517431   5.136386

. 
. * Panel characterstics
. xtdescribe 

     pid:  1, 2, ..., 7742                                   n =       7709
    year:  1999, 2000, ..., 2007                             T =          9
           Delta(year) = 1 year
           Span(year)  = 9 periods
           (pid*year uniquely identifies each observation)

Distribution of T_i:   min      5%     25%       50%       75%     95%     max
                         1       1       1         3         6       9       9

     Freq.  Percent    Cum. |  Pattern
 ---------------------------+-----------
      845     10.96   10.96 |  111111111
      702      9.11   20.07 |  1........
      688      8.92   28.99 |  11.......
      373      4.84   33.83 |  ........1
      231      3.00   36.83 |  111......
      230      2.98   39.81 |  .......11
      203      2.63   42.44 |  ..1111111
      202      2.62   45.06 |  .1.......
      198      2.57   47.63 |  ..1......
     4037     52.37  100.00 | (other patterns)
 ---------------------------+-----------
     7709    100.00         |  XXXXXXXXX

. xtsum       pid year `dep_vlist' `indep_vlist'

Variable         |      Mean   Std. Dev.       Min        Max |    Observations
-----------------+--------------------------------------------+----------------
pid      overall |  3509.337   2307.203          1       7742 |     N =   28753
         between |              2236.93          1       7742 |     n =    7709
         within  |                    0   3509.337   3509.337 | T-bar =  3.7298
                 |                                            |
year     overall |  2002.886   2.578091       1999       2007 |     N =   28753
         between |             2.333301       1999       2007 |     n =    7709
         within  |             1.953716   1997.636   2008.136 | T-bar =  3.7298
                 |                                            |
lntota~s overall |  10.59034   .8363159   5.529429   14.09032 |     N =   28753
         between |             .8654513   5.529429   13.80699 |     n =    7709
         within  |             .1697864   8.755104   12.40564 | T-bar =  3.7298
                 |                                            |
lndair~s overall |   12.5815   .7696248   8.268732   15.75065 |     N =   28747
         between |             .8021383   8.268732   15.60458 |     n =    7705
         within  |             .1256265   10.20696   14.37921 | T-bar = 3.73095
                 |                                            |
lnPTot~e overall | -.0020111   .0826745  -.1154109   .1241626 |     N =   28753
         between |             .0671015  -.1154109   .1241626 |     n =    7709
         within  |             .0677761  -.1642726   .1546755 | T-bar =  3.7298
                 |                                            |
lnPCom~t overall |  4.653798   .0694497   4.562263   4.852811 |     N =   28753
         between |             .0495151   4.562263   4.852811 |     n =    7709
         within  |             .0607838   4.509045   4.861423 | T-bar =  3.7298
                 |                                            |
lnPFER~S overall |  4.747869   .1422505   4.517431   5.136386 |     N =   28753
         between |             .1300917   4.517431   5.136386 |     n =    7709
         within  |             .1055226   4.435519   5.087929 | T-bar =  3.7298

. 
. 
. * Pooled OLS
. reg `dep_vlist' `indep_vlist'

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  4, 28742) =40212.64
       Model |  17020.6246     4  4255.15615           Prob > F      =  0.0000
    Residual |  3041.37433 28742  .105816378           R-squared     =  0.8484
-------------+------------------------------           Adj R-squared =  0.8484
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32529

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9842823   .0025527   385.59   0.000      .979279    .9892857
                 lnPTotalCattle |  -.1877354   .0400451    -4.69   0.000    -.2662257   -.1092452
lnPCompoundfeedingstuffsforcatt |   .4729934   .0372947    12.68   0.000      .399894    .5460927
 lnPFERTILISERSANDSOILIMPROVERS |    .337648   .0272545    12.39   0.000     .2842278    .3910682
                          _cons |  -5.597614    .156219   -35.83   0.000     -5.90381   -5.291417
-------------------------------------------------------------------------------------------------

. 
. 
. * Population-averaged estimator
. xtreg `dep_vlist' `indep_vlist', pa

Iteration 1: tolerance = .17703364
Iteration 2: tolerance = .01196369
Iteration 3: tolerance = .00075086
Iteration 4: tolerance = .00004741
Iteration 5: tolerance = 2.994e-06
Iteration 6: tolerance = 1.892e-07

GEE population-averaged model                   Number of obs      =     28747
Group variable:                        pid      Number of groups   =      7705
Link:                             identity      Obs per group: min =         1
Family:                           Gaussian                     avg =       3.7
Correlation:                  exchangeable                     max =         9
                                                Wald chi2(4)       =  63305.49
Scale parameter:                  .1087099      Prob > chi2        =    0.0000

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |    .925367   .0038934   237.68   0.000     .9177361    .9329979
                 lnPTotalCattle |  -.0269215   .0257284    -1.05   0.295    -.0773483    .0235052
lnPCompoundfeedingstuffsforcatt |   .5280953   .0224985    23.47   0.000      .483999    .5721915
 lnPFERTILISERSANDSOILIMPROVERS |   .1839451   .0190042     9.68   0.000     .1466975    .2211926
                          _cons |  -4.360357   .1035123   -42.12   0.000    -4.563237   -4.157476
-------------------------------------------------------------------------------------------------

. more

. 
. 
. * Between estimator
. xtreg `dep_vlist' `indep_vlist', be

Between regression (regression on group means)  Number of obs      =     28747
Group variable: pid                             Number of groups   =      7705

R-sq:  within  = 0.3921                         Obs per group: min =         1
       between = 0.8615                                        avg =       3.7
       overall = 0.8470                                        max =         9

                                                F(4,7700)          =  11971.70
sd(u_i + avg(e_i.))=  .3209633                  Prob > F           =    0.0000

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9801727    .004689   209.04   0.000     .9709809    .9893644
                 lnPTotalCattle |  -.5979135   .1112253    -5.38   0.000    -.8159453   -.3798817
lnPCompoundfeedingstuffsforcatt |   .8862719   .1358724     6.52   0.000     .6199251    1.152619
 lnPFERTILISERSANDSOILIMPROVERS |   .4530183   .0700407     6.47   0.000     .3157194    .5903172
                          _cons |  -7.990956   .5250644   -15.22   0.000    -9.020225   -6.961687
-------------------------------------------------------------------------------------------------

. more

. 
. 
. * Fixed effects estimator 
. xtreg `dep_vlist' `indep_vlist', fe

Fixed-effects (within) regression               Number of obs      =     28747
Group variable: pid                             Number of groups   =      7705

R-sq:  within  = 0.4091                         Obs per group: min =         1
       between = 0.8606                                        avg =       3.7
       overall = 0.8470                                        max =         9

                                                F(4,21038)         =   3641.51
corr(u_i, Xb)  = 0.6210                         Prob > F           =    0.0000

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .6757366    .007442    90.80   0.000     .6611498    .6903234
                 lnPTotalCattle |   .0603932   .0225925     2.67   0.008       .01611    .1046763
lnPCompoundfeedingstuffsforcatt |    .546399   .0194259    28.13   0.000     .5083228    .5844752
 lnPFERTILISERSANDSOILIMPROVERS |     .18524   .0170229    10.88   0.000     .1518739    .2186061
                          _cons |  -1.333147   .1180743   -11.29   0.000    -1.564581   -1.101712
--------------------------------+----------------------------------------------------------------
                        sigma_u |  .40596164
                        sigma_e |  .15256038
                            rho |  .87625091   (fraction of variance due to u_i)
-------------------------------------------------------------------------------------------------
F test that all u_i=0:     F(7704, 21038) =    14.23         Prob > F = 0.0000

. estimates store fixed

. predict alphafehat, u
(6 missing values generated)

. more

. 
. 
. * First-differences estimator
. reg D.(`dep_vlist' `indep_vlist'), noconstant

      Source |       SS       df       MS              Number of obs =   19468
-------------+------------------------------           F(  4, 19464) = 1509.42
       Model |  202.611976     4   50.652994           Prob > F      =  0.0000
    Residual |  653.170445 19464  .033557873           R-squared     =  0.2368
-------------+------------------------------           Adj R-squared =  0.2366
       Total |  855.782421 19468  .043958415           Root MSE      =  .18319

-------------------------------------------------------------------------------------------------
         D.lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |
                            D1. |    .569515   .0086278    66.01   0.000     .5526038    .5864262
                                |
                 lnPTotalCattle |
                            D1. |   .0311315   .0203656     1.53   0.126    -.0087867    .0710498
                                |
lnPCompoundfeedingstuffsforcatt |
                            D1. |   .4054482    .017167    23.62   0.000     .3717994    .4390969
                                |
 lnPFERTILISERSANDSOILIMPROVERS |
                            D1. |   .2610058   .0193543    13.49   0.000     .2230697     .298942
-------------------------------------------------------------------------------------------------

. more

. 
. 
. * Random effects estimator
. xtreg `dep_vlist' `indep_vlist', re theta

Random-effects GLS regression                   Number of obs      =     28747
Group variable: pid                             Number of groups   =      7705

R-sq:  within  = 0.4025                         Obs per group: min =         1
       between = 0.8607                                        avg =       3.7
       overall = 0.8482                                        max =         9

                                                Wald chi2(4)       =  58552.37
corr(u_i, X)   = 0 (assumed)                    Prob > chi2        =    0.0000

------------------- theta --------------------
  min      5%       median        95%      max
0.5505   0.5505     0.7210     0.8346   0.8346

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9002588   .0040006   225.03   0.000     .8924177    .9080999
                 lnPTotalCattle |  -.0089125   .0225515    -0.40   0.693    -.0531126    .0352875
lnPCompoundfeedingstuffsforcatt |    .531027   .0196137    27.07   0.000     .4925848    .5694691
 lnPFERTILISERSANDSOILIMPROVERS |   .1748235   .0167653    10.43   0.000     .1419642    .2076828
                          _cons |  -4.013033   .0937153   -42.82   0.000    -4.196712   -3.829355
--------------------------------+----------------------------------------------------------------
                        sigma_u |  .30314356
                        sigma_e |  .15256038
                            rho |  .79791152   (fraction of variance due to u_i)
-------------------------------------------------------------------------------------------------

. estimates store random

. more

. 
. * Hausman test for RE vs FE
. hausman fixed random

                 ---- Coefficients ----
             |      (b)          (B)            (b-B)     sqrt(diag(V_b-V_B))
             |     fixed        random       Difference          S.E.
-------------+----------------------------------------------------------------
lndairypro~s |    .6757366     .9002588       -.2245222        .0062752
lnPTotalCa~e |    .0603932    -.0089125        .0693057        .0013618
lnPCompoun~t |     .546399      .531027        .0153721               .
lnPFERTILI~S |      .18524     .1748235        .0104165        .0029503
------------------------------------------------------------------------------
                           b = consistent under Ho and Ha; obtained from xtreg
            B = inconsistent under Ha, efficient under Ho; obtained from xtreg

    Test:  Ho:  difference in coefficients not systematic

                  chi2(4) = (b-B)'[(V_b-V_B)^(-1)](b-B)
                          =     1265.61
                Prob>chi2 =      0.0000
                (V_b-V_B is not positive definite)

. 
. 
. * Breusch-Pagan LM test for RE vs OLS
. estimates restore random // make sure RE estimates are active
(results random are active now)

. xttest0

Breusch and Pagan Lagrangian multiplier test for random effects

        lntotalspecificcosts[pid,t] = Xb + u[pid] + e[pid,t]

        Estimated results:
                         |       Var     sd = sqrt(Var)
                ---------+-----------------------------
               lntotal~s |   .6979058       .8354075
                       e |   .0232747       .1525604
                       u |    .091896       .3031436

        Test:   Var(u) = 0
                             chibar2(01) = 31363.32
                          Prob > chibar2 =   0.0000

. 
. * Individual specific effects from FE
. summ alphafehat

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
  alphafehat |     28747   -1.38e-10    .3821813  -2.476685   2.227497

. hist alphafehat
(bin=44, start=-2.4766853, width=.10691323)

. 
. 
. restore

. STOP!!!
unrecognized command:  STOP
r(199);

end of do-file
r(199);

end of do-file

r(199);

. help tablemat

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 18:31:56

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  18:31:56  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. keep `dep_vlist' `indep_vlist' country pid year

. 
. qui reg  `dep_vlist' `indep_vlist' 

. predict xb , xb
(6 missing values generated)

. predict r  , resid
(6 missing values generated)

. predict rst, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more

. 
. foreach var of local indep_vlist {
  2.   avplot  `var'
  3.   more
  4.   rvpplot `var', yline(10)
  5.   more
  6. 
. }

. 
. graph drop _all

. 
. 
. /* Hadi's (1992, 1994) Algorithm to ID possible outliers, optimized by
>      Weber (2010) */
. bacon `dep_vlist' `indep_vlist', gen(out1)

Total number of observations:       28747
   BACON outliers (p = 0.15):           5
      Non-outliers remaining:       28742

. tw sc rst xb, ml(out1)

. tw sc rst xb if out1 == 1, ml(country)

. more

. 
. /* Tests for Normality of Residuals 
>    (for SFA, we expect them to be non-normal. 
>     They would be skewed if there is 
>     inefficiency present, but they must be 
>     LEFT-SKEWED!!!)
> --------------------------------------------- */
. kdensity r, norm

. more

. 
. 
. /* Tests for Multicollinearity
> ---------------------------------------------*/
. vif

    Variable |       VIF       1/VIF  
-------------+----------------------
lnPFERTILI~S |      4.08    0.244908
lnPTotalCa~e |      2.98    0.335866
lnPCompoun~t |      1.82    0.548923
lndairypro~s |      1.05    0.953744
-------------+----------------------
    Mean VIF |      2.48

. more

. 
. 
. /* Tests for Non-Linearity
> ---------------------------------------------*/
. foreach var of local indep_vlist {
  2. 
.   acprplot `var'
  3.   more
  4.   cprplot `var'
  5.   more
  6. 
. }

. 
. 
. /* Tests for Model Specification
> ---------------------------------------------*/
. linktest 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  2, 28744) =81524.36
       Model |  17055.3044     2  8527.65221           Prob > F      =  0.0000
    Residual |   3006.6945 28744  .104602509           R-squared     =  0.8501
-------------+------------------------------           Adj R-squared =  0.8501
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32342

------------------------------------------------------------------------------
lntotalspe~s |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        _hat |   .1932986   .0443736     4.36   0.000     .1063243    .2802729
      _hatsq |   .0378719   .0020799    18.21   0.000     .0337951    .0419487
       _cons |   4.273287   .2361619    18.09   0.000     3.810399    4.736175
------------------------------------------------------------------------------

. more

. ovtest 

Ramsey RESET test using powers of the fitted values of lntotalspecificcosts
       Ho:  model has no omitted variables
               F(3, 28739) =    193.55
                  Prob > F =      0.0000

. more

. 
. graph drop _all

. 
. 
. * Data description
. describe    pid year `dep_vlist' `indep_vlist'

              storage  display     value
variable name   type   format      label      variable label
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
pid             float  %9.0g                  ID (unique for whole panel)
year            int    %ty         yy         year
lntotalspecif~s double %9.0g                  
lndairyproducts double %9.0g                  
lnPTotalCattle  double %9.0g                  
lnPCompoundfe~t double %9.0g                  
lnPFERTILISER~S double %9.0g                  

. summ        pid year `dep_vlist' `indep_vlist'

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
         pid |     28753    3509.337    2307.203          1       7742
        year |     28753    2002.886    2.578091       1999       2007
lntotalspe~s |     28753    10.59034    .8363159   5.529429   14.09032
lndairypro~s |     28747     12.5815    .7696248   8.268732   15.75065
lnPTotalCa~e |     28753   -.0020111    .0826745  -.1154109   .1241626
-------------+--------------------------------------------------------
lnPCompoun~t |     28753    4.653798    .0694497   4.562263   4.852811
lnPFERTILI~S |     28753    4.747869    .1422505   4.517431   5.136386

. 
. * Panel characterstics
. xtdescribe 

     pid:  1, 2, ..., 7742                                   n =       7709
    year:  1999, 2000, ..., 2007                             T =          9
           Delta(year) = 1 year
           Span(year)  = 9 periods
           (pid*year uniquely identifies each observation)

Distribution of T_i:   min      5%     25%       50%       75%     95%     max
                         1       1       1         3         6       9       9

     Freq.  Percent    Cum. |  Pattern
 ---------------------------+-----------
      845     10.96   10.96 |  111111111
      702      9.11   20.07 |  1........
      688      8.92   28.99 |  11.......
      373      4.84   33.83 |  ........1
      231      3.00   36.83 |  111......
      230      2.98   39.81 |  .......11
      203      2.63   42.44 |  ..1111111
      202      2.62   45.06 |  .1.......
      198      2.57   47.63 |  ..1......
     4037     52.37  100.00 | (other patterns)
 ---------------------------+-----------
     7709    100.00         |  XXXXXXXXX

. xtsum       pid year `dep_vlist' `indep_vlist'

Variable         |      Mean   Std. Dev.       Min        Max |    Observations
-----------------+--------------------------------------------+----------------
pid      overall |  3509.337   2307.203          1       7742 |     N =   28753
         between |              2236.93          1       7742 |     n =    7709
         within  |                    0   3509.337   3509.337 | T-bar =  3.7298
                 |                                            |
year     overall |  2002.886   2.578091       1999       2007 |     N =   28753
         between |             2.333301       1999       2007 |     n =    7709
         within  |             1.953716   1997.636   2008.136 | T-bar =  3.7298
                 |                                            |
lntota~s overall |  10.59034   .8363159   5.529429   14.09032 |     N =   28753
         between |             .8654513   5.529429   13.80699 |     n =    7709
         within  |             .1697864   8.755104   12.40564 | T-bar =  3.7298
                 |                                            |
lndair~s overall |   12.5815   .7696248   8.268732   15.75065 |     N =   28747
         between |             .8021383   8.268732   15.60458 |     n =    7705
         within  |             .1256265   10.20696   14.37921 | T-bar = 3.73095
                 |                                            |
lnPTot~e overall | -.0020111   .0826745  -.1154109   .1241626 |     N =   28753
         between |             .0671015  -.1154109   .1241626 |     n =    7709
         within  |             .0677761  -.1642726   .1546755 | T-bar =  3.7298
                 |                                            |
lnPCom~t overall |  4.653798   .0694497   4.562263   4.852811 |     N =   28753
         between |             .0495151   4.562263   4.852811 |     n =    7709
         within  |             .0607838   4.509045   4.861423 | T-bar =  3.7298
                 |                                            |
lnPFER~S overall |  4.747869   .1422505   4.517431   5.136386 |     N =   28753
         between |             .1300917   4.517431   5.136386 |     n =    7709
         within  |             .1055226   4.435519   5.087929 | T-bar =  3.7298

. 
. 
. * Pooled OLS
. reg `dep_vlist' `indep_vlist'

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  4, 28742) =40212.64
       Model |  17020.6246     4  4255.15615           Prob > F      =  0.0000
    Residual |  3041.37433 28742  .105816378           R-squared     =  0.8484
-------------+------------------------------           Adj R-squared =  0.8484
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32529

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9842823   .0025527   385.59   0.000      .979279    .9892857
                 lnPTotalCattle |  -.1877354   .0400451    -4.69   0.000    -.2662257   -.1092452
lnPCompoundfeedingstuffsforcatt |   .4729934   .0372947    12.68   0.000      .399894    .5460927
 lnPFERTILISERSANDSOILIMPROVERS |    .337648   .0272545    12.39   0.000     .2842278    .3910682
                          _cons |  -5.597614    .156219   -35.83   0.000     -5.90381   -5.291417
-------------------------------------------------------------------------------------------------

. outreg using panel_est, nodisplay
unrecognized command:  outreg
r(199);

end of do-file
r(199);

end of do-file

r(199);

. help outreg

. findit outreg

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 18:33:23

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  18:33:23  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. keep `dep_vlist' `indep_vlist' country pid year

. 
. qui reg  `dep_vlist' `indep_vlist' 

. predict xb , xb
(6 missing values generated)

. predict r  , resid
(6 missing values generated)

. predict rst, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more

. 
. foreach var of local indep_vlist {
  2.   avplot  `var'
  3.   more
  4.   rvpplot `var', yline(10)
  5.   more
  6. 
. }

. 
. graph drop _all

. 
. 
. /* Hadi's (1992, 1994) Algorithm to ID possible outliers, optimized by
>      Weber (2010) */
. bacon `dep_vlist' `indep_vlist', gen(out1)

Total number of observations:       28747
   BACON outliers (p = 0.15):           5
      Non-outliers remaining:       28742

. tw sc rst xb, ml(out1)

. tw sc rst xb if out1 == 1, ml(country)

. more

. 
. /* Tests for Normality of Residuals 
>    (for SFA, we expect them to be non-normal. 
>     They would be skewed if there is 
>     inefficiency present, but they must be 
>     LEFT-SKEWED!!!)
> --------------------------------------------- */
. kdensity r, norm

. more

. 
. 
. /* Tests for Multicollinearity
> ---------------------------------------------*/
. vif

    Variable |       VIF       1/VIF  
-------------+----------------------
lnPFERTILI~S |      4.08    0.244908
lnPTotalCa~e |      2.98    0.335866
lnPCompoun~t |      1.82    0.548923
lndairypro~s |      1.05    0.953744
-------------+----------------------
    Mean VIF |      2.48

. more

. 
. 
. /* Tests for Non-Linearity
> ---------------------------------------------*/
. foreach var of local indep_vlist {
  2. 
.   acprplot `var'
  3.   more
  4.   cprplot `var'
  5.   more
  6. 
. }

. 
. 
. /* Tests for Model Specification
> ---------------------------------------------*/
. linktest 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  2, 28744) =81524.36
       Model |  17055.3044     2  8527.65221           Prob > F      =  0.0000
    Residual |   3006.6945 28744  .104602509           R-squared     =  0.8501
-------------+------------------------------           Adj R-squared =  0.8501
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32342

------------------------------------------------------------------------------
lntotalspe~s |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        _hat |   .1932986   .0443736     4.36   0.000     .1063243    .2802729
      _hatsq |   .0378719   .0020799    18.21   0.000     .0337951    .0419487
       _cons |   4.273287   .2361619    18.09   0.000     3.810399    4.736175
------------------------------------------------------------------------------

. more

. ovtest 

Ramsey RESET test using powers of the fitted values of lntotalspecificcosts
       Ho:  model has no omitted variables
               F(3, 28739) =    193.55
                  Prob > F =      0.0000

. more

. 
. graph drop _all

. 
. 
. * Data description
. describe    pid year `dep_vlist' `indep_vlist'

              storage  display     value
variable name   type   format      label      variable label
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
pid             float  %9.0g                  ID (unique for whole panel)
year            int    %ty         yy         year
lntotalspecif~s double %9.0g                  
lndairyproducts double %9.0g                  
lnPTotalCattle  double %9.0g                  
lnPCompoundfe~t double %9.0g                  
lnPFERTILISER~S double %9.0g                  

. summ        pid year `dep_vlist' `indep_vlist'

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
         pid |     28753    3509.337    2307.203          1       7742
        year |     28753    2002.886    2.578091       1999       2007
lntotalspe~s |     28753    10.59034    .8363159   5.529429   14.09032
lndairypro~s |     28747     12.5815    .7696248   8.268732   15.75065
lnPTotalCa~e |     28753   -.0020111    .0826745  -.1154109   .1241626
-------------+--------------------------------------------------------
lnPCompoun~t |     28753    4.653798    .0694497   4.562263   4.852811
lnPFERTILI~S |     28753    4.747869    .1422505   4.517431   5.136386

. 
. * Panel characterstics
. xtdescribe 

     pid:  1, 2, ..., 7742                                   n =       7709
    year:  1999, 2000, ..., 2007                             T =          9
           Delta(year) = 1 year
           Span(year)  = 9 periods
           (pid*year uniquely identifies each observation)

Distribution of T_i:   min      5%     25%       50%       75%     95%     max
                         1       1       1         3         6       9       9

     Freq.  Percent    Cum. |  Pattern
 ---------------------------+-----------
      845     10.96   10.96 |  111111111
      702      9.11   20.07 |  1........
      688      8.92   28.99 |  11.......
      373      4.84   33.83 |  ........1
      231      3.00   36.83 |  111......
      230      2.98   39.81 |  .......11
      203      2.63   42.44 |  ..1111111
      202      2.62   45.06 |  .1.......
      198      2.57   47.63 |  ..1......
     4037     52.37  100.00 | (other patterns)
 ---------------------------+-----------
     7709    100.00         |  XXXXXXXXX

. xtsum       pid year `dep_vlist' `indep_vlist'

Variable         |      Mean   Std. Dev.       Min        Max |    Observations
-----------------+--------------------------------------------+----------------
pid      overall |  3509.337   2307.203          1       7742 |     N =   28753
         between |              2236.93          1       7742 |     n =    7709
         within  |                    0   3509.337   3509.337 | T-bar =  3.7298
                 |                                            |
year     overall |  2002.886   2.578091       1999       2007 |     N =   28753
         between |             2.333301       1999       2007 |     n =    7709
         within  |             1.953716   1997.636   2008.136 | T-bar =  3.7298
                 |                                            |
lntota~s overall |  10.59034   .8363159   5.529429   14.09032 |     N =   28753
         between |             .8654513   5.529429   13.80699 |     n =    7709
         within  |             .1697864   8.755104   12.40564 | T-bar =  3.7298
                 |                                            |
lndair~s overall |   12.5815   .7696248   8.268732   15.75065 |     N =   28747
         between |             .8021383   8.268732   15.60458 |     n =    7705
         within  |             .1256265   10.20696   14.37921 | T-bar = 3.73095
                 |                                            |
lnPTot~e overall | -.0020111   .0826745  -.1154109   .1241626 |     N =   28753
         between |             .0671015  -.1154109   .1241626 |     n =    7709
         within  |             .0677761  -.1642726   .1546755 | T-bar =  3.7298
                 |                                            |
lnPCom~t overall |  4.653798   .0694497   4.562263   4.852811 |     N =   28753
         between |             .0495151   4.562263   4.852811 |     n =    7709
         within  |             .0607838   4.509045   4.861423 | T-bar =  3.7298
                 |                                            |
lnPFER~S overall |  4.747869   .1422505   4.517431   5.136386 |     N =   28753
         between |             .1300917   4.517431   5.136386 |     n =    7709
         within  |             .1055226   4.435519   5.087929 | T-bar =  3.7298

. 
. 
. * Pooled OLS
. reg `dep_vlist' `indep_vlist'

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  4, 28742) =40212.64
       Model |  17020.6246     4  4255.15615           Prob > F      =  0.0000
    Residual |  3041.37433 28742  .105816378           R-squared     =  0.8484
-------------+------------------------------           Adj R-squared =  0.8484
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32529

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9842823   .0025527   385.59   0.000      .979279    .9892857
                 lnPTotalCattle |  -.1877354   .0400451    -4.69   0.000    -.2662257   -.1092452
lnPCompoundfeedingstuffsforcatt |   .4729934   .0372947    12.68   0.000      .399894    .5460927
 lnPFERTILISERSANDSOILIMPROVERS |    .337648   .0272545    12.39   0.000     .2842278    .3910682
                          _cons |  -5.597614    .156219   -35.83   0.000     -5.90381   -5.291417
-------------------------------------------------------------------------------------------------

. outreg using panel_est, nodisplay

. more

. 
. * Population-averaged estimator
. xtreg `dep_vlist' `indep_vlist', pa

Iteration 1: tolerance = .17703364
Iteration 2: tolerance = .01196369
Iteration 3: tolerance = .00075086
Iteration 4: tolerance = .00004741
Iteration 5: tolerance = 2.994e-06
Iteration 6: tolerance = 1.891e-07

GEE population-averaged model                   Number of obs      =     28747
Group variable:                        pid      Number of groups   =      7705
Link:                             identity      Obs per group: min =         1
Family:                           Gaussian                     avg =       3.7
Correlation:                  exchangeable                     max =         9
                                                Wald chi2(4)       =  63305.49
Scale parameter:                  .1087099      Prob > chi2        =    0.0000

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |    .925367   .0038934   237.68   0.000     .9177361    .9329979
                 lnPTotalCattle |  -.0269215   .0257284    -1.05   0.295    -.0773483    .0235052
lnPCompoundfeedingstuffsforcatt |   .5280953   .0224985    23.47   0.000      .483999    .5721915
 lnPFERTILISERSANDSOILIMPROVERS |   .1839451   .0190042     9.68   0.000     .1466975    .2211926
                          _cons |  -4.360357   .1035123   -42.12   0.000    -4.563237   -4.157476
-------------------------------------------------------------------------------------------------

. outreg using panel_est, merge nodisplay

. more

. 
. 
. * Between estimator
. xtreg `dep_vlist' `indep_vlist', be

Between regression (regression on group means)  Number of obs      =     28747
Group variable: pid                             Number of groups   =      7705

R-sq:  within  = 0.3921                         Obs per group: min =         1
       between = 0.8615                                        avg =       3.7
       overall = 0.8470                                        max =         9

                                                F(4,7700)          =  11971.70
sd(u_i + avg(e_i.))=  .3209633                  Prob > F           =    0.0000

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9801727    .004689   209.04   0.000     .9709809    .9893644
                 lnPTotalCattle |  -.5979135   .1112253    -5.38   0.000    -.8159453   -.3798817
lnPCompoundfeedingstuffsforcatt |   .8862719   .1358724     6.52   0.000     .6199251    1.152619
 lnPFERTILISERSANDSOILIMPROVERS |   .4530183   .0700407     6.47   0.000     .3157194    .5903172
                          _cons |  -7.990956   .5250644   -15.22   0.000    -9.020225   -6.961687
-------------------------------------------------------------------------------------------------

. outreg using panel_est, merge nodisplay

. more

. 
. 
. * Fixed effects estimator 
. xtreg `dep_vlist' `indep_vlist', fe

Fixed-effects (within) regression               Number of obs      =     28747
Group variable: pid                             Number of groups   =      7705

R-sq:  within  = 0.4091                         Obs per group: min =         1
       between = 0.8606                                        avg =       3.7
       overall = 0.8470                                        max =         9

                                                F(4,21038)         =   3641.51
corr(u_i, Xb)  = 0.6210                         Prob > F           =    0.0000

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .6757366    .007442    90.80   0.000     .6611498    .6903234
                 lnPTotalCattle |   .0603932   .0225925     2.67   0.008       .01611    .1046763
lnPCompoundfeedingstuffsforcatt |    .546399   .0194259    28.13   0.000     .5083228    .5844752
 lnPFERTILISERSANDSOILIMPROVERS |     .18524   .0170229    10.88   0.000     .1518739    .2186061
                          _cons |  -1.333147   .1180743   -11.29   0.000    -1.564581   -1.101712
--------------------------------+----------------------------------------------------------------
                        sigma_u |  .40596164
                        sigma_e |  .15256038
                            rho |  .87625091   (fraction of variance due to u_i)
-------------------------------------------------------------------------------------------------
F test that all u_i=0:     F(7704, 21038) =    14.23         Prob > F = 0.0000

. estimates store fixed

. predict alphafehat, u
(6 missing values generated)

. outreg using panel_est, merge nodisplay

. more

. 
. 
. * First-differences estimator
. reg D.(`dep_vlist' `indep_vlist'), noconstant

      Source |       SS       df       MS              Number of obs =   19468
-------------+------------------------------           F(  4, 19464) = 1509.42
       Model |  202.611976     4   50.652994           Prob > F      =  0.0000
    Residual |  653.170445 19464  .033557873           R-squared     =  0.2368
-------------+------------------------------           Adj R-squared =  0.2366
       Total |  855.782421 19468  .043958415           Root MSE      =  .18319

-------------------------------------------------------------------------------------------------
         D.lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |
                            D1. |    .569515   .0086278    66.01   0.000     .5526038    .5864262
                                |
                 lnPTotalCattle |
                            D1. |   .0311315   .0203656     1.53   0.126    -.0087867    .0710498
                                |
lnPCompoundfeedingstuffsforcatt |
                            D1. |   .4054482    .017167    23.62   0.000     .3717994    .4390969
                                |
 lnPFERTILISERSANDSOILIMPROVERS |
                            D1. |   .2610058   .0193543    13.49   0.000     .2230697     .298942
-------------------------------------------------------------------------------------------------

. outreg using panel_est, merge nodisplay

. more

. 
. 
. * Random effects estimator
. xtreg `dep_vlist' `indep_vlist', re theta

Random-effects GLS regression                   Number of obs      =     28747
Group variable: pid                             Number of groups   =      7705

R-sq:  within  = 0.4025                         Obs per group: min =         1
       between = 0.8607                                        avg =       3.7
       overall = 0.8482                                        max =         9

                                                Wald chi2(4)       =  58552.37
corr(u_i, X)   = 0 (assumed)                    Prob > chi2        =    0.0000

------------------- theta --------------------
  min      5%       median        95%      max
0.5505   0.5505     0.7210     0.8346   0.8346

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9002588   .0040006   225.03   0.000     .8924177    .9080999
                 lnPTotalCattle |  -.0089125   .0225515    -0.40   0.693    -.0531126    .0352875
lnPCompoundfeedingstuffsforcatt |    .531027   .0196137    27.07   0.000     .4925848    .5694691
 lnPFERTILISERSANDSOILIMPROVERS |   .1748235   .0167653    10.43   0.000     .1419642    .2076828
                          _cons |  -4.013033   .0937153   -42.82   0.000    -4.196712   -3.829355
--------------------------------+----------------------------------------------------------------
                        sigma_u |  .30314356
                        sigma_e |  .15256038
                            rho |  .79791152   (fraction of variance due to u_i)
-------------------------------------------------------------------------------------------------

. estimates store random

. outreg using panel_est, merge

       -----------------------------------------------------------------------------------------------------------------------------------------------------
                                            lntotalspecificcosts  lntotalspecificcosts  lntotalspecificcosts  lntotalspecificcosts  D.lntotalspecificcosts 
       -----------------------------------------------------------------------------------------------------------------------------------------------------
        lndairyproducts                            0.984                 0.925                 0.980                 0.676                                 
                                                 (385.59)**            (237.68)**            (209.04)**            (90.80)**                               
        lnPTotalCattle                             -0.188                -0.027                -0.598                0.060                                 
                                                  (4.69)**               (1.05)               (5.38)**              (2.67)**                               
        lnPCompoundfeedingstuffsforcatt            0.473                 0.528                 0.886                 0.546                                 
                                                 (12.68)**             (23.47)**              (6.52)**             (28.13)**                               
        lnPFERTILISERSANDSOILIMPROVERS             0.338                 0.184                 0.453                 0.185                                 
                                                 (12.39)**              (9.68)**              (6.47)**             (10.88)**                               
        D.lndairyproducts                                                                                                                   0.570          
                                                                                                                                          (66.01)**        
        D.lnPTotalCattle                                                                                                                    0.031          
                                                                                                                                            (1.53)         
        D.lnPCompoundfeedingstuffsforcatt                                                                                                   0.405          
                                                                                                                                          (23.62)**        
        D.lnPFERTILISERSANDSOILIMPROVERS                                                                                                    0.261          
                                                                                                                                          (13.49)**        
        _cons                                      -5.598                -4.360                -7.991                -1.333                                
                                                 (35.83)**             (42.12)**             (15.22)**             (11.29)**                               
        R2                                          0.85                                        0.86                  0.41                   0.24          
        N                                          28,747                28,747                28,747                28,747                 19,468         
       -----------------------------------------------------------------------------------------------------------------------------------------------------
                                                                        * p<0.05; ** p<0.01


                                                    -----------------------------------------------------------
                                                                                         lntotalspecificcosts 
                                                    -----------------------------------------------------------
                                                     lndairyproducts                            0.900         
                                                                                              (225.03)**      
                                                     lnPTotalCattle                             -0.009        
                                                                                                (0.40)        
                                                     lnPCompoundfeedingstuffsforcatt            0.531         
                                                                                              (27.07)**       
                                                     lnPFERTILISERSANDSOILIMPROVERS             0.175         
                                                                                              (10.43)**       
                                                     D.lndairyproducts                                        
                                                                                                              
                                                     D.lnPTotalCattle                                         
                                                                                                              
                                                     D.lnPCompoundfeedingstuffsforcatt                        
                                                                                                              
                                                     D.lnPFERTILISERSANDSOILIMPROVERS                         
                                                                                                              
                                                     _cons                                      -4.013        
                                                                                              (42.82)**       
                                                     R2                                                       
                                                     N                                          28,747        
                                                    -----------------------------------------------------------
                                                                        * p<0.05; ** p<0.01


. more

. 
. * Hausman test for RE vs FE
. hausman fixed random

                 ---- Coefficients ----
             |      (b)          (B)            (b-B)     sqrt(diag(V_b-V_B))
             |     fixed        random       Difference          S.E.
-------------+----------------------------------------------------------------
lndairypro~s |    .6757366     .9002588       -.2245222        .0062752
lnPTotalCa~e |    .0603932    -.0089125        .0693057        .0013618
lnPCompoun~t |     .546399      .531027        .0153721               .
lnPFERTILI~S |      .18524     .1748235        .0104165        .0029503
------------------------------------------------------------------------------
                           b = consistent under Ho and Ha; obtained from xtreg
            B = inconsistent under Ha, efficient under Ho; obtained from xtreg

    Test:  Ho:  difference in coefficients not systematic

                  chi2(4) = (b-B)'[(V_b-V_B)^(-1)](b-B)
                          =     1265.61
                Prob>chi2 =      0.0000
                (V_b-V_B is not positive definite)

. 
. 
. * Breusch-Pagan LM test for RE vs OLS
. estimates restore random // make sure RE estimates are active
(results random are active now)

. xttest0

Breusch and Pagan Lagrangian multiplier test for random effects

        lntotalspecificcosts[pid,t] = Xb + u[pid] + e[pid,t]

        Estimated results:
                         |       Var     sd = sqrt(Var)
                ---------+-----------------------------
               lntotal~s |   .6979058       .8354075
                       e |   .0232747       .1525604
                       u |    .091896       .3031436

        Test:   Var(u) = 0
                             chibar2(01) = 31363.32
                          Prob > chibar2 =   0.0000

. 
. * Individual specific effects from FE
. summ alphafehat

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
  alphafehat |     28747   -1.38e-10    .3821813  -2.476685   2.227497

. hist alphafehat
(bin=44, start=-2.4766853, width=.10691323)

. 
. 
. restore

. STOP!!!
unrecognized command:  STOP
r(199);

end of do-file
r(199);

end of do-file

r(199);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 18:39:56

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  18:39:56  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. keep `dep_vlist' `indep_vlist' country pid year

. 
. qui reg  `dep_vlist' `indep_vlist' 

. predict xb , xb
(6 missing values generated)

. predict r  , resid
(6 missing values generated)

. predict rst, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more

. 
. foreach var of local indep_vlist {
  2.   avplot  `var'
  3.   more
  4.   rvpplot `var', yline(10)
  5.   more
  6. 
. }

. 
. graph drop _all

. 
. 
. /* Hadi's (1992, 1994) Algorithm to ID possible outliers, optimized by
>      Weber (2010) */
. bacon `dep_vlist' `indep_vlist', gen(out1)

Total number of observations:       28747
   BACON outliers (p = 0.15):           5
      Non-outliers remaining:       28742

. tw sc rst xb, ml(out1)

. tw sc rst xb if out1 == 1, ml(country)

. more

. 
. /* Tests for Normality of Residuals 
>    (for SFA, we expect them to be non-normal. 
>     They would be skewed if there is 
>     inefficiency present, but they must be 
>     LEFT-SKEWED!!!)
> --------------------------------------------- */
. kdensity r, norm

. more

. 
. 
. /* Tests for Multicollinearity
> ---------------------------------------------*/
. vif

    Variable |       VIF       1/VIF  
-------------+----------------------
lnPFERTILI~S |      4.08    0.244908
lnPTotalCa~e |      2.98    0.335866
lnPCompoun~t |      1.82    0.548923
lndairypro~s |      1.05    0.953744
-------------+----------------------
    Mean VIF |      2.48

. more

. 
. 
. /* Tests for Non-Linearity
> ---------------------------------------------*/
. foreach var of local indep_vlist {
  2. 
.   acprplot `var'
  3.   more
  4.   cprplot `var'
  5.   more
  6. 
. }

. 
. 
. /* Tests for Model Specification
> ---------------------------------------------*/
. linktest 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  2, 28744) =81524.36
       Model |  17055.3044     2  8527.65221           Prob > F      =  0.0000
    Residual |   3006.6945 28744  .104602509           R-squared     =  0.8501
-------------+------------------------------           Adj R-squared =  0.8501
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32342

------------------------------------------------------------------------------
lntotalspe~s |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        _hat |   .1932986   .0443736     4.36   0.000     .1063243    .2802729
      _hatsq |   .0378719   .0020799    18.21   0.000     .0337951    .0419487
       _cons |   4.273287   .2361619    18.09   0.000     3.810399    4.736175
------------------------------------------------------------------------------

. more

. ovtest 

Ramsey RESET test using powers of the fitted values of lntotalspecificcosts
       Ho:  model has no omitted variables
               F(3, 28739) =    193.55
                  Prob > F =      0.0000

. more

. 
. graph drop _all

. 
. 
. * Data description
. describe    pid year `dep_vlist' `indep_vlist'

              storage  display     value
variable name   type   format      label      variable label
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
pid             float  %9.0g                  ID (unique for whole panel)
year            int    %ty         yy         year
lntotalspecif~s double %9.0g                  
lndairyproducts double %9.0g                  
lnPTotalCattle  double %9.0g                  
lnPCompoundfe~t double %9.0g                  
lnPFERTILISER~S double %9.0g                  

. summ        pid year `dep_vlist' `indep_vlist'

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
         pid |     28753    3509.337    2307.203          1       7742
        year |     28753    2002.886    2.578091       1999       2007
lntotalspe~s |     28753    10.59034    .8363159   5.529429   14.09032
lndairypro~s |     28747     12.5815    .7696248   8.268732   15.75065
lnPTotalCa~e |     28753   -.0020111    .0826745  -.1154109   .1241626
-------------+--------------------------------------------------------
lnPCompoun~t |     28753    4.653798    .0694497   4.562263   4.852811
lnPFERTILI~S |     28753    4.747869    .1422505   4.517431   5.136386

. 
. * Panel characterstics
. xtdescribe 

     pid:  1, 2, ..., 7742                                   n =       7709
    year:  1999, 2000, ..., 2007                             T =          9
           Delta(year) = 1 year
           Span(year)  = 9 periods
           (pid*year uniquely identifies each observation)

Distribution of T_i:   min      5%     25%       50%       75%     95%     max
                         1       1       1         3         6       9       9

     Freq.  Percent    Cum. |  Pattern
 ---------------------------+-----------
      845     10.96   10.96 |  111111111
      702      9.11   20.07 |  1........
      688      8.92   28.99 |  11.......
      373      4.84   33.83 |  ........1
      231      3.00   36.83 |  111......
      230      2.98   39.81 |  .......11
      203      2.63   42.44 |  ..1111111
      202      2.62   45.06 |  .1.......
      198      2.57   47.63 |  ..1......
     4037     52.37  100.00 | (other patterns)
 ---------------------------+-----------
     7709    100.00         |  XXXXXXXXX

. xtsum       pid year `dep_vlist' `indep_vlist'

Variable         |      Mean   Std. Dev.       Min        Max |    Observations
-----------------+--------------------------------------------+----------------
pid      overall |  3509.337   2307.203          1       7742 |     N =   28753
         between |              2236.93          1       7742 |     n =    7709
         within  |                    0   3509.337   3509.337 | T-bar =  3.7298
                 |                                            |
year     overall |  2002.886   2.578091       1999       2007 |     N =   28753
         between |             2.333301       1999       2007 |     n =    7709
         within  |             1.953716   1997.636   2008.136 | T-bar =  3.7298
                 |                                            |
lntota~s overall |  10.59034   .8363159   5.529429   14.09032 |     N =   28753
         between |             .8654513   5.529429   13.80699 |     n =    7709
         within  |             .1697864   8.755104   12.40564 | T-bar =  3.7298
                 |                                            |
lndair~s overall |   12.5815   .7696248   8.268732   15.75065 |     N =   28747
         between |             .8021383   8.268732   15.60458 |     n =    7705
         within  |             .1256265   10.20696   14.37921 | T-bar = 3.73095
                 |                                            |
lnPTot~e overall | -.0020111   .0826745  -.1154109   .1241626 |     N =   28753
         between |             .0671015  -.1154109   .1241626 |     n =    7709
         within  |             .0677761  -.1642726   .1546755 | T-bar =  3.7298
                 |                                            |
lnPCom~t overall |  4.653798   .0694497   4.562263   4.852811 |     N =   28753
         between |             .0495151   4.562263   4.852811 |     n =    7709
         within  |             .0607838   4.509045   4.861423 | T-bar =  3.7298
                 |                                            |
lnPFER~S overall |  4.747869   .1422505   4.517431   5.136386 |     N =   28753
         between |             .1300917   4.517431   5.136386 |     n =    7709
         within  |             .1055226   4.435519   5.087929 | T-bar =  3.7298

. 
. 
. * Pooled OLS
. reg `dep_vlist' `indep_vlist'

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  4, 28742) =40212.64
       Model |  17020.6246     4  4255.15615           Prob > F      =  0.0000
    Residual |  3041.37433 28742  .105816378           R-squared     =  0.8484
-------------+------------------------------           Adj R-squared =  0.8484
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32529

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9842823   .0025527   385.59   0.000      .979279    .9892857
                 lnPTotalCattle |  -.1877354   .0400451    -4.69   0.000    -.2662257   -.1092452
lnPCompoundfeedingstuffsforcatt |   .4729934   .0372947    12.68   0.000      .399894    .5460927
 lnPFERTILISERSANDSOILIMPROVERS |    .337648   .0272545    12.39   0.000     .2842278    .3910682
                          _cons |  -5.597614    .156219   -35.83   0.000     -5.90381   -5.291417
-------------------------------------------------------------------------------------------------

. outreg using panel_est, nodisplay ctitle("", Pooled)
file panel_est.doc already exists
r(602);

end of do-file
r(602);

end of do-file

r(602);

. do msward_WFSresults_cost_2014_09_22

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 18:41:08

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  18:41:08  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. keep `dep_vlist' `indep_vlist' country pid year

. 
. qui reg  `dep_vlist' `indep_vlist' 

. predict xb , xb
(6 missing values generated)

. predict r  , resid
(6 missing values generated)

. predict rst, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more

. 
. foreach var of local indep_vlist {
  2.   avplot  `var'
  3.   more
  4.   rvpplot `var', yline(10)
  5.   more
  6. 
. }

. 
. graph drop _all

. 
. 
. /* Hadi's (1992, 1994) Algorithm to ID possible outliers, optimized by
>      Weber (2010) */
. bacon `dep_vlist' `indep_vlist', gen(out1)

Total number of observations:       28747
   BACON outliers (p = 0.15):           5
      Non-outliers remaining:       28742

. tw sc rst xb, ml(out1)

. tw sc rst xb if out1 == 1, ml(country)

. more

. 
. /* Tests for Normality of Residuals 
>    (for SFA, we expect them to be non-normal. 
>     They would be skewed if there is 
>     inefficiency present, but they must be 
>     LEFT-SKEWED!!!)
> --------------------------------------------- */
. kdensity r, norm

. more

. 
. 
. /* Tests for Multicollinearity
> ---------------------------------------------*/
. vif

    Variable |       VIF       1/VIF  
-------------+----------------------
lnPFERTILI~S |      4.08    0.244908
lnPTotalCa~e |      2.98    0.335866
lnPCompoun~t |      1.82    0.548923
lndairypro~s |      1.05    0.953744
-------------+----------------------
    Mean VIF |      2.48

. more

. 
. 
. /* Tests for Non-Linearity
> ---------------------------------------------*/
. foreach var of local indep_vlist {
  2. 
.   acprplot `var'
  3.   more
  4.   cprplot `var'
  5.   more
  6. 
. }

. 
. 
. /* Tests for Model Specification
> ---------------------------------------------*/
. linktest 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  2, 28744) =81524.36
       Model |  17055.3044     2  8527.65221           Prob > F      =  0.0000
    Residual |   3006.6945 28744  .104602509           R-squared     =  0.8501
-------------+------------------------------           Adj R-squared =  0.8501
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32342

------------------------------------------------------------------------------
lntotalspe~s |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        _hat |   .1932986   .0443736     4.36   0.000     .1063243    .2802729
      _hatsq |   .0378719   .0020799    18.21   0.000     .0337951    .0419487
       _cons |   4.273287   .2361619    18.09   0.000     3.810399    4.736175
------------------------------------------------------------------------------

. more

. ovtest 

Ramsey RESET test using powers of the fitted values of lntotalspecificcosts
       Ho:  model has no omitted variables
               F(3, 28739) =    193.55
                  Prob > F =      0.0000

. more

. 
. graph drop _all

. 
. 
. * Data description
. describe    pid year `dep_vlist' `indep_vlist'

              storage  display     value
variable name   type   format      label      variable label
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
pid             float  %9.0g                  ID (unique for whole panel)
year            int    %ty         yy         year
lntotalspecif~s double %9.0g                  
lndairyproducts double %9.0g                  
lnPTotalCattle  double %9.0g                  
lnPCompoundfe~t double %9.0g                  
lnPFERTILISER~S double %9.0g                  

. summ        pid year `dep_vlist' `indep_vlist'

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
         pid |     28753    3509.337    2307.203          1       7742
        year |     28753    2002.886    2.578091       1999       2007
lntotalspe~s |     28753    10.59034    .8363159   5.529429   14.09032
lndairypro~s |     28747     12.5815    .7696248   8.268732   15.75065
lnPTotalCa~e |     28753   -.0020111    .0826745  -.1154109   .1241626
-------------+--------------------------------------------------------
lnPCompoun~t |     28753    4.653798    .0694497   4.562263   4.852811
lnPFERTILI~S |     28753    4.747869    .1422505   4.517431   5.136386

. 
. * Panel characterstics
. xtdescribe 

     pid:  1, 2, ..., 7742                                   n =       7709
    year:  1999, 2000, ..., 2007                             T =          9
           Delta(year) = 1 year
           Span(year)  = 9 periods
           (pid*year uniquely identifies each observation)

Distribution of T_i:   min      5%     25%       50%       75%     95%     max
                         1       1       1         3         6       9       9

     Freq.  Percent    Cum. |  Pattern
 ---------------------------+-----------
      845     10.96   10.96 |  111111111
      702      9.11   20.07 |  1........
      688      8.92   28.99 |  11.......
      373      4.84   33.83 |  ........1
      231      3.00   36.83 |  111......
      230      2.98   39.81 |  .......11
      203      2.63   42.44 |  ..1111111
      202      2.62   45.06 |  .1.......
      198      2.57   47.63 |  ..1......
     4037     52.37  100.00 | (other patterns)
 ---------------------------+-----------
     7709    100.00         |  XXXXXXXXX

. xtsum       pid year `dep_vlist' `indep_vlist'

Variable         |      Mean   Std. Dev.       Min        Max |    Observations
-----------------+--------------------------------------------+----------------
pid      overall |  3509.337   2307.203          1       7742 |     N =   28753
         between |              2236.93          1       7742 |     n =    7709
         within  |                    0   3509.337   3509.337 | T-bar =  3.7298
                 |                                            |
year     overall |  2002.886   2.578091       1999       2007 |     N =   28753
         between |             2.333301       1999       2007 |     n =    7709
         within  |             1.953716   1997.636   2008.136 | T-bar =  3.7298
                 |                                            |
lntota~s overall |  10.59034   .8363159   5.529429   14.09032 |     N =   28753
         between |             .8654513   5.529429   13.80699 |     n =    7709
         within  |             .1697864   8.755104   12.40564 | T-bar =  3.7298
                 |                                            |
lndair~s overall |   12.5815   .7696248   8.268732   15.75065 |     N =   28747
         between |             .8021383   8.268732   15.60458 |     n =    7705
         within  |             .1256265   10.20696   14.37921 | T-bar = 3.73095
                 |                                            |
lnPTot~e overall | -.0020111   .0826745  -.1154109   .1241626 |     N =   28753
         between |             .0671015  -.1154109   .1241626 |     n =    7709
         within  |             .0677761  -.1642726   .1546755 | T-bar =  3.7298
                 |                                            |
lnPCom~t overall |  4.653798   .0694497   4.562263   4.852811 |     N =   28753
         between |             .0495151   4.562263   4.852811 |     n =    7709
         within  |             .0607838   4.509045   4.861423 | T-bar =  3.7298
                 |                                            |
lnPFER~S overall |  4.747869   .1422505   4.517431   5.136386 |     N =   28753
         between |             .1300917   4.517431   5.136386 |     n =    7709
         within  |             .1055226   4.435519   5.087929 | T-bar =  3.7298

. 
. 
. capture erase panel_est.doc

. 
. * Pooled OLS
. reg `dep_vlist' `indep_vlist'

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  4, 28742) =40212.64
       Model |  17020.6246     4  4255.15615           Prob > F      =  0.0000
    Residual |  3041.37433 28742  .105816378           R-squared     =  0.8484
-------------+------------------------------           Adj R-squared =  0.8484
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32529

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9842823   .0025527   385.59   0.000      .979279    .9892857
                 lnPTotalCattle |  -.1877354   .0400451    -4.69   0.000    -.2662257   -.1092452
lnPCompoundfeedingstuffsforcatt |   .4729934   .0372947    12.68   0.000      .399894    .5460927
 lnPFERTILISERSANDSOILIMPROVERS |    .337648   .0272545    12.39   0.000     .2842278    .3910682
                          _cons |  -5.597614    .156219   -35.83   0.000     -5.90381   -5.291417
-------------------------------------------------------------------------------------------------

. outreg using panel_est, nodisplay ctitle("", Pooled)

. more

. 
. * Population-averaged estimator
. xtreg `dep_vlist' `indep_vlist', pa

Iteration 1: tolerance = .17703364
Iteration 2: tolerance = .01196369
Iteration 3: tolerance = .00075086
Iteration 4: tolerance = .00004741
Iteration 5: tolerance = 2.994e-06
Iteration 6: tolerance = 1.893e-07

GEE population-averaged model                   Number of obs      =     28747
Group variable:                        pid      Number of groups   =      7705
Link:                             identity      Obs per group: min =         1
Family:                           Gaussian                     avg =       3.7
Correlation:                  exchangeable                     max =         9
                                                Wald chi2(4)       =  63305.49
Scale parameter:                  .1087099      Prob > chi2        =    0.0000

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |    .925367   .0038934   237.68   0.000     .9177361    .9329979
                 lnPTotalCattle |  -.0269215   .0257284    -1.05   0.295    -.0773483    .0235052
lnPCompoundfeedingstuffsforcatt |   .5280953   .0224985    23.47   0.000      .483999    .5721915
 lnPFERTILISERSANDSOILIMPROVERS |   .1839451   .0190042     9.68   0.000     .1466975    .2211926
                          _cons |  -4.360357   .1035123   -42.12   0.000    -4.563237   -4.157476
-------------------------------------------------------------------------------------------------

. outreg using panel_est, merge nodisplay ctitle("", Pop. Avg.)

. more

. 
. 
. * Between estimator
. xtreg `dep_vlist' `indep_vlist', be

Between regression (regression on group means)  Number of obs      =     28747
Group variable: pid                             Number of groups   =      7705

R-sq:  within  = 0.3921                         Obs per group: min =         1
       between = 0.8615                                        avg =       3.7
       overall = 0.8470                                        max =         9

                                                F(4,7700)          =  11971.70
sd(u_i + avg(e_i.))=  .3209633                  Prob > F           =    0.0000

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9801727    .004689   209.04   0.000     .9709809    .9893644
                 lnPTotalCattle |  -.5979135   .1112253    -5.38   0.000    -.8159453   -.3798817
lnPCompoundfeedingstuffsforcatt |   .8862719   .1358724     6.52   0.000     .6199251    1.152619
 lnPFERTILISERSANDSOILIMPROVERS |   .4530183   .0700407     6.47   0.000     .3157194    .5903172
                          _cons |  -7.990956   .5250644   -15.22   0.000    -9.020225   -6.961687
-------------------------------------------------------------------------------------------------

. outreg using panel_est, merge nodisplay ctitle("", Between)

. more

. 
. 
. * Fixed effects estimator 
. xtreg `dep_vlist' `indep_vlist', fe

Fixed-effects (within) regression               Number of obs      =     28747
Group variable: pid                             Number of groups   =      7705

R-sq:  within  = 0.4091                         Obs per group: min =         1
       between = 0.8606                                        avg =       3.7
       overall = 0.8470                                        max =         9

                                                F(4,21038)         =   3641.51
corr(u_i, Xb)  = 0.6210                         Prob > F           =    0.0000

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .6757366    .007442    90.80   0.000     .6611498    .6903234
                 lnPTotalCattle |   .0603932   .0225925     2.67   0.008       .01611    .1046763
lnPCompoundfeedingstuffsforcatt |    .546399   .0194259    28.13   0.000     .5083228    .5844752
 lnPFERTILISERSANDSOILIMPROVERS |     .18524   .0170229    10.88   0.000     .1518739    .2186061
                          _cons |  -1.333147   .1180743   -11.29   0.000    -1.564581   -1.101712
--------------------------------+----------------------------------------------------------------
                        sigma_u |  .40596164
                        sigma_e |  .15256038
                            rho |  .87625091   (fraction of variance due to u_i)
-------------------------------------------------------------------------------------------------
F test that all u_i=0:     F(7704, 21038) =    14.23         Prob > F = 0.0000

. estimates store fixed

. predict alphafehat, u
(6 missing values generated)

. outreg using panel_est, merge nodisplay ctitle("", FE)

. more

. 
. 
. * First-differences estimator
. reg D.(`dep_vlist' `indep_vlist'), noconstant

      Source |       SS       df       MS              Number of obs =   19468
-------------+------------------------------           F(  4, 19464) = 1509.42
       Model |  202.611976     4   50.652994           Prob > F      =  0.0000
    Residual |  653.170445 19464  .033557873           R-squared     =  0.2368
-------------+------------------------------           Adj R-squared =  0.2366
       Total |  855.782421 19468  .043958415           Root MSE      =  .18319

-------------------------------------------------------------------------------------------------
         D.lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |
                            D1. |    .569515   .0086278    66.01   0.000     .5526038    .5864262
                                |
                 lnPTotalCattle |
                            D1. |   .0311315   .0203656     1.53   0.126    -.0087867    .0710498
                                |
lnPCompoundfeedingstuffsforcatt |
                            D1. |   .4054482    .017167    23.62   0.000     .3717994    .4390969
                                |
 lnPFERTILISERSANDSOILIMPROVERS |
                            D1. |   .2610058   .0193543    13.49   0.000     .2230697     .298942
-------------------------------------------------------------------------------------------------

. outreg using panel_est, merge nodisplay ctitle("", 1st Diff)

. more

. 
. 
. * Random effects estimator
. xtreg `dep_vlist' `indep_vlist', re theta

Random-effects GLS regression                   Number of obs      =     28747
Group variable: pid                             Number of groups   =      7705

R-sq:  within  = 0.4025                         Obs per group: min =         1
       between = 0.8607                                        avg =       3.7
       overall = 0.8482                                        max =         9

                                                Wald chi2(4)       =  58552.37
corr(u_i, X)   = 0 (assumed)                    Prob > chi2        =    0.0000

------------------- theta --------------------
  min      5%       median        95%      max
0.5505   0.5505     0.7210     0.8346   0.8346

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9002588   .0040006   225.03   0.000     .8924177    .9080999
                 lnPTotalCattle |  -.0089125   .0225515    -0.40   0.693    -.0531126    .0352875
lnPCompoundfeedingstuffsforcatt |    .531027   .0196137    27.07   0.000     .4925848    .5694691
 lnPFERTILISERSANDSOILIMPROVERS |   .1748235   .0167653    10.43   0.000     .1419642    .2076828
                          _cons |  -4.013033   .0937153   -42.82   0.000    -4.196712   -3.829355
--------------------------------+----------------------------------------------------------------
                        sigma_u |  .30314356
                        sigma_e |  .15256038
                            rho |  .79791152   (fraction of variance due to u_i)
-------------------------------------------------------------------------------------------------

. estimates store random

. outreg using panel_est, merge ctitle("", RE)

                            -----------------------------------------------------------------------------------------------------------
                                                                   Pooled    Pop. Avg.    Between       FE      1st Diff       RE     
                            -----------------------------------------------------------------------------------------------------------
                             lndairyproducts                       0.984       0.925       0.980       0.676                 0.900    
                                                                 (385.59)**  (237.68)**  (209.04)**  (90.80)**             (225.03)** 
                             lnPTotalCattle                        -0.188      -0.027      -0.598      0.060                 -0.009   
                                                                  (4.69)**     (1.05)     (5.38)**   (2.67)**                (0.40)   
                             lnPCompoundfeedingstuffsforcatt       0.473       0.528       0.886       0.546                 0.531    
                                                                 (12.68)**   (23.47)**    (6.52)**   (28.13)**             (27.07)**  
                             lnPFERTILISERSANDSOILIMPROVERS        0.338       0.184       0.453       0.185                 0.175    
                                                                 (12.39)**    (9.68)**    (6.47)**   (10.88)**             (10.43)**  
                             D.lndairyproducts                                                                    0.570               
                                                                                                                (66.01)**             
                             D.lnPTotalCattle                                                                     0.031               
                                                                                                                 (1.53)               
                             D.lnPCompoundfeedingstuffsforcatt                                                    0.405               
                                                                                                                (23.62)**             
                             D.lnPFERTILISERSANDSOILIMPROVERS                                                     0.261               
                                                                                                                (13.49)**             
                             _cons                                 -5.598      -4.360      -7.991     -1.333                 -4.013   
                                                                 (35.83)**   (42.12)**   (15.22)**   (11.29)**             (42.82)**  
                             R2                                     0.85                    0.86       0.41       0.24                
                             N                                     28,747      28,747      28,747     28,747     19,468      28,747   
                            -----------------------------------------------------------------------------------------------------------
                                                                        * p<0.05; ** p<0.01


. more

. 
. * Hausman test for RE vs FE
. hausman fixed random

                 ---- Coefficients ----
             |      (b)          (B)            (b-B)     sqrt(diag(V_b-V_B))
             |     fixed        random       Difference          S.E.
-------------+----------------------------------------------------------------
lndairypro~s |    .6757366     .9002588       -.2245222        .0062752
lnPTotalCa~e |    .0603932    -.0089125        .0693057        .0013618
lnPCompoun~t |     .546399      .531027        .0153721               .
lnPFERTILI~S |      .18524     .1748235        .0104165        .0029503
------------------------------------------------------------------------------
                           b = consistent under Ho and Ha; obtained from xtreg
            B = inconsistent under Ha, efficient under Ho; obtained from xtreg

    Test:  Ho:  difference in coefficients not systematic

                  chi2(4) = (b-B)'[(V_b-V_B)^(-1)](b-B)
                          =     1265.61
                Prob>chi2 =      0.0000
                (V_b-V_B is not positive definite)

. 
. 
. * Breusch-Pagan LM test for RE vs OLS
. estimates restore random // make sure RE estimates are active
(results random are active now)

. xttest0

Breusch and Pagan Lagrangian multiplier test for random effects

        lntotalspecificcosts[pid,t] = Xb + u[pid] + e[pid,t]

        Estimated results:
                         |       Var     sd = sqrt(Var)
                ---------+-----------------------------
               lntotal~s |   .6979058       .8354075
                       e |   .0232747       .1525604
                       u |    .091896       .3031436

        Test:   Var(u) = 0
                             chibar2(01) = 31363.32
                          Prob > chibar2 =   0.0000

. 
. * Individual specific effects from FE
. summ alphafehat

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
  alphafehat |     28747   -1.38e-10    .3821813  -2.476685   2.227497

. hist alphafehat
(bin=44, start=-2.4766853, width=.10691323)

. 
. 
. restore

. STOP!!!
unrecognized command:  STOP
r(199);

end of do-file
r(199);

end of do-file

r(199);

. log close
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 closed on:  22 Sep 2014, 18:49:07
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 18:56:46

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  18:56:46  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. keep `dep_vlist' `indep_vlist' country pid year

. 
. qui reg  `dep_vlist' `indep_vlist' 

. predict xb , xb
(6 missing values generated)

. predict r  , resid
(6 missing values generated)

. predict rst, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more

. 
. foreach var of local indep_vlist {
  2.   avplot  `var'
  3.   more
  4.   rvpplot `var', yline(10)
  5.   more
  6. 
. }

. 
. graph drop _all

. 
. 
. /* Hadi's (1992, 1994) Algorithm to ID possible outliers, optimized by
>      Weber (2010) */
. bacon `dep_vlist' `indep_vlist', gen(out1)

Total number of observations:       28747
   BACON outliers (p = 0.15):           5
      Non-outliers remaining:       28742

. tw sc rst xb, ml(out1)

. tw sc rst xb if out1 == 1, ml(country)

. more

. 
. /* Tests for Normality of Residuals 
>    (for SFA, we expect them to be non-normal. 
>     They would be skewed if there is 
>     inefficiency present, but they must be 
>     LEFT-SKEWED!!!)
> --------------------------------------------- */
. kdensity r, norm

. more

. 
. 
. /* Tests for Multicollinearity
> ---------------------------------------------*/
. vif

    Variable |       VIF       1/VIF  
-------------+----------------------
lnPFERTILI~S |      4.08    0.244908
lnPTotalCa~e |      2.98    0.335866
lnPCompoun~t |      1.82    0.548923
lndairypro~s |      1.05    0.953744
-------------+----------------------
    Mean VIF |      2.48

. more

. 
. 
. /* Tests for Non-Linearity
> ---------------------------------------------*/
. foreach var of local indep_vlist {
  2. 
.   acprplot `var'
  3.   more
  4.   cprplot `var'
  5.   more
  6. 
. }

. 
. 
. /* Tests for Model Specification
> ---------------------------------------------*/
. linktest 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  2, 28744) =81524.36
       Model |  17055.3044     2  8527.65221           Prob > F      =  0.0000
    Residual |   3006.6945 28744  .104602509           R-squared     =  0.8501
-------------+------------------------------           Adj R-squared =  0.8501
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32342

------------------------------------------------------------------------------
lntotalspe~s |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        _hat |   .1932986   .0443736     4.36   0.000     .1063243    .2802729
      _hatsq |   .0378719   .0020799    18.21   0.000     .0337951    .0419487
       _cons |   4.273287   .2361619    18.09   0.000     3.810399    4.736175
------------------------------------------------------------------------------

. more

. ovtest 

Ramsey RESET test using powers of the fitted values of lntotalspecificcosts
       Ho:  model has no omitted variables
               F(3, 28739) =    193.55
                  Prob > F =      0.0000

. more

. 
. graph drop _all

. 
. 
. * Data description
. describe    pid year `dep_vlist' `indep_vlist'

              storage  display     value
variable name   type   format      label      variable label
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
pid             float  %9.0g                  ID (unique for whole panel)
year            int    %ty         yy         year
lntotalspecif~s double %9.0g                  
lndairyproducts double %9.0g                  
lnPTotalCattle  double %9.0g                  
lnPCompoundfe~t double %9.0g                  
lnPFERTILISER~S double %9.0g                  

. summ        pid year `dep_vlist' `indep_vlist'

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
         pid |     28753    3509.337    2307.203          1       7742
        year |     28753    2002.886    2.578091       1999       2007
lntotalspe~s |     28753    10.59034    .8363159   5.529429   14.09032
lndairypro~s |     28747     12.5815    .7696248   8.268732   15.75065
lnPTotalCa~e |     28753   -.0020111    .0826745  -.1154109   .1241626
-------------+--------------------------------------------------------
lnPCompoun~t |     28753    4.653798    .0694497   4.562263   4.852811
lnPFERTILI~S |     28753    4.747869    .1422505   4.517431   5.136386

. 
. * Panel characterstics
. xtdescribe 

     pid:  1, 2, ..., 7742                                   n =       7709
    year:  1999, 2000, ..., 2007                             T =          9
           Delta(year) = 1 year
           Span(year)  = 9 periods
           (pid*year uniquely identifies each observation)

Distribution of T_i:   min      5%     25%       50%       75%     95%     max
                         1       1       1         3         6       9       9

     Freq.  Percent    Cum. |  Pattern
 ---------------------------+-----------
      845     10.96   10.96 |  111111111
      702      9.11   20.07 |  1........
      688      8.92   28.99 |  11.......
      373      4.84   33.83 |  ........1
      231      3.00   36.83 |  111......
      230      2.98   39.81 |  .......11
      203      2.63   42.44 |  ..1111111
      202      2.62   45.06 |  .1.......
      198      2.57   47.63 |  ..1......
     4037     52.37  100.00 | (other patterns)
 ---------------------------+-----------
     7709    100.00         |  XXXXXXXXX

. xtsum       pid year `dep_vlist' `indep_vlist'

Variable         |      Mean   Std. Dev.       Min        Max |    Observations
-----------------+--------------------------------------------+----------------
pid      overall |  3509.337   2307.203          1       7742 |     N =   28753
         between |              2236.93          1       7742 |     n =    7709
         within  |                    0   3509.337   3509.337 | T-bar =  3.7298
                 |                                            |
year     overall |  2002.886   2.578091       1999       2007 |     N =   28753
         between |             2.333301       1999       2007 |     n =    7709
         within  |             1.953716   1997.636   2008.136 | T-bar =  3.7298
                 |                                            |
lntota~s overall |  10.59034   .8363159   5.529429   14.09032 |     N =   28753
         between |             .8654513   5.529429   13.80699 |     n =    7709
         within  |             .1697864   8.755104   12.40564 | T-bar =  3.7298
                 |                                            |
lndair~s overall |   12.5815   .7696248   8.268732   15.75065 |     N =   28747
         between |             .8021383   8.268732   15.60458 |     n =    7705
         within  |             .1256265   10.20696   14.37921 | T-bar = 3.73095
                 |                                            |
lnPTot~e overall | -.0020111   .0826745  -.1154109   .1241626 |     N =   28753
         between |             .0671015  -.1154109   .1241626 |     n =    7709
         within  |             .0677761  -.1642726   .1546755 | T-bar =  3.7298
                 |                                            |
lnPCom~t overall |  4.653798   .0694497   4.562263   4.852811 |     N =   28753
         between |             .0495151   4.562263   4.852811 |     n =    7709
         within  |             .0607838   4.509045   4.861423 | T-bar =  3.7298
                 |                                            |
lnPFER~S overall |  4.747869   .1422505   4.517431   5.136386 |     N =   28753
         between |             .1300917   4.517431   5.136386 |     n =    7709
         within  |             .1055226   4.435519   5.087929 | T-bar =  3.7298

. 
. 
. capture erase panel_est.doc

. 
. * Pooled OLS
. reg `dep_vlist' `indep_vlist'

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  4, 28742) =40212.64
       Model |  17020.6246     4  4255.15615           Prob > F      =  0.0000
    Residual |  3041.37433 28742  .105816378           R-squared     =  0.8484
-------------+------------------------------           Adj R-squared =  0.8484
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32529

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9842823   .0025527   385.59   0.000      .979279    .9892857
                 lnPTotalCattle |  -.1877354   .0400451    -4.69   0.000    -.2662257   -.1092452
lnPCompoundfeedingstuffsforcatt |   .4729934   .0372947    12.68   0.000      .399894    .5460927
 lnPFERTILISERSANDSOILIMPROVERS |    .337648   .0272545    12.39   0.000     .2842278    .3910682
                          _cons |  -5.597614    .156219   -35.83   0.000     -5.90381   -5.291417
-------------------------------------------------------------------------------------------------

. outreg using panel_est, nodisplay ctitle("", Pooled)

. more

. 
. * Population-averaged estimator
. xtreg `dep_vlist' `indep_vlist', pa

Iteration 1: tolerance = .17703364
Iteration 2: tolerance = .01196369
Iteration 3: tolerance = .00075086
Iteration 4: tolerance = .00004741
Iteration 5: tolerance = 2.994e-06
Iteration 6: tolerance = 1.892e-07

GEE population-averaged model                   Number of obs      =     28747
Group variable:                        pid      Number of groups   =      7705
Link:                             identity      Obs per group: min =         1
Family:                           Gaussian                     avg =       3.7
Correlation:                  exchangeable                     max =         9
                                                Wald chi2(4)       =  63305.49
Scale parameter:                  .1087099      Prob > chi2        =    0.0000

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |    .925367   .0038934   237.68   0.000     .9177361    .9329979
                 lnPTotalCattle |  -.0269215   .0257284    -1.05   0.295    -.0773483    .0235052
lnPCompoundfeedingstuffsforcatt |   .5280953   .0224985    23.47   0.000      .483999    .5721915
 lnPFERTILISERSANDSOILIMPROVERS |   .1839451   .0190042     9.68   0.000     .1466975    .2211926
                          _cons |  -4.360357   .1035123   -42.12   0.000    -4.563237   -4.157476
-------------------------------------------------------------------------------------------------

. outreg using panel_est, merge nodisplay ctitle("", Pop. Avg.)

. more

. 
. 
. * Between estimator
. xtreg `dep_vlist' `indep_vlist', be

Between regression (regression on group means)  Number of obs      =     28747
Group variable: pid                             Number of groups   =      7705

R-sq:  within  = 0.3921                         Obs per group: min =         1
       between = 0.8615                                        avg =       3.7
       overall = 0.8470                                        max =         9

                                                F(4,7700)          =  11971.70
sd(u_i + avg(e_i.))=  .3209633                  Prob > F           =    0.0000

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9801727    .004689   209.04   0.000     .9709809    .9893644
                 lnPTotalCattle |  -.5979135   .1112253    -5.38   0.000    -.8159453   -.3798817
lnPCompoundfeedingstuffsforcatt |   .8862719   .1358724     6.52   0.000     .6199251    1.152619
 lnPFERTILISERSANDSOILIMPROVERS |   .4530183   .0700407     6.47   0.000     .3157194    .5903172
                          _cons |  -7.990956   .5250644   -15.22   0.000    -9.020225   -6.961687
-------------------------------------------------------------------------------------------------

. outreg using panel_est, merge nodisplay ctitle("", Between)

. more

. 
. 
. * Fixed effects estimator 
. xtreg `dep_vlist' `indep_vlist', fe

Fixed-effects (within) regression               Number of obs      =     28747
Group variable: pid                             Number of groups   =      7705

R-sq:  within  = 0.4091                         Obs per group: min =         1
       between = 0.8606                                        avg =       3.7
       overall = 0.8470                                        max =         9

                                                F(4,21038)         =   3641.51
corr(u_i, Xb)  = 0.6210                         Prob > F           =    0.0000

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .6757366    .007442    90.80   0.000     .6611498    .6903234
                 lnPTotalCattle |   .0603932   .0225925     2.67   0.008       .01611    .1046763
lnPCompoundfeedingstuffsforcatt |    .546399   .0194259    28.13   0.000     .5083228    .5844752
 lnPFERTILISERSANDSOILIMPROVERS |     .18524   .0170229    10.88   0.000     .1518739    .2186061
                          _cons |  -1.333147   .1180743   -11.29   0.000    -1.564581   -1.101712
--------------------------------+----------------------------------------------------------------
                        sigma_u |  .40596164
                        sigma_e |  .15256038
                            rho |  .87625091   (fraction of variance due to u_i)
-------------------------------------------------------------------------------------------------
F test that all u_i=0:     F(7704, 21038) =    14.23         Prob > F = 0.0000

. estimates store fixed

. predict alphafehat, u
(6 missing values generated)

. outreg using panel_est, merge nodisplay ctitle("", FE)

. more

. 
. 
. * First-differences estimator
. reg D.(`dep_vlist' `indep_vlist'), noconstant

      Source |       SS       df       MS              Number of obs =   19468
-------------+------------------------------           F(  4, 19464) = 1509.42
       Model |  202.611976     4   50.652994           Prob > F      =  0.0000
    Residual |  653.170445 19464  .033557873           R-squared     =  0.2368
-------------+------------------------------           Adj R-squared =  0.2366
       Total |  855.782421 19468  .043958415           Root MSE      =  .18319

-------------------------------------------------------------------------------------------------
         D.lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |
                            D1. |    .569515   .0086278    66.01   0.000     .5526038    .5864262
                                |
                 lnPTotalCattle |
                            D1. |   .0311315   .0203656     1.53   0.126    -.0087867    .0710498
                                |
lnPCompoundfeedingstuffsforcatt |
                            D1. |   .4054482    .017167    23.62   0.000     .3717994    .4390969
                                |
 lnPFERTILISERSANDSOILIMPROVERS |
                            D1. |   .2610058   .0193543    13.49   0.000     .2230697     .298942
-------------------------------------------------------------------------------------------------

. outreg using panel_est, merge nodisplay ctitle("", 1st Diff)

. more

. 
. 
. * Random effects estimator
. xtreg `dep_vlist' `indep_vlist', re theta

Random-effects GLS regression                   Number of obs      =     28747
Group variable: pid                             Number of groups   =      7705

R-sq:  within  = 0.4025                         Obs per group: min =         1
       between = 0.8607                                        avg =       3.7
       overall = 0.8482                                        max =         9

                                                Wald chi2(4)       =  58552.37
corr(u_i, X)   = 0 (assumed)                    Prob > chi2        =    0.0000

------------------- theta --------------------
  min      5%       median        95%      max
0.5505   0.5505     0.7210     0.8346   0.8346

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9002588   .0040006   225.03   0.000     .8924177    .9080999
                 lnPTotalCattle |  -.0089125   .0225515    -0.40   0.693    -.0531126    .0352875
lnPCompoundfeedingstuffsforcatt |    .531027   .0196137    27.07   0.000     .4925848    .5694691
 lnPFERTILISERSANDSOILIMPROVERS |   .1748235   .0167653    10.43   0.000     .1419642    .2076828
                          _cons |  -4.013033   .0937153   -42.82   0.000    -4.196712   -3.829355
--------------------------------+----------------------------------------------------------------
                        sigma_u |  .30314356
                        sigma_e |  .15256038
                            rho |  .79791152   (fraction of variance due to u_i)
-------------------------------------------------------------------------------------------------

. estimates store random

. outreg using panel_est, merge ctitle("", RE) starlevels(10 5 1)

                            ------------------------------------------------------------------------------------------------------------
                                                                   Pooled    Pop. Avg.    Between       FE      1st Diff       RE      
                            ------------------------------------------------------------------------------------------------------------
                             lndairyproducts                       0.984       0.925       0.980       0.676                  0.900    
                                                                 (385.59)**  (237.68)**  (209.04)**  (90.80)**             (225.03)*** 
                             lnPTotalCattle                        -0.188      -0.027      -0.598      0.060                 -0.009    
                                                                  (4.69)**     (1.05)     (5.38)**   (2.67)**                (0.40)    
                             lnPCompoundfeedingstuffsforcatt       0.473       0.528       0.886       0.546                  0.531    
                                                                 (12.68)**   (23.47)**    (6.52)**   (28.13)**             (27.07)***  
                             lnPFERTILISERSANDSOILIMPROVERS        0.338       0.184       0.453       0.185                  0.175    
                                                                 (12.39)**    (9.68)**    (6.47)**   (10.88)**             (10.43)***  
                             D.lndairyproducts                                                                    0.570                
                                                                                                                (66.01)**              
                             D.lnPTotalCattle                                                                     0.031                
                                                                                                                 (1.53)                
                             D.lnPCompoundfeedingstuffsforcatt                                                    0.405                
                                                                                                                (23.62)**              
                             D.lnPFERTILISERSANDSOILIMPROVERS                                                     0.261                
                                                                                                                (13.49)**              
                             _cons                                 -5.598      -4.360      -7.991     -1.333                 -4.013    
                                                                 (35.83)**   (42.12)**   (15.22)**   (11.29)**             (42.82)***  
                             R2                                     0.85                    0.86       0.41       0.24                 
                             N                                     28,747      28,747      28,747     28,747     19,468      28,747    
                            ------------------------------------------------------------------------------------------------------------
                                                                        * p<0.05; ** p<0.01


. more

. 
. * Hausman test for RE vs FE
. hausman fixed random

                 ---- Coefficients ----
             |      (b)          (B)            (b-B)     sqrt(diag(V_b-V_B))
             |     fixed        random       Difference          S.E.
-------------+----------------------------------------------------------------
lndairypro~s |    .6757366     .9002588       -.2245222        .0062752
lnPTotalCa~e |    .0603932    -.0089125        .0693057        .0013618
lnPCompoun~t |     .546399      .531027        .0153721               .
lnPFERTILI~S |      .18524     .1748235        .0104165        .0029503
------------------------------------------------------------------------------
                           b = consistent under Ho and Ha; obtained from xtreg
            B = inconsistent under Ha, efficient under Ho; obtained from xtreg

    Test:  Ho:  difference in coefficients not systematic

                  chi2(4) = (b-B)'[(V_b-V_B)^(-1)](b-B)
                          =     1265.61
                Prob>chi2 =      0.0000
                (V_b-V_B is not positive definite)

. 
. 
. * Breusch-Pagan LM test for RE vs OLS
. estimates restore random // make sure RE estimates are active
(results random are active now)

. xttest0

Breusch and Pagan Lagrangian multiplier test for random effects

        lntotalspecificcosts[pid,t] = Xb + u[pid] + e[pid,t]

        Estimated results:
                         |       Var     sd = sqrt(Var)
                ---------+-----------------------------
               lntotal~s |   .6979058       .8354075
                       e |   .0232747       .1525604
                       u |    .091896       .3031436

        Test:   Var(u) = 0
                             chibar2(01) = 31363.32
                          Prob > chibar2 =   0.0000

. 
. * Individual specific effects from FE
. summ alphafehat

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
  alphafehat |     28747   -1.38e-10    .3821813  -2.476685   2.227497

. hist alphafehat
(bin=44, start=-2.4766853, width=.10691323)

. 
. 
. restore

. STOP!!!
unrecognized command:  STOP
r(199);

end of do-file
r(199);

end of do-file

r(199);

. do msward_WFSresults_cost_2014_09_22.do

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 18:58:30

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  18:58:30  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. keep `dep_vlist' `indep_vlist' country pid year

. 
. qui reg  `dep_vlist' `indep_vlist' 

. predict xb , xb
(6 missing values generated)

. predict r  , resid
(6 missing values generated)

. predict rst, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more

. 
. foreach var of local indep_vlist {
  2.   avplot  `var'
  3.   more
  4.   rvpplot `var', yline(10)
  5.   more
  6. 
. }

. 
. graph drop _all

. 
. 
. /* Hadi's (1992, 1994) Algorithm to ID possible outliers, optimized by
>      Weber (2010) */
. bacon `dep_vlist' `indep_vlist', gen(out1)

Total number of observations:       28747
   BACON outliers (p = 0.15):           5
      Non-outliers remaining:       28742

. tw sc rst xb, ml(out1)

. tw sc rst xb if out1 == 1, ml(country)

. more

. 
. /* Tests for Normality of Residuals 
>    (for SFA, we expect them to be non-normal. 
>     They would be skewed if there is 
>     inefficiency present, but they must be 
>     LEFT-SKEWED!!!)
> --------------------------------------------- */
. kdensity r, norm

. more

. 
. 
. /* Tests for Multicollinearity
> ---------------------------------------------*/
. vif

    Variable |       VIF       1/VIF  
-------------+----------------------
lnPFERTILI~S |      4.08    0.244908
lnPTotalCa~e |      2.98    0.335866
lnPCompoun~t |      1.82    0.548923
lndairypro~s |      1.05    0.953744
-------------+----------------------
    Mean VIF |      2.48

. more

. 
. 
. /* Tests for Non-Linearity
> ---------------------------------------------*/
. foreach var of local indep_vlist {
  2. 
.   acprplot `var'
  3.   more
  4.   cprplot `var'
  5.   more
  6. 
. }

. 
. 
. /* Tests for Model Specification
> ---------------------------------------------*/
. linktest 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  2, 28744) =81524.36
       Model |  17055.3044     2  8527.65221           Prob > F      =  0.0000
    Residual |   3006.6945 28744  .104602509           R-squared     =  0.8501
-------------+------------------------------           Adj R-squared =  0.8501
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32342

------------------------------------------------------------------------------
lntotalspe~s |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        _hat |   .1932986   .0443736     4.36   0.000     .1063243    .2802729
      _hatsq |   .0378719   .0020799    18.21   0.000     .0337951    .0419487
       _cons |   4.273287   .2361619    18.09   0.000     3.810399    4.736175
------------------------------------------------------------------------------

. more

. ovtest 

Ramsey RESET test using powers of the fitted values of lntotalspecificcosts
       Ho:  model has no omitted variables
               F(3, 28739) =    193.55
                  Prob > F =      0.0000

. more

. 
. graph drop _all

. 
. 
. * Data description
. describe    pid year `dep_vlist' `indep_vlist'

              storage  display     value
variable name   type   format      label      variable label
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
pid             float  %9.0g                  ID (unique for whole panel)
year            int    %ty         yy         year
lntotalspecif~s double %9.0g                  
lndairyproducts double %9.0g                  
lnPTotalCattle  double %9.0g                  
lnPCompoundfe~t double %9.0g                  
lnPFERTILISER~S double %9.0g                  

. summ        pid year `dep_vlist' `indep_vlist'

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
         pid |     28753    3509.337    2307.203          1       7742
        year |     28753    2002.886    2.578091       1999       2007
lntotalspe~s |     28753    10.59034    .8363159   5.529429   14.09032
lndairypro~s |     28747     12.5815    .7696248   8.268732   15.75065
lnPTotalCa~e |     28753   -.0020111    .0826745  -.1154109   .1241626
-------------+--------------------------------------------------------
lnPCompoun~t |     28753    4.653798    .0694497   4.562263   4.852811
lnPFERTILI~S |     28753    4.747869    .1422505   4.517431   5.136386

. 
. * Panel characterstics
. xtdescribe 

     pid:  1, 2, ..., 7742                                   n =       7709
    year:  1999, 2000, ..., 2007                             T =          9
           Delta(year) = 1 year
           Span(year)  = 9 periods
           (pid*year uniquely identifies each observation)

Distribution of T_i:   min      5%     25%       50%       75%     95%     max
                         1       1       1         3         6       9       9

     Freq.  Percent    Cum. |  Pattern
 ---------------------------+-----------
      845     10.96   10.96 |  111111111
      702      9.11   20.07 |  1........
      688      8.92   28.99 |  11.......
      373      4.84   33.83 |  ........1
      231      3.00   36.83 |  111......
      230      2.98   39.81 |  .......11
      203      2.63   42.44 |  ..1111111
      202      2.62   45.06 |  .1.......
      198      2.57   47.63 |  ..1......
     4037     52.37  100.00 | (other patterns)
 ---------------------------+-----------
     7709    100.00         |  XXXXXXXXX

. xtsum       pid year `dep_vlist' `indep_vlist'

Variable         |      Mean   Std. Dev.       Min        Max |    Observations
-----------------+--------------------------------------------+----------------
pid      overall |  3509.337   2307.203          1       7742 |     N =   28753
         between |              2236.93          1       7742 |     n =    7709
         within  |                    0   3509.337   3509.337 | T-bar =  3.7298
                 |                                            |
year     overall |  2002.886   2.578091       1999       2007 |     N =   28753
         between |             2.333301       1999       2007 |     n =    7709
         within  |             1.953716   1997.636   2008.136 | T-bar =  3.7298
                 |                                            |
lntota~s overall |  10.59034   .8363159   5.529429   14.09032 |     N =   28753
         between |             .8654513   5.529429   13.80699 |     n =    7709
         within  |             .1697864   8.755104   12.40564 | T-bar =  3.7298
                 |                                            |
lndair~s overall |   12.5815   .7696248   8.268732   15.75065 |     N =   28747
         between |             .8021383   8.268732   15.60458 |     n =    7705
         within  |             .1256265   10.20696   14.37921 | T-bar = 3.73095
                 |                                            |
lnPTot~e overall | -.0020111   .0826745  -.1154109   .1241626 |     N =   28753
         between |             .0671015  -.1154109   .1241626 |     n =    7709
         within  |             .0677761  -.1642726   .1546755 | T-bar =  3.7298
                 |                                            |
lnPCom~t overall |  4.653798   .0694497   4.562263   4.852811 |     N =   28753
         between |             .0495151   4.562263   4.852811 |     n =    7709
         within  |             .0607838   4.509045   4.861423 | T-bar =  3.7298
                 |                                            |
lnPFER~S overall |  4.747869   .1422505   4.517431   5.136386 |     N =   28753
         between |             .1300917   4.517431   5.136386 |     n =    7709
         within  |             .1055226   4.435519   5.087929 | T-bar =  3.7298

. 
. 
. capture erase panel_est.doc

. 
. * Pooled OLS
. reg `dep_vlist' `indep_vlist'

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  4, 28742) =40212.64
       Model |  17020.6246     4  4255.15615           Prob > F      =  0.0000
    Residual |  3041.37433 28742  .105816378           R-squared     =  0.8484
-------------+------------------------------           Adj R-squared =  0.8484
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32529

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9842823   .0025527   385.59   0.000      .979279    .9892857
                 lnPTotalCattle |  -.1877354   .0400451    -4.69   0.000    -.2662257   -.1092452
lnPCompoundfeedingstuffsforcatt |   .4729934   .0372947    12.68   0.000      .399894    .5460927
 lnPFERTILISERSANDSOILIMPROVERS |    .337648   .0272545    12.39   0.000     .2842278    .3910682
                          _cons |  -5.597614    .156219   -35.83   0.000     -5.90381   -5.291417
-------------------------------------------------------------------------------------------------

. outreg using panel_est, nodisplay ctitle("", Pooled) ///
>   starlevels(10 5 1)

. more

. 
. * Population-averaged estimator
. xtreg `dep_vlist' `indep_vlist', pa

Iteration 1: tolerance = .17703364
Iteration 2: tolerance = .01196369
Iteration 3: tolerance = .00075086
Iteration 4: tolerance = .00004741
Iteration 5: tolerance = 2.994e-06
Iteration 6: tolerance = 1.892e-07

GEE population-averaged model                   Number of obs      =     28747
Group variable:                        pid      Number of groups   =      7705
Link:                             identity      Obs per group: min =         1
Family:                           Gaussian                     avg =       3.7
Correlation:                  exchangeable                     max =         9
                                                Wald chi2(4)       =  63305.49
Scale parameter:                  .1087099      Prob > chi2        =    0.0000

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |    .925367   .0038934   237.68   0.000     .9177361    .9329979
                 lnPTotalCattle |  -.0269215   .0257284    -1.05   0.295    -.0773483    .0235052
lnPCompoundfeedingstuffsforcatt |   .5280953   .0224985    23.47   0.000      .483999    .5721915
 lnPFERTILISERSANDSOILIMPROVERS |   .1839451   .0190042     9.68   0.000     .1466975    .2211926
                          _cons |  -4.360357   .1035123   -42.12   0.000    -4.563237   -4.157476
-------------------------------------------------------------------------------------------------

. outreg using panel_est, merge nodisplay ctitle("", Pop. Avg.)

. more

. 
. 
. * Between estimator
. xtreg `dep_vlist' `indep_vlist', be

Between regression (regression on group means)  Number of obs      =     28747
Group variable: pid                             Number of groups   =      7705

R-sq:  within  = 0.3921                         Obs per group: min =         1
       between = 0.8615                                        avg =       3.7
       overall = 0.8470                                        max =         9

                                                F(4,7700)          =  11971.70
sd(u_i + avg(e_i.))=  .3209633                  Prob > F           =    0.0000

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9801727    .004689   209.04   0.000     .9709809    .9893644
                 lnPTotalCattle |  -.5979135   .1112253    -5.38   0.000    -.8159453   -.3798817
lnPCompoundfeedingstuffsforcatt |   .8862719   .1358724     6.52   0.000     .6199251    1.152619
 lnPFERTILISERSANDSOILIMPROVERS |   .4530183   .0700407     6.47   0.000     .3157194    .5903172
                          _cons |  -7.990956   .5250644   -15.22   0.000    -9.020225   -6.961687
-------------------------------------------------------------------------------------------------

. outreg using panel_est, merge nodisplay ctitle("", Between)

. more

. 
. 
. * Fixed effects estimator 
. xtreg `dep_vlist' `indep_vlist', fe

Fixed-effects (within) regression               Number of obs      =     28747
Group variable: pid                             Number of groups   =      7705

R-sq:  within  = 0.4091                         Obs per group: min =         1
       between = 0.8606                                        avg =       3.7
       overall = 0.8470                                        max =         9

                                                F(4,21038)         =   3641.51
corr(u_i, Xb)  = 0.6210                         Prob > F           =    0.0000

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .6757366    .007442    90.80   0.000     .6611498    .6903234
                 lnPTotalCattle |   .0603932   .0225925     2.67   0.008       .01611    .1046763
lnPCompoundfeedingstuffsforcatt |    .546399   .0194259    28.13   0.000     .5083228    .5844752
 lnPFERTILISERSANDSOILIMPROVERS |     .18524   .0170229    10.88   0.000     .1518739    .2186061
                          _cons |  -1.333147   .1180743   -11.29   0.000    -1.564581   -1.101712
--------------------------------+----------------------------------------------------------------
                        sigma_u |  .40596164
                        sigma_e |  .15256038
                            rho |  .87625091   (fraction of variance due to u_i)
-------------------------------------------------------------------------------------------------
F test that all u_i=0:     F(7704, 21038) =    14.23         Prob > F = 0.0000

. estimates store fixed

. predict alphafehat, u
(6 missing values generated)

. outreg using panel_est, merge nodisplay ctitle("", FE)

. more

. 
. 
. * First-differences estimator
. reg D.(`dep_vlist' `indep_vlist'), noconstant

      Source |       SS       df       MS              Number of obs =   19468
-------------+------------------------------           F(  4, 19464) = 1509.42
       Model |  202.611976     4   50.652994           Prob > F      =  0.0000
    Residual |  653.170445 19464  .033557873           R-squared     =  0.2368
-------------+------------------------------           Adj R-squared =  0.2366
       Total |  855.782421 19468  .043958415           Root MSE      =  .18319

-------------------------------------------------------------------------------------------------
         D.lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |
                            D1. |    .569515   .0086278    66.01   0.000     .5526038    .5864262
                                |
                 lnPTotalCattle |
                            D1. |   .0311315   .0203656     1.53   0.126    -.0087867    .0710498
                                |
lnPCompoundfeedingstuffsforcatt |
                            D1. |   .4054482    .017167    23.62   0.000     .3717994    .4390969
                                |
 lnPFERTILISERSANDSOILIMPROVERS |
                            D1. |   .2610058   .0193543    13.49   0.000     .2230697     .298942
-------------------------------------------------------------------------------------------------

. outreg using panel_est, merge nodisplay ctitle("", 1st Diff)

. more

. 
. 
. * Random effects estimator
. xtreg `dep_vlist' `indep_vlist', re theta

Random-effects GLS regression                   Number of obs      =     28747
Group variable: pid                             Number of groups   =      7705

R-sq:  within  = 0.4025                         Obs per group: min =         1
       between = 0.8607                                        avg =       3.7
       overall = 0.8482                                        max =         9

                                                Wald chi2(4)       =  58552.37
corr(u_i, X)   = 0 (assumed)                    Prob > chi2        =    0.0000

------------------- theta --------------------
  min      5%       median        95%      max
0.5505   0.5505     0.7210     0.8346   0.8346

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9002588   .0040006   225.03   0.000     .8924177    .9080999
                 lnPTotalCattle |  -.0089125   .0225515    -0.40   0.693    -.0531126    .0352875
lnPCompoundfeedingstuffsforcatt |    .531027   .0196137    27.07   0.000     .4925848    .5694691
 lnPFERTILISERSANDSOILIMPROVERS |   .1748235   .0167653    10.43   0.000     .1419642    .2076828
                          _cons |  -4.013033   .0937153   -42.82   0.000    -4.196712   -3.829355
--------------------------------+----------------------------------------------------------------
                        sigma_u |  .30314356
                        sigma_e |  .15256038
                            rho |  .79791152   (fraction of variance due to u_i)
-------------------------------------------------------------------------------------------------

. estimates store random

. outreg using panel_est, merge ctitle("", RE) 

                            ------------------------------------------------------------------------------------------------------------
                                                                   Pooled     Pop. Avg.    Between       FE      1st Diff       RE     
                            ------------------------------------------------------------------------------------------------------------
                             lndairyproducts                        0.984       0.925       0.980       0.676                 0.900    
                                                                 (385.59)***  (237.68)**  (209.04)**  (90.80)**             (225.03)** 
                             lnPTotalCattle                        -0.188       -0.027      -0.598      0.060                 -0.009   
                                                                  (4.69)***     (1.05)     (5.38)**   (2.67)**                (0.40)   
                             lnPCompoundfeedingstuffsforcatt        0.473       0.528       0.886       0.546                 0.531    
                                                                 (12.68)***   (23.47)**    (6.52)**   (28.13)**             (27.07)**  
                             lnPFERTILISERSANDSOILIMPROVERS         0.338       0.184       0.453       0.185                 0.175    
                                                                 (12.39)***    (9.68)**    (6.47)**   (10.88)**             (10.43)**  
                             D.lndairyproducts                                                                     0.570               
                                                                                                                 (66.01)**             
                             D.lnPTotalCattle                                                                      0.031               
                                                                                                                  (1.53)               
                             D.lnPCompoundfeedingstuffsforcatt                                                     0.405               
                                                                                                                 (23.62)**             
                             D.lnPFERTILISERSANDSOILIMPROVERS                                                      0.261               
                                                                                                                 (13.49)**             
                             _cons                                 -5.598       -4.360      -7.991     -1.333                 -4.013   
                                                                 (35.83)***   (42.12)**   (15.22)**   (11.29)**             (42.82)**  
                             R2                                     0.85                     0.86       0.41       0.24                
                             N                                     28,747       28,747      28,747     28,747     19,468      28,747   
                            ------------------------------------------------------------------------------------------------------------
                                                                   * p<0.1; ** p<0.05; *** p<0.01


. more

. 
. * Hausman test for RE vs FE
. hausman fixed random

                 ---- Coefficients ----
             |      (b)          (B)            (b-B)     sqrt(diag(V_b-V_B))
             |     fixed        random       Difference          S.E.
-------------+----------------------------------------------------------------
lndairypro~s |    .6757366     .9002588       -.2245222        .0062752
lnPTotalCa~e |    .0603932    -.0089125        .0693057        .0013618
lnPCompoun~t |     .546399      .531027        .0153721               .
lnPFERTILI~S |      .18524     .1748235        .0104165        .0029503
------------------------------------------------------------------------------
                           b = consistent under Ho and Ha; obtained from xtreg
            B = inconsistent under Ha, efficient under Ho; obtained from xtreg

    Test:  Ho:  difference in coefficients not systematic

                  chi2(4) = (b-B)'[(V_b-V_B)^(-1)](b-B)
                          =     1265.61
                Prob>chi2 =      0.0000
                (V_b-V_B is not positive definite)

. 
. 
. * Breusch-Pagan LM test for RE vs OLS
. estimates restore random // make sure RE estimates are active
(results random are active now)

. xttest0

Breusch and Pagan Lagrangian multiplier test for random effects

        lntotalspecificcosts[pid,t] = Xb + u[pid] + e[pid,t]

        Estimated results:
                         |       Var     sd = sqrt(Var)
                ---------+-----------------------------
               lntotal~s |   .6979058       .8354075
                       e |   .0232747       .1525604
                       u |    .091896       .3031436

        Test:   Var(u) = 0
                             chibar2(01) = 31363.32
                          Prob > chibar2 =   0.0000

. 
. * Individual specific effects from FE
. summ alphafehat

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
  alphafehat |     28747   -1.38e-10    .3821813  -2.476685   2.227497

. hist alphafehat
(bin=44, start=-2.4766853, width=.10691323)

. 
. 
. restore

. STOP!!!
unrecognized command:  STOP
r(199);

end of do-file
r(199);

end of do-file

r(199);

. do msward_WFSresults_cost_2014_09_22.do

. * Based on msward_code_clarity.do
. capture log close
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.txt
  log type:  text
 opened on:  22 Sep 2014, 18:59:33

. di  "Job  Started  at  $S_TIME  on $S_DATE"
Job  Started  at  18:59:33  on 22 Sep 2014

. cmdlog using logs/$project$datestamp.cmd.txt, append 
(cmdlog D:\Data\data_FADNPanelAnalysis\Do_Files\multisward\logs/multisward2014_09_22.cmd.txt opened)

. 
. 
. 
. 
. preserve

. 
. 
. drop country

. gen int country = countrycode2

. keep pid year country `dep_vlist' `indep_vlist' `z_vlist' TREND

. 
. outsheet _all using `fadnoutdatadir'/exported_data.csv, comma replace nolabel

. save `fadnoutdatadir'/exported_data.dta, replace nolabel
file D:\\Data/data_FADNPanelAnalysis/OutData/multisward/exported_data.dta saved

. 
. restore

. 
. local vlist "`dep_vlist' `indep_vlist'"

. foreach var of  local vlist {
  2. 
.   recast double `var'
  3. 
. }

. 
. 
. set more on

. do sub_do/diagnostics.do "`dep_vlist'" "`indep_vlist'"

. args dep_vlist indep_vlist

. 
. macro list _dep_vlist _indep_vlist 
_dep_vlist:     lntotalspecificcosts
_indep_vlist:   lndairyproducts lnPTotalCattle lnPCompoundfeedingstuffsforcatt lnPFERTILISERSANDSOILIMPROVERS

. 
. preserve

. 
. keep `dep_vlist' `indep_vlist' country pid year

. 
. qui reg  `dep_vlist' `indep_vlist' 

. predict xb , xb
(6 missing values generated)

. predict r  , resid
(6 missing values generated)

. predict rst, rstudent
(6 missing values generated)

. predict lev, hat
(6 missing values generated)

. 
. 
. /* Detecting Unusual and Influential Data
> ---------------------------------------------*/
. rvfplot

.   more

. lvr2plot 

.   more

. 
. foreach var of local indep_vlist {
  2.   avplot  `var'
  3.   more
  4.   rvpplot `var', yline(10)
  5.   more
  6. 
. }

. 
. graph drop _all

. 
. 
. /* Hadi's (1992, 1994) Algorithm to ID possible outliers, optimized by
>      Weber (2010) */
. bacon `dep_vlist' `indep_vlist', gen(out1)

Total number of observations:       28747
   BACON outliers (p = 0.15):           5
      Non-outliers remaining:       28742

. tw sc rst xb, ml(out1)

. tw sc rst xb if out1 == 1, ml(country)

. more

. 
. /* Tests for Normality of Residuals 
>    (for SFA, we expect them to be non-normal. 
>     They would be skewed if there is 
>     inefficiency present, but they must be 
>     LEFT-SKEWED!!!)
> --------------------------------------------- */
. kdensity r, norm

. more

. 
. 
. /* Tests for Multicollinearity
> ---------------------------------------------*/
. vif

    Variable |       VIF       1/VIF  
-------------+----------------------
lnPFERTILI~S |      4.08    0.244908
lnPTotalCa~e |      2.98    0.335866
lnPCompoun~t |      1.82    0.548923
lndairypro~s |      1.05    0.953744
-------------+----------------------
    Mean VIF |      2.48

. more

. 
. 
. /* Tests for Non-Linearity
> ---------------------------------------------*/
. foreach var of local indep_vlist {
  2. 
.   acprplot `var'
  3.   more
  4.   cprplot `var'
  5.   more
  6. 
. }

. 
. 
. /* Tests for Model Specification
> ---------------------------------------------*/
. linktest 

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  2, 28744) =81524.36
       Model |  17055.3044     2  8527.65221           Prob > F      =  0.0000
    Residual |   3006.6945 28744  .104602509           R-squared     =  0.8501
-------------+------------------------------           Adj R-squared =  0.8501
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32342

------------------------------------------------------------------------------
lntotalspe~s |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        _hat |   .1932986   .0443736     4.36   0.000     .1063243    .2802729
      _hatsq |   .0378719   .0020799    18.21   0.000     .0337951    .0419487
       _cons |   4.273287   .2361619    18.09   0.000     3.810399    4.736175
------------------------------------------------------------------------------

. more

. ovtest 

Ramsey RESET test using powers of the fitted values of lntotalspecificcosts
       Ho:  model has no omitted variables
               F(3, 28739) =    193.55
                  Prob > F =      0.0000

. more

. 
. graph drop _all

. 
. 
. * Data description
. describe    pid year `dep_vlist' `indep_vlist'

              storage  display     value
variable name   type   format      label      variable label
--------------------------------------------------------------------------------------------------------------------------------------------------------------------
pid             float  %9.0g                  ID (unique for whole panel)
year            int    %ty         yy         year
lntotalspecif~s double %9.0g                  
lndairyproducts double %9.0g                  
lnPTotalCattle  double %9.0g                  
lnPCompoundfe~t double %9.0g                  
lnPFERTILISER~S double %9.0g                  

. summ        pid year `dep_vlist' `indep_vlist'

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
         pid |     28753    3509.337    2307.203          1       7742
        year |     28753    2002.886    2.578091       1999       2007
lntotalspe~s |     28753    10.59034    .8363159   5.529429   14.09032
lndairypro~s |     28747     12.5815    .7696248   8.268732   15.75065
lnPTotalCa~e |     28753   -.0020111    .0826745  -.1154109   .1241626
-------------+--------------------------------------------------------
lnPCompoun~t |     28753    4.653798    .0694497   4.562263   4.852811
lnPFERTILI~S |     28753    4.747869    .1422505   4.517431   5.136386

. 
. * Panel characterstics
. xtdescribe 

     pid:  1, 2, ..., 7742                                   n =       7709
    year:  1999, 2000, ..., 2007                             T =          9
           Delta(year) = 1 year
           Span(year)  = 9 periods
           (pid*year uniquely identifies each observation)

Distribution of T_i:   min      5%     25%       50%       75%     95%     max
                         1       1       1         3         6       9       9

     Freq.  Percent    Cum. |  Pattern
 ---------------------------+-----------
      845     10.96   10.96 |  111111111
      702      9.11   20.07 |  1........
      688      8.92   28.99 |  11.......
      373      4.84   33.83 |  ........1
      231      3.00   36.83 |  111......
      230      2.98   39.81 |  .......11
      203      2.63   42.44 |  ..1111111
      202      2.62   45.06 |  .1.......
      198      2.57   47.63 |  ..1......
     4037     52.37  100.00 | (other patterns)
 ---------------------------+-----------
     7709    100.00         |  XXXXXXXXX

. xtsum       pid year `dep_vlist' `indep_vlist'

Variable         |      Mean   Std. Dev.       Min        Max |    Observations
-----------------+--------------------------------------------+----------------
pid      overall |  3509.337   2307.203          1       7742 |     N =   28753
         between |              2236.93          1       7742 |     n =    7709
         within  |                    0   3509.337   3509.337 | T-bar =  3.7298
                 |                                            |
year     overall |  2002.886   2.578091       1999       2007 |     N =   28753
         between |             2.333301       1999       2007 |     n =    7709
         within  |             1.953716   1997.636   2008.136 | T-bar =  3.7298
                 |                                            |
lntota~s overall |  10.59034   .8363159   5.529429   14.09032 |     N =   28753
         between |             .8654513   5.529429   13.80699 |     n =    7709
         within  |             .1697864   8.755104   12.40564 | T-bar =  3.7298
                 |                                            |
lndair~s overall |   12.5815   .7696248   8.268732   15.75065 |     N =   28747
         between |             .8021383   8.268732   15.60458 |     n =    7705
         within  |             .1256265   10.20696   14.37921 | T-bar = 3.73095
                 |                                            |
lnPTot~e overall | -.0020111   .0826745  -.1154109   .1241626 |     N =   28753
         between |             .0671015  -.1154109   .1241626 |     n =    7709
         within  |             .0677761  -.1642726   .1546755 | T-bar =  3.7298
                 |                                            |
lnPCom~t overall |  4.653798   .0694497   4.562263   4.852811 |     N =   28753
         between |             .0495151   4.562263   4.852811 |     n =    7709
         within  |             .0607838   4.509045   4.861423 | T-bar =  3.7298
                 |                                            |
lnPFER~S overall |  4.747869   .1422505   4.517431   5.136386 |     N =   28753
         between |             .1300917   4.517431   5.136386 |     n =    7709
         within  |             .1055226   4.435519   5.087929 | T-bar =  3.7298

. 
. 
. capture erase panel_est.doc

. 
. * Pooled OLS
. reg `dep_vlist' `indep_vlist'

      Source |       SS       df       MS              Number of obs =   28747
-------------+------------------------------           F(  4, 28742) =40212.64
       Model |  17020.6246     4  4255.15615           Prob > F      =  0.0000
    Residual |  3041.37433 28742  .105816378           R-squared     =  0.8484
-------------+------------------------------           Adj R-squared =  0.8484
       Total |  20061.9989 28746  .697905758           Root MSE      =  .32529

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9842823   .0025527   385.59   0.000      .979279    .9892857
                 lnPTotalCattle |  -.1877354   .0400451    -4.69   0.000    -.2662257   -.1092452
lnPCompoundfeedingstuffsforcatt |   .4729934   .0372947    12.68   0.000      .399894    .5460927
 lnPFERTILISERSANDSOILIMPROVERS |    .337648   .0272545    12.39   0.000     .2842278    .3910682
                          _cons |  -5.597614    .156219   -35.83   0.000     -5.90381   -5.291417
-------------------------------------------------------------------------------------------------

. outreg using panel_est, nodisplay ctitle("", Pooled) ///
>   starlevels(10 5 1)

. more

. 
. * Population-averaged estimator
. xtreg `dep_vlist' `indep_vlist', pa

Iteration 1: tolerance = .17703364
Iteration 2: tolerance = .01196369
Iteration 3: tolerance = .00075086
Iteration 4: tolerance = .00004741
Iteration 5: tolerance = 2.994e-06
Iteration 6: tolerance = 1.892e-07

GEE population-averaged model                   Number of obs      =     28747
Group variable:                        pid      Number of groups   =      7705
Link:                             identity      Obs per group: min =         1
Family:                           Gaussian                     avg =       3.7
Correlation:                  exchangeable                     max =         9
                                                Wald chi2(4)       =  63305.49
Scale parameter:                  .1087099      Prob > chi2        =    0.0000

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |    .925367   .0038934   237.68   0.000     .9177361    .9329979
                 lnPTotalCattle |  -.0269215   .0257284    -1.05   0.295    -.0773483    .0235052
lnPCompoundfeedingstuffsforcatt |   .5280953   .0224985    23.47   0.000      .483999    .5721915
 lnPFERTILISERSANDSOILIMPROVERS |   .1839451   .0190042     9.68   0.000     .1466975    .2211926
                          _cons |  -4.360357   .1035123   -42.12   0.000    -4.563237   -4.157476
-------------------------------------------------------------------------------------------------

. outreg using panel_est, merge nodisplay ctitle("", Pop. Avg.)

. more

. 
. 
. * Between estimator
. xtreg `dep_vlist' `indep_vlist', be

Between regression (regression on group means)  Number of obs      =     28747
Group variable: pid                             Number of groups   =      7705

R-sq:  within  = 0.3921                         Obs per group: min =         1
       between = 0.8615                                        avg =       3.7
       overall = 0.8470                                        max =         9

                                                F(4,7700)          =  11971.70
sd(u_i + avg(e_i.))=  .3209633                  Prob > F           =    0.0000

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9801727    .004689   209.04   0.000     .9709809    .9893644
                 lnPTotalCattle |  -.5979135   .1112253    -5.38   0.000    -.8159453   -.3798817
lnPCompoundfeedingstuffsforcatt |   .8862719   .1358724     6.52   0.000     .6199251    1.152619
 lnPFERTILISERSANDSOILIMPROVERS |   .4530183   .0700407     6.47   0.000     .3157194    .5903172
                          _cons |  -7.990956   .5250644   -15.22   0.000    -9.020225   -6.961687
-------------------------------------------------------------------------------------------------

. outreg using panel_est, merge nodisplay ctitle("", Between)

. more

. 
. 
. * Fixed effects estimator 
. xtreg `dep_vlist' `indep_vlist', fe

Fixed-effects (within) regression               Number of obs      =     28747
Group variable: pid                             Number of groups   =      7705

R-sq:  within  = 0.4091                         Obs per group: min =         1
       between = 0.8606                                        avg =       3.7
       overall = 0.8470                                        max =         9

                                                F(4,21038)         =   3641.51
corr(u_i, Xb)  = 0.6210                         Prob > F           =    0.0000

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .6757366    .007442    90.80   0.000     .6611498    .6903234
                 lnPTotalCattle |   .0603932   .0225925     2.67   0.008       .01611    .1046763
lnPCompoundfeedingstuffsforcatt |    .546399   .0194259    28.13   0.000     .5083228    .5844752
 lnPFERTILISERSANDSOILIMPROVERS |     .18524   .0170229    10.88   0.000     .1518739    .2186061
                          _cons |  -1.333147   .1180743   -11.29   0.000    -1.564581   -1.101712
--------------------------------+----------------------------------------------------------------
                        sigma_u |  .40596164
                        sigma_e |  .15256038
                            rho |  .87625091   (fraction of variance due to u_i)
-------------------------------------------------------------------------------------------------
F test that all u_i=0:     F(7704, 21038) =    14.23         Prob > F = 0.0000

. estimates store fixed

. predict alphafehat, u
(6 missing values generated)

. outreg using panel_est, merge nodisplay ctitle("", FE)

. more

. 
. 
. * First-differences estimator
. reg D.(`dep_vlist' `indep_vlist'), noconstant

      Source |       SS       df       MS              Number of obs =   19468
-------------+------------------------------           F(  4, 19464) = 1509.42
       Model |  202.611976     4   50.652994           Prob > F      =  0.0000
    Residual |  653.170445 19464  .033557873           R-squared     =  0.2368
-------------+------------------------------           Adj R-squared =  0.2366
       Total |  855.782421 19468  .043958415           Root MSE      =  .18319

-------------------------------------------------------------------------------------------------
         D.lntotalspecificcosts |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |
                            D1. |    .569515   .0086278    66.01   0.000     .5526038    .5864262
                                |
                 lnPTotalCattle |
                            D1. |   .0311315   .0203656     1.53   0.126    -.0087867    .0710498
                                |
lnPCompoundfeedingstuffsforcatt |
                            D1. |   .4054482    .017167    23.62   0.000     .3717994    .4390969
                                |
 lnPFERTILISERSANDSOILIMPROVERS |
                            D1. |   .2610058   .0193543    13.49   0.000     .2230697     .298942
-------------------------------------------------------------------------------------------------

. outreg using panel_est, merge nodisplay ctitle("", 1st Diff)

. more

. 
. 
. * Random effects estimator
. xtreg `dep_vlist' `indep_vlist', re theta

Random-effects GLS regression                   Number of obs      =     28747
Group variable: pid                             Number of groups   =      7705

R-sq:  within  = 0.4025                         Obs per group: min =         1
       between = 0.8607                                        avg =       3.7
       overall = 0.8482                                        max =         9

                                                Wald chi2(4)       =  58552.37
corr(u_i, X)   = 0 (assumed)                    Prob > chi2        =    0.0000

------------------- theta --------------------
  min      5%       median        95%      max
0.5505   0.5505     0.7210     0.8346   0.8346

-------------------------------------------------------------------------------------------------
           lntotalspecificcosts |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]
--------------------------------+----------------------------------------------------------------
                lndairyproducts |   .9002588   .0040006   225.03   0.000     .8924177    .9080999
                 lnPTotalCattle |  -.0089125   .0225515    -0.40   0.693    -.0531126    .0352875
lnPCompoundfeedingstuffsforcatt |    .531027   .0196137    27.07   0.000     .4925848    .5694691
 lnPFERTILISERSANDSOILIMPROVERS |   .1748235   .0167653    10.43   0.000     .1419642    .2076828
                          _cons |  -4.013033   .0937153   -42.82   0.000    -4.196712   -3.829355
--------------------------------+----------------------------------------------------------------
                        sigma_u |  .30314356
                        sigma_e |  .15256038
                            rho |  .79791152   (fraction of variance due to u_i)
-------------------------------------------------------------------------------------------------

. estimates store random

. outreg using panel_est, merge ctitle("", RE) 

                            ------------------------------------------------------------------------------------------------------------
                                                                   Pooled     Pop. Avg.    Between       FE      1st Diff       RE     
                            ------------------------------------------------------------------------------------------------------------
                             lndairyproducts                        0.984       0.925       0.980       0.676                 0.900    
                                                                 (385.59)***  (237.68)**  (209.04)**  (90.80)**             (225.03)** 
                             lnPTotalCattle                        -0.188       -0.027      -0.598      0.060                 -0.009   
                                                                  (4.69)***     (1.05)     (5.38)**   (2.67)**                (0.40)   
                             lnPCompoundfeedingstuffsforcatt        0.473       0.528       0.886       0.546                 0.531    
                                                                 (12.68)***   (23.47)**    (6.52)**   (28.13)**             (27.07)**  
                             lnPFERTILISERSANDSOILIMPROVERS         0.338       0.184       0.453       0.185                 0.175    
                                                                 (12.39)***    (9.68)**    (6.47)**   (10.88)**             (10.43)**  
                             D.lndairyproducts                                                                     0.570               
                                                                                                                 (66.01)**             
                             D.lnPTotalCattle                                                                      0.031               
                                                                                                                  (1.53)               
                             D.lnPCompoundfeedingstuffsforcatt                                                     0.405               
                                                                                                                 (23.62)**             
                             D.lnPFERTILISERSANDSOILIMPROVERS                                                      0.261               
                                                                                                                 (13.49)**             
                             _cons                                 -5.598       -4.360      -7.991     -1.333                 -4.013   
                                                                 (35.83)***   (42.12)**   (15.22)**   (11.29)**             (42.82)**  
                             R2                                     0.85                     0.86       0.41       0.24                
                             N                                     28,747       28,747      28,747     28,747     19,468      28,747   
                            ------------------------------------------------------------------------------------------------------------
                                                                   * p<0.1; ** p<0.05; *** p<0.01


. more

. 
. * Hausman test for RE vs FE
. hausman fixed random

                 ---- Coefficients ----
             |      (b)          (B)            (b-B)     sqrt(diag(V_b-V_B))
             |     fixed        random       Difference          S.E.
-------------+----------------------------------------------------------------
lndairypro~s |    .6757366     .9002588       -.2245222        .0062752
lnPTotalCa~e |    .0603932    -.0089125        .0693057        .0013618
lnPCompoun~t |     .546399      .531027        .0153721               .
lnPFERTILI~S |      .18524     .1748235        .0104165        .0029503
------------------------------------------------------------------------------
                           b = consistent under Ho and Ha; obtained from xtreg
            B = inconsistent under Ha, efficient under Ho; obtained from xtreg

    Test:  Ho:  difference in coefficients not systematic

                  chi2(4) = (b-B)'[(V_b-V_B)^(-1)](b-B)
                          =     1265.61
                Prob>chi2 =      0.0000
                (V_b-V_B is not positive definite)

. 
. 
. * Breusch-Pagan LM test for RE vs OLS
. estimates restore random // make sure RE estimates are active
(results random are active now)

. xttest0

Breusch and Pagan Lagrangian multiplier test for random effects

        lntotalspecificcosts[pid,t] = Xb + u[pid] + e[pid,t]

        Estimated results:
                         |       Var     sd = sqrt(Var)
                ---------+-----------------------------
               lntotal~s |   .6979058       .8354075
                       e |   .0232747       .1525604
                       u |    .091896       .3031436

        Test:   Var(u) = 0
                             chibar2(01) = 31363.32
                          Prob > chibar2 =   0.0000

. 
. * Individual specific effects from FE
. summ alphafehat

    Variable |       Obs        Mean    Std. Dev.       Min        Max
-------------+--------------------------------------------------------
  alphafehat |     28747   -1.38e-10    .3821813  -2.476685   2.227497

. hist alphafehat
(bin=44, start=-2.4766853, width=.10691323)

. more

. 
. restore

. graph drop _all

. STOP!!!
unrecognized command:  STOP
r(199);

end of do-file
r(199);

end of do-file

r(199);

. help xtreg

. exit,, clear
invalid 'clear' 
r(198);

. exit, clear
